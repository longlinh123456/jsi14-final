function n6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function r6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i6={exports:{}},vd={},s6={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),NC=Symbol.for("react.portal"),xC=Symbol.for("react.fragment"),bC=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),PC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),MC=Symbol.for("react.forward_ref"),OC=Symbol.for("react.suspense"),FC=Symbol.for("react.memo"),$C=Symbol.for("react.lazy"),nm=Symbol.iterator;function UC(t){return t===null||typeof t!="object"?null:(t=nm&&t[nm]||t["@@iterator"],typeof t=="function"?t:null)}var o6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a6=Object.assign,l6={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=l6,this.updater=n||o6}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u6(){}u6.prototype=Zo.prototype;function Hp(t,e,n){this.props=t,this.context=e,this.refs=l6,this.updater=n||o6}var Wp=Hp.prototype=new u6;Wp.constructor=Hp;a6(Wp,Zo.prototype);Wp.isPureReactComponent=!0;var rm=Array.isArray,c6=Object.prototype.hasOwnProperty,qp={current:null},h6={key:!0,ref:!0,__self:!0,__source:!0};function d6(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)c6.call(e,r)&&!h6.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cu,type:t,key:s,ref:o,props:i,_owner:qp.current}}function VC(t,e){return{$$typeof:cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kp(t){return typeof t=="object"&&t!==null&&t.$$typeof===cu}function zC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var im=/\/+/g;function x0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zC(""+t.key):e.toString(36)}function bc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cu:case NC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+x0(o,0):r,rm(i)?(n="",t!=null&&(n=t.replace(im,"$&/")+"/"),bc(i,e,n,"",function(u){return u})):i!=null&&(Kp(i)&&(i=VC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(im,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+x0(s,a);o+=bc(s,e,n,l,i)}else if(l=UC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+x0(s,a++),o+=bc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zu(t,e,n){if(t==null)return t;var r=[],i=0;return bc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Ac={transition:null},BC={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:qp};function f6(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Zu,forEach:function(t,e,n){Zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zu(t,function(){e++}),e},toArray:function(t){return Zu(t,function(e){return e})||[]},only:function(t){if(!Kp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Zo;ue.Fragment=xC;ue.Profiler=AC;ue.PureComponent=Hp;ue.StrictMode=bC;ue.Suspense=OC;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BC;ue.act=f6;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a6({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)c6.call(e,l)&&!h6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cu,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:DC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PC,_context:t},t.Consumer=t};ue.createElement=d6;ue.createFactory=function(t){var e=d6.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:MC,render:t}};ue.isValidElement=Kp;ue.lazy=function(t){return{$$typeof:$C,_payload:{_status:-1,_result:t},_init:jC}};ue.memo=function(t,e){return{$$typeof:FC,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};ue.unstable_act=f6;ue.useCallback=function(t,e){return qt.current.useCallback(t,e)};ue.useContext=function(t){return qt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return qt.current.useEffect(t,e)};ue.useId=function(){return qt.current.useId()};ue.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return qt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};ue.useRef=function(t){return qt.current.useRef(t)};ue.useState=function(t){return qt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return qt.current.useTransition()};ue.version="18.3.1";s6.exports=ue;var k=s6.exports;const p6=r6(k),HC=n6({__proto__:null,default:p6},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC=k,qC=Symbol.for("react.element"),KC=Symbol.for("react.fragment"),GC=Object.prototype.hasOwnProperty,QC=WC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YC={key:!0,ref:!0,__self:!0,__source:!0};function m6(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GC.call(e,r)&&!YC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qC,type:t,key:s,ref:o,props:i,_owner:QC.current}}vd.Fragment=KC;vd.jsx=m6;vd.jsxs=m6;i6.exports=vd;var Gp=i6.exports;const ml=Gp.Fragment,_=Gp.jsx,H=Gp.jsxs;var Hf={},g6={exports:{}},mn={},v6={exports:{}},y6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,X){var ee=O.length;O.push(X);e:for(;0<ee;){var ve=ee-1>>>1,Ne=O[ve];if(0<i(Ne,X))O[ve]=X,O[ee]=Ne,ee=ve;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var X=O[0],ee=O.pop();if(ee!==X){O[0]=ee;e:for(var ve=0,Ne=O.length,Bn=Ne>>>1;ve<Bn;){var vt=2*(ve+1)-1,Rn=O[vt],Ut=vt+1,ur=O[Ut];if(0>i(Rn,ee))Ut<Ne&&0>i(ur,Rn)?(O[ve]=ur,O[Ut]=ee,ve=Ut):(O[ve]=Rn,O[vt]=ee,ve=vt);else if(Ut<Ne&&0>i(ur,ee))O[ve]=ur,O[Ut]=ee,ve=Ut;else break e}}return X}function i(O,X){var ee=O.sortIndex-X.sortIndex;return ee!==0?ee:O.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,m=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=O)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function T(O){if(v=!1,y(O),!m)if(n(l)!==null)m=!0,Ur(L);else{var X=n(u);X!==null&&qe(T,X.startTime-O)}}function L(O,X){m=!1,v&&(v=!1,g(N),N=-1),f=!0;var ee=d;try{for(y(X),h=n(l);h!==null&&(!(h.expirationTime>X)||O&&!Se());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,d=h.priorityLevel;var Ne=ve(h.expirationTime<=X);X=t.unstable_now(),typeof Ne=="function"?h.callback=Ne:h===n(l)&&r(l),y(X)}else r(l);h=n(l)}if(h!==null)var Bn=!0;else{var vt=n(u);vt!==null&&qe(T,vt.startTime-X),Bn=!1}return Bn}finally{h=null,d=ee,f=!1}}var E=!1,D=null,N=-1,V=5,z=-1;function Se(){return!(t.unstable_now()-z<V)}function Fe(){if(D!==null){var O=t.unstable_now();z=O;var X=!0;try{X=D(!0,O)}finally{X?Ye():(E=!1,D=null)}}else E=!1}var Ye;if(typeof p=="function")Ye=function(){p(Fe)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,$r=Xe.port2;Xe.port1.onmessage=Fe,Ye=function(){$r.postMessage(null)}}else Ye=function(){C(Fe,0)};function Ur(O){D=O,E||(E=!0,Ye())}function qe(O,X){N=C(function(){O(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,Ur(L))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var ee=d;d=X;try{return O()}finally{d=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,X){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ee=d;d=O;try{return X()}finally{d=ee}},t.unstable_scheduleCallback=function(O,X,ee){var ve=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,O){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ee+Ne,O={id:c++,callback:X,priorityLevel:O,startTime:ee,expirationTime:Ne,sortIndex:-1},ee>ve?(O.sortIndex=ee,e(u,O),n(l)===null&&O===n(u)&&(v?(g(N),N=-1):v=!0,qe(T,ee-ve))):(O.sortIndex=Ne,e(l,O),m||f||(m=!0,Ur(L))),O},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(O){var X=d;return function(){var ee=d;d=X;try{return O.apply(this,arguments)}finally{d=ee}}}})(y6);v6.exports=y6;var XC=v6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=k,dn=XC;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _6=new Set,gl={};function Rs(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(gl[t]=e,t=0;t<e.length;t++)_6.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,ZC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sm={},om={};function eS(t){return Wf.call(om,t)?!0:Wf.call(sm,t)?!1:ZC.test(t)?om[t]=!0:(sm[t]=!0,!1)}function tS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nS(t,e,n,r){if(e===null||typeof e>"u"||tS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qp=/[\-:]([a-z])/g;function Yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qp,Yp);It[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qp,Yp);It[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qp,Yp);It[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xp(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nS(e,n,i,r)&&(n=null),r||i===null?eS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=JC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),w6=Symbol.for("react.provider"),E6=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),e2=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),C6=Symbol.for("react.offscreen"),am=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=am&&t[am]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,b0;function $a(t){if(b0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);b0=e&&e[1]||""}return`
`+b0+t}var A0=!1;function P0(t,e){if(!t||A0)return"";A0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{A0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function rS(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=P0(t.type,!1),t;case 11:return t=P0(t.type.render,!1),t;case 1:return t=P0(t.type,!0),t;default:return""}}function Qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Js:return"Fragment";case Xs:return"Portal";case qf:return"Profiler";case Jp:return"StrictMode";case Kf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E6:return(t.displayName||"Context")+".Consumer";case w6:return(t._context.displayName||"Context")+".Provider";case Zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e2:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}function iS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qf(e);case 8:return e===Jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sS(t){var e=S6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=sS(t))}function T6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yf(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function I6(t,e){e=e.checked,e!=null&&Xp(t,"checked",e,!1)}function Xf(t,e){I6(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jf(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function um(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jf(t,e,n){(e!=="number"||ih(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Ua(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function k6(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,L6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oS=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(t){oS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ya[e]=Ya[t]})});function N6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ya.hasOwnProperty(t)&&Ya[t]?(""+e).trim():e+"px"}function x6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=N6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var aS=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t1(t,e){if(e){if(aS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function n1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=null;function t2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var i1=null,po=null,mo=null;function dm(t){if(t=fu(t)){if(typeof i1!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Cd(e),i1(t.stateNode,t.type,e))}}function b6(t){po?mo?mo.push(t):mo=[t]:po=t}function A6(){if(po){var t=po,e=mo;if(mo=po=null,dm(t),e)for(t=0;t<e.length;t++)dm(e[t])}}function P6(t,e){return t(e)}function D6(){}var D0=!1;function M6(t,e,n){if(D0)return t(e,n);D0=!0;try{return P6(t,e,n)}finally{D0=!1,(po!==null||mo!==null)&&(D6(),A6())}}function yl(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var s1=!1;if(Sr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){s1=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{s1=!1}function lS(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Xa=!1,sh=null,oh=!1,o1=null,uS={onError:function(t){Xa=!0,sh=t}};function cS(t,e,n,r,i,s,o,a,l){Xa=!1,sh=null,lS.apply(uS,arguments)}function hS(t,e,n,r,i,s,o,a,l){if(cS.apply(this,arguments),Xa){if(Xa){var u=sh;Xa=!1,sh=null}else throw Error(b(198));oh||(oh=!0,o1=u)}}function Ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function O6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fm(t){if(Ls(t)!==t)throw Error(b(188))}function dS(t){var e=t.alternate;if(!e){if(e=Ls(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fm(i),t;if(s===r)return fm(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function F6(t){return t=dS(t),t!==null?$6(t):null}function $6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$6(t);if(e!==null)return e;t=t.sibling}return null}var U6=dn.unstable_scheduleCallback,pm=dn.unstable_cancelCallback,fS=dn.unstable_shouldYield,pS=dn.unstable_requestPaint,Ge=dn.unstable_now,mS=dn.unstable_getCurrentPriorityLevel,n2=dn.unstable_ImmediatePriority,V6=dn.unstable_UserBlockingPriority,ah=dn.unstable_NormalPriority,gS=dn.unstable_LowPriority,z6=dn.unstable_IdlePriority,yd=null,Jn=null;function vS(t){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:wS,yS=Math.log,_S=Math.LN2;function wS(t){return t>>>=0,t===0?32:31-(yS(t)/_S|0)|0}var rc=64,ic=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Va(a):(s&=o,s!==0&&(r=Va(s)))}else o=n&~i,o!==0?r=Va(o):s!==0&&(r=Va(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),i=1<<n,r|=t[n],e&=~i;return r}function ES(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ES(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function a1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function j6(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function M0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function SS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function r2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ee=0;function B6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H6,i2,W6,q6,K6,l1=!1,sc=[],ni=null,ri=null,ii=null,_l=new Map,wl=new Map,Kr=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(e.pointerId)}}function Sa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fu(e),e!==null&&i2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IS(t,e,n,r,i){switch(e){case"focusin":return ni=Sa(ni,t,e,n,r,i),!0;case"dragenter":return ri=Sa(ri,t,e,n,r,i),!0;case"mouseover":return ii=Sa(ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _l.set(s,Sa(_l.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wl.set(s,Sa(wl.get(s)||null,t,e,n,r,i)),!0}return!1}function G6(t){var e=Bi(t.target);if(e!==null){var n=Ls(e);if(n!==null){if(e=n.tag,e===13){if(e=O6(n),e!==null){t.blockedOn=e,K6(t.priority,function(){W6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r1=r,n.target.dispatchEvent(r),r1=null}else return e=fu(n),e!==null&&i2(e),t.blockedOn=n,!1;e.shift()}return!0}function gm(t,e,n){Pc(t)&&n.delete(e)}function kS(){l1=!1,ni!==null&&Pc(ni)&&(ni=null),ri!==null&&Pc(ri)&&(ri=null),ii!==null&&Pc(ii)&&(ii=null),_l.forEach(gm),wl.forEach(gm)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,l1||(l1=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,kS)))}function El(t){function e(i){return Ta(i,t)}if(0<sc.length){Ta(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&Ta(ni,t),ri!==null&&Ta(ri,t),ii!==null&&Ta(ii,t),_l.forEach(e),wl.forEach(e),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)G6(n),n.blockedOn===null&&Kr.shift()}var go=Pr.ReactCurrentBatchConfig,uh=!0;function RS(t,e,n,r){var i=Ee,s=go.transition;go.transition=null;try{Ee=1,s2(t,e,n,r)}finally{Ee=i,go.transition=s}}function LS(t,e,n,r){var i=Ee,s=go.transition;go.transition=null;try{Ee=4,s2(t,e,n,r)}finally{Ee=i,go.transition=s}}function s2(t,e,n,r){if(uh){var i=u1(t,e,n,r);if(i===null)W0(t,e,r,ch,n),mm(t,r);else if(IS(i,t,e,n,r))r.stopPropagation();else if(mm(t,r),e&4&&-1<TS.indexOf(t)){for(;i!==null;){var s=fu(i);if(s!==null&&H6(s),s=u1(t,e,n,r),s===null&&W0(t,e,r,ch,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else W0(t,e,r,null,n)}}var ch=null;function u1(t,e,n,r){if(ch=null,t=t2(r),t=Bi(t),t!==null)if(e=Ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=O6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ch=t,null}function Q6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mS()){case n2:return 1;case V6:return 4;case ah:case gS:return 16;case z6:return 536870912;default:return 16}default:return 16}}var Jr=null,o2=null,Dc=null;function Y6(){if(Dc)return Dc;var t,e=o2,n=e.length,r,i="value"in Jr?Jr.value:Jr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dc=i.slice(t,1<r?1-r:void 0)}function Mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function vm(){return!1}function gn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:vm,this.isPropagationStopped=vm,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a2=gn(ea),du=Ve({},ea,{view:0,detail:0}),NS=gn(du),O0,F0,Ia,_d=Ve({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ia&&(Ia&&t.type==="mousemove"?(O0=t.screenX-Ia.screenX,F0=t.screenY-Ia.screenY):F0=O0=0,Ia=t),O0)},movementY:function(t){return"movementY"in t?t.movementY:F0}}),ym=gn(_d),xS=Ve({},_d,{dataTransfer:0}),bS=gn(xS),AS=Ve({},du,{relatedTarget:0}),$0=gn(AS),PS=Ve({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),DS=gn(PS),MS=Ve({},ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OS=gn(MS),FS=Ve({},ea,{data:0}),_m=gn(FS),$S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},US={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VS[t])?!!e[t]:!1}function l2(){return zS}var jS=Ve({},du,{key:function(t){if(t.key){var e=$S[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?US[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l2,charCode:function(t){return t.type==="keypress"?Mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BS=gn(jS),HS=Ve({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=gn(HS),WS=Ve({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l2}),qS=gn(WS),KS=Ve({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),GS=gn(KS),QS=Ve({},_d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YS=gn(QS),XS=[9,13,27,32],u2=Sr&&"CompositionEvent"in window,Ja=null;Sr&&"documentMode"in document&&(Ja=document.documentMode);var JS=Sr&&"TextEvent"in window&&!Ja,X6=Sr&&(!u2||Ja&&8<Ja&&11>=Ja),Em=String.fromCharCode(32),Cm=!1;function J6(t,e){switch(t){case"keyup":return XS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zs=!1;function ZS(t,e){switch(t){case"compositionend":return Z6(e);case"keypress":return e.which!==32?null:(Cm=!0,Em);case"textInput":return t=e.data,t===Em&&Cm?null:t;default:return null}}function eT(t,e){if(Zs)return t==="compositionend"||!u2&&J6(t,e)?(t=Y6(),Dc=o2=Jr=null,Zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X6&&e.locale!=="ko"?null:e.data;default:return null}}var tT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tT[t.type]:e==="textarea"}function ev(t,e,n,r){b6(r),e=hh(e,"onChange"),0<e.length&&(n=new a2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Za=null,Cl=null;function nT(t){hv(t,0)}function wd(t){var e=no(t);if(T6(e))return t}function rT(t,e){if(t==="change")return e}var tv=!1;if(Sr){var U0;if(Sr){var V0="oninput"in document;if(!V0){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),V0=typeof Tm.oninput=="function"}U0=V0}else U0=!1;tv=U0&&(!document.documentMode||9<document.documentMode)}function Im(){Za&&(Za.detachEvent("onpropertychange",nv),Cl=Za=null)}function nv(t){if(t.propertyName==="value"&&wd(Cl)){var e=[];ev(e,Cl,t,t2(t)),M6(nT,e)}}function iT(t,e,n){t==="focusin"?(Im(),Za=e,Cl=n,Za.attachEvent("onpropertychange",nv)):t==="focusout"&&Im()}function sT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wd(Cl)}function oT(t,e){if(t==="click")return wd(e)}function aT(t,e){if(t==="input"||t==="change")return wd(e)}function lT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:lT;function Sl(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wf.call(e,i)||!zn(t[i],e[i]))return!1}return!0}function km(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rm(t,e){var n=km(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=km(n)}}function rv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iv(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ih(t.document)}return e}function c2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uT(t){var e=iv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rv(n.ownerDocument.documentElement,n)){if(r!==null&&c2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Rm(n,s);var o=Rm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cT=Sr&&"documentMode"in document&&11>=document.documentMode,eo=null,c1=null,el=null,h1=!1;function Lm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h1||eo==null||eo!==ih(r)||(r=eo,"selectionStart"in r&&c2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&Sl(el,r)||(el=r,r=hh(c1,"onSelect"),0<r.length&&(e=new a2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=eo)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var to={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},z0={},sv={};Sr&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Ed(t){if(z0[t])return z0[t];if(!to[t])return t;var e=to[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sv)return z0[t]=e[n];return t}var ov=Ed("animationend"),av=Ed("animationiteration"),lv=Ed("animationstart"),uv=Ed("transitionend"),cv=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(t,e){cv.set(t,e),Rs(e,[t])}for(var j0=0;j0<Nm.length;j0++){var B0=Nm[j0],hT=B0.toLowerCase(),dT=B0[0].toUpperCase()+B0.slice(1);Si(hT,"on"+dT)}Si(ov,"onAnimationEnd");Si(av,"onAnimationIteration");Si(lv,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(uv,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function xm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hS(r,e,void 0,t),t.currentTarget=null}function hv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xm(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xm(i,a,u),s=l}}}if(oh)throw t=o1,oh=!1,o1=null,t}function xe(t,e){var n=e[g1];n===void 0&&(n=e[g1]=new Set);var r=t+"__bubble";n.has(r)||(dv(e,t,2,!1),n.add(r))}function H0(t,e,n){var r=0;e&&(r|=4),dv(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Tl(t){if(!t[lc]){t[lc]=!0,_6.forEach(function(n){n!=="selectionchange"&&(fT.has(n)||H0(n,!1,t),H0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,H0("selectionchange",!1,e))}}function dv(t,e,n,r){switch(Q6(e)){case 1:var i=RS;break;case 4:i=LS;break;default:i=s2}n=i.bind(null,e,n,t),i=void 0,!s1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function W0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}M6(function(){var u=s,c=t2(n),h=[];e:{var d=cv.get(t);if(d!==void 0){var f=a2,m=t;switch(t){case"keypress":if(Mc(n)===0)break e;case"keydown":case"keyup":f=BS;break;case"focusin":m="focus",f=$0;break;case"focusout":m="blur",f=$0;break;case"beforeblur":case"afterblur":f=$0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qS;break;case ov:case av:case lv:f=DS;break;case uv:f=GS;break;case"scroll":f=NS;break;case"wheel":f=YS;break;case"copy":case"cut":case"paste":f=OS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=wm}var v=(e&4)!==0,C=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,y;p!==null;){y=p;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,g!==null&&(T=yl(p,g),T!=null&&v.push(Il(p,T,y)))),C)break;p=p.return}0<v.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==r1&&(m=n.relatedTarget||n.fromElement)&&(Bi(m)||m[Tr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Bi(m):null,m!==null&&(C=Ls(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(v=ym,T="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=wm,T="onPointerLeave",g="onPointerEnter",p="pointer"),C=f==null?d:no(f),y=m==null?d:no(m),d=new v(T,p+"leave",f,n,c),d.target=C,d.relatedTarget=y,T=null,Bi(c)===u&&(v=new v(g,p+"enter",m,n,c),v.target=y,v.relatedTarget=C,T=v),C=T,f&&m)t:{for(v=f,g=m,p=0,y=v;y;y=Bs(y))p++;for(y=0,T=g;T;T=Bs(T))y++;for(;0<p-y;)v=Bs(v),p--;for(;0<y-p;)g=Bs(g),y--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Bs(v),g=Bs(g)}v=null}else v=null;f!==null&&bm(h,d,f,v,!1),m!==null&&C!==null&&bm(h,C,m,v,!0)}}e:{if(d=u?no(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var L=rT;else if(Sm(d))if(tv)L=aT;else{L=sT;var E=iT}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(L=oT);if(L&&(L=L(t,u))){ev(h,L,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Jf(d,"number",d.value)}switch(E=u?no(u):window,t){case"focusin":(Sm(E)||E.contentEditable==="true")&&(eo=E,c1=u,el=null);break;case"focusout":el=c1=eo=null;break;case"mousedown":h1=!0;break;case"contextmenu":case"mouseup":case"dragend":h1=!1,Lm(h,n,c);break;case"selectionchange":if(cT)break;case"keydown":case"keyup":Lm(h,n,c)}var D;if(u2)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Zs?J6(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(X6&&n.locale!=="ko"&&(Zs||N!=="onCompositionStart"?N==="onCompositionEnd"&&Zs&&(D=Y6()):(Jr=c,o2="value"in Jr?Jr.value:Jr.textContent,Zs=!0)),E=hh(u,N),0<E.length&&(N=new _m(N,t,null,n,c),h.push({event:N,listeners:E}),D?N.data=D:(D=Z6(n),D!==null&&(N.data=D)))),(D=JS?ZS(t,n):eT(t,n))&&(u=hh(u,"onBeforeInput"),0<u.length&&(c=new _m("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=D))}hv(h,e)})}function Il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yl(t,n),s!=null&&r.unshift(Il(t,s,i)),s=yl(t,e),s!=null&&r.push(Il(t,s,i))),t=t.return}return r}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=yl(n,s),l!=null&&o.unshift(Il(n,l,a))):i||(l=yl(n,s),l!=null&&o.push(Il(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pT=/\r\n?/g,mT=/\u0000|\uFFFD/g;function Am(t){return(typeof t=="string"?t:""+t).replace(pT,`
`).replace(mT,"")}function uc(t,e,n){if(e=Am(e),Am(t)!==e&&n)throw Error(b(425))}function dh(){}var d1=null,f1=null;function p1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m1=typeof setTimeout=="function"?setTimeout:void 0,gT=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,vT=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(t){return Pm.resolve(null).then(t).catch(yT)}:m1;function yT(t){setTimeout(function(){throw t})}function q0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);El(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Kn="__reactFiber$"+ta,kl="__reactProps$"+ta,Tr="__reactContainer$"+ta,g1="__reactEvents$"+ta,_T="__reactListeners$"+ta,wT="__reactHandles$"+ta;function Bi(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tr]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dm(t);t!==null;){if(n=t[Kn])return n;t=Dm(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[Kn]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function no(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Cd(t){return t[kl]||null}var v1=[],ro=-1;function Ti(t){return{current:t}}function Pe(t){0>ro||(t.current=v1[ro],v1[ro]=null,ro--)}function Le(t,e){ro++,v1[ro]=t.current,t.current=e}var gi={},Ot=Ti(gi),en=Ti(!1),as=gi;function xo(t,e){var n=t.type.contextTypes;if(!n)return gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function fh(){Pe(en),Pe(Ot)}function Mm(t,e,n){if(Ot.current!==gi)throw Error(b(168));Le(Ot,e),Le(en,n)}function fv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,iS(t)||"Unknown",i));return Ve({},n,r)}function ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,as=Ot.current,Le(Ot,t),Le(en,en.current),!0}function Om(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=fv(t,e,as),r.__reactInternalMemoizedMergedChildContext=t,Pe(en),Pe(Ot),Le(Ot,t)):Pe(en),Le(en,n)}var fr=null,Sd=!1,K0=!1;function pv(t){fr===null?fr=[t]:fr.push(t)}function ET(t){Sd=!0,pv(t)}function Ii(){if(!K0&&fr!==null){K0=!0;var t=0,e=Ee;try{var n=fr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Sd=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),U6(n2,Ii),i}finally{Ee=e,K0=!1}}return null}var io=[],so=0,mh=null,gh=0,vn=[],yn=0,ls=null,pr=1,mr="";function Di(t,e){io[so++]=gh,io[so++]=mh,mh=t,gh=e}function mv(t,e,n){vn[yn++]=pr,vn[yn++]=mr,vn[yn++]=ls,ls=t;var r=pr;t=mr;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var s=32-$n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-$n(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function h2(t){t.return!==null&&(Di(t,1),mv(t,1,0))}function d2(t){for(;t===mh;)mh=io[--so],io[so]=null,gh=io[--so],io[so]=null;for(;t===ls;)ls=vn[--yn],vn[yn]=null,mr=vn[--yn],vn[yn]=null,pr=vn[--yn],vn[yn]=null}var un=null,an=null,Oe=!1,An=null;function gv(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,an=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,an=null,!0):!1;default:return!1}}function y1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _1(t){if(Oe){var e=an;if(e){var n=e;if(!Fm(t,e)){if(y1(t))throw Error(b(418));e=si(n.nextSibling);var r=un;e&&Fm(t,e)?gv(r,n):(t.flags=t.flags&-4097|2,Oe=!1,un=t)}}else{if(y1(t))throw Error(b(418));t.flags=t.flags&-4097|2,Oe=!1,un=t}}}function $m(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function cc(t){if(t!==un)return!1;if(!Oe)return $m(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p1(t.type,t.memoizedProps)),e&&(e=an)){if(y1(t))throw vv(),Error(b(418));for(;e;)gv(t,e),e=si(e.nextSibling)}if($m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=un?si(t.stateNode.nextSibling):null;return!0}function vv(){for(var t=an;t;)t=si(t.nextSibling)}function bo(){an=un=null,Oe=!1}function f2(t){An===null?An=[t]:An.push(t)}var CT=Pr.ReactCurrentBatchConfig;function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function hc(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Um(t){var e=t._init;return e(t._payload)}function yv(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=ui(g,p),g.index=0,g.sibling=null,g}function s(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,T){return p===null||p.tag!==6?(p=ef(y,g.mode,T),p.return=g,p):(p=i(p,y),p.return=g,p)}function l(g,p,y,T){var L=y.type;return L===Js?c(g,p,y.props.children,T,y.key):p!==null&&(p.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Wr&&Um(L)===p.type)?(T=i(p,y.props),T.ref=ka(g,p,y),T.return=g,T):(T=jc(y.type,y.key,y.props,null,g.mode,T),T.ref=ka(g,p,y),T.return=g,T)}function u(g,p,y,T){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=tf(y,g.mode,T),p.return=g,p):(p=i(p,y.children||[]),p.return=g,p)}function c(g,p,y,T,L){return p===null||p.tag!==7?(p=es(y,g.mode,T,L),p.return=g,p):(p=i(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ef(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ec:return y=jc(p.type,p.key,p.props,null,g.mode,y),y.ref=ka(g,null,p),y.return=g,y;case Xs:return p=tf(p,g.mode,y),p.return=g,p;case Wr:var T=p._init;return h(g,T(p._payload),y)}if(Ua(p)||Ea(p))return p=es(p,g.mode,y,null),p.return=g,p;hc(g,p)}return null}function d(g,p,y,T){var L=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return L!==null?null:a(g,p,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ec:return y.key===L?l(g,p,y,T):null;case Xs:return y.key===L?u(g,p,y,T):null;case Wr:return L=y._init,d(g,p,L(y._payload),T)}if(Ua(y)||Ea(y))return L!==null?null:c(g,p,y,T,null);hc(g,y)}return null}function f(g,p,y,T,L){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(y)||null,a(p,g,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ec:return g=g.get(T.key===null?y:T.key)||null,l(p,g,T,L);case Xs:return g=g.get(T.key===null?y:T.key)||null,u(p,g,T,L);case Wr:var E=T._init;return f(g,p,y,E(T._payload),L)}if(Ua(T)||Ea(T))return g=g.get(y)||null,c(p,g,T,L,null);hc(p,T)}return null}function m(g,p,y,T){for(var L=null,E=null,D=p,N=p=0,V=null;D!==null&&N<y.length;N++){D.index>N?(V=D,D=null):V=D.sibling;var z=d(g,D,y[N],T);if(z===null){D===null&&(D=V);break}t&&D&&z.alternate===null&&e(g,D),p=s(z,p,N),E===null?L=z:E.sibling=z,E=z,D=V}if(N===y.length)return n(g,D),Oe&&Di(g,N),L;if(D===null){for(;N<y.length;N++)D=h(g,y[N],T),D!==null&&(p=s(D,p,N),E===null?L=D:E.sibling=D,E=D);return Oe&&Di(g,N),L}for(D=r(g,D);N<y.length;N++)V=f(D,g,N,y[N],T),V!==null&&(t&&V.alternate!==null&&D.delete(V.key===null?N:V.key),p=s(V,p,N),E===null?L=V:E.sibling=V,E=V);return t&&D.forEach(function(Se){return e(g,Se)}),Oe&&Di(g,N),L}function v(g,p,y,T){var L=Ea(y);if(typeof L!="function")throw Error(b(150));if(y=L.call(y),y==null)throw Error(b(151));for(var E=L=null,D=p,N=p=0,V=null,z=y.next();D!==null&&!z.done;N++,z=y.next()){D.index>N?(V=D,D=null):V=D.sibling;var Se=d(g,D,z.value,T);if(Se===null){D===null&&(D=V);break}t&&D&&Se.alternate===null&&e(g,D),p=s(Se,p,N),E===null?L=Se:E.sibling=Se,E=Se,D=V}if(z.done)return n(g,D),Oe&&Di(g,N),L;if(D===null){for(;!z.done;N++,z=y.next())z=h(g,z.value,T),z!==null&&(p=s(z,p,N),E===null?L=z:E.sibling=z,E=z);return Oe&&Di(g,N),L}for(D=r(g,D);!z.done;N++,z=y.next())z=f(D,g,N,z.value,T),z!==null&&(t&&z.alternate!==null&&D.delete(z.key===null?N:z.key),p=s(z,p,N),E===null?L=z:E.sibling=z,E=z);return t&&D.forEach(function(Fe){return e(g,Fe)}),Oe&&Di(g,N),L}function C(g,p,y,T){if(typeof y=="object"&&y!==null&&y.type===Js&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ec:e:{for(var L=y.key,E=p;E!==null;){if(E.key===L){if(L=y.type,L===Js){if(E.tag===7){n(g,E.sibling),p=i(E,y.props.children),p.return=g,g=p;break e}}else if(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Wr&&Um(L)===E.type){n(g,E.sibling),p=i(E,y.props),p.ref=ka(g,E,y),p.return=g,g=p;break e}n(g,E);break}else e(g,E);E=E.sibling}y.type===Js?(p=es(y.props.children,g.mode,T,y.key),p.return=g,g=p):(T=jc(y.type,y.key,y.props,null,g.mode,T),T.ref=ka(g,p,y),T.return=g,g=T)}return o(g);case Xs:e:{for(E=y.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=i(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=tf(y,g.mode,T),p.return=g,g=p}return o(g);case Wr:return E=y._init,C(g,p,E(y._payload),T)}if(Ua(y))return m(g,p,y,T);if(Ea(y))return v(g,p,y,T);hc(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,y),p.return=g,g=p):(n(g,p),p=ef(y,g.mode,T),p.return=g,g=p),o(g)):n(g,p)}return C}var Ao=yv(!0),_v=yv(!1),vh=Ti(null),yh=null,oo=null,p2=null;function m2(){p2=oo=yh=null}function g2(t){var e=vh.current;Pe(vh),t._currentValue=e}function w1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){yh=t,p2=oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(p2!==t)if(t={context:t,memoizedValue:e,next:null},oo===null){if(yh===null)throw Error(b(308));oo=t,yh.dependencies={lanes:0,firstContext:t}}else oo=oo.next=t;return e}var Hi=null;function v2(t){Hi===null?Hi=[t]:Hi.push(t)}function wv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,v2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function y2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,v2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function Oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r2(t,n)}}function Vm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _h(t,e,n,r){var i=t.updateQueue;qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(d=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=Ve({},h,d);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cs|=o,t.lanes=o,t.memoizedState=h}}function zm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var pu={},Zn=Ti(pu),Rl=Ti(pu),Ll=Ti(pu);function Wi(t){if(t===pu)throw Error(b(174));return t}function _2(t,e){switch(Le(Ll,e),Le(Rl,t),Le(Zn,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e1(e,t)}Pe(Zn),Le(Zn,e)}function Po(){Pe(Zn),Pe(Rl),Pe(Ll)}function Cv(t){Wi(Ll.current);var e=Wi(Zn.current),n=e1(e,t.type);e!==n&&(Le(Rl,t),Le(Zn,n))}function w2(t){Rl.current===t&&(Pe(Zn),Pe(Rl))}var $e=Ti(0);function wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var G0=[];function E2(){for(var t=0;t<G0.length;t++)G0[t]._workInProgressVersionPrimary=null;G0.length=0}var Fc=Pr.ReactCurrentDispatcher,Q0=Pr.ReactCurrentBatchConfig,us=0,Ue=null,st=null,ht=null,Eh=!1,tl=!1,Nl=0,ST=0;function kt(){throw Error(b(321))}function C2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function S2(t,e,n,r,i,s){if(us=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fc.current=t===null||t.memoizedState===null?RT:LT,t=n(r,i),tl){s=0;do{if(tl=!1,Nl=0,25<=s)throw Error(b(301));s+=1,ht=st=null,e.updateQueue=null,Fc.current=NT,t=n(r,i)}while(tl)}if(Fc.current=Ch,e=st!==null&&st.next!==null,us=0,ht=st=Ue=null,Eh=!1,e)throw Error(b(300));return t}function T2(){var t=Nl!==0;return Nl=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ue.memoizedState=ht=t:ht=ht.next=t,ht}function Sn(){if(st===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ht===null?Ue.memoizedState:ht.next;if(e!==null)ht=e,st=t;else{if(t===null)throw Error(b(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?Ue.memoizedState=ht=t:ht=ht.next=t}return ht}function xl(t,e){return typeof e=="function"?e(t):e}function Y0(t){var e=Sn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((us&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ue.lanes|=c,cs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,zn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function X0(t){var e=Sn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zn(s,e.memoizedState)||(Xt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sv(){}function Tv(t,e){var n=Ue,r=Sn(),i=e(),s=!zn(r.memoizedState,i);if(s&&(r.memoizedState=i,Xt=!0),r=r.queue,I2(Rv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,bl(9,kv.bind(null,n,r,i,e),void 0,null),pt===null)throw Error(b(349));us&30||Iv(n,e,i)}return i}function Iv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kv(t,e,n,r){e.value=n,e.getSnapshot=r,Lv(e)&&Nv(t)}function Rv(t,e,n){return n(function(){Lv(e)&&Nv(t)})}function Lv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function Nv(t){var e=Ir(t,1);e!==null&&Un(e,t,1,-1)}function jm(t){var e=qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:t},e.queue=t,t=t.dispatch=kT.bind(null,Ue,t),[e.memoizedState,t]}function bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xv(){return Sn().memoizedState}function $c(t,e,n,r){var i=qn();Ue.flags|=t,i.memoizedState=bl(1|e,n,void 0,r===void 0?null:r)}function Td(t,e,n,r){var i=Sn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&C2(r,o.deps)){i.memoizedState=bl(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=bl(1|e,n,s,r)}function Bm(t,e){return $c(8390656,8,t,e)}function I2(t,e){return Td(2048,8,t,e)}function bv(t,e){return Td(4,2,t,e)}function Av(t,e){return Td(4,4,t,e)}function Pv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dv(t,e,n){return n=n!=null?n.concat([t]):null,Td(4,4,Pv.bind(null,e,t),n)}function k2(){}function Mv(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ov(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fv(t,e,n){return us&21?(zn(n,e)||(n=j6(),Ue.lanes|=n,cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function TT(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=Q0.transition;Q0.transition={};try{t(!1),e()}finally{Ee=n,Q0.transition=r}}function $v(){return Sn().memoizedState}function IT(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Uv(t))Vv(e,n);else if(n=wv(t,e,n,r),n!==null){var i=Bt();Un(n,t,r,i),zv(n,e,r)}}function kT(t,e,n){var r=li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uv(t))Vv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,zn(a,o)){var l=e.interleaved;l===null?(i.next=i,v2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wv(t,e,i,r),n!==null&&(i=Bt(),Un(n,t,r,i),zv(n,e,r))}}function Uv(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function Vv(t,e){tl=Eh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r2(t,n)}}var Ch={readContext:Cn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},RT={readContext:Cn,useCallback:function(t,e){return qn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:Bm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$c(4194308,4,Pv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $c(4194308,4,t,e)},useInsertionEffect:function(t,e){return $c(4,2,t,e)},useMemo:function(t,e){var n=qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IT.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=qn();return t={current:t},e.memoizedState=t},useState:jm,useDebugValue:k2,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=jm(!1),e=t[0];return t=TT.bind(null,t[1]),qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=qn();if(Oe){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),pt===null)throw Error(b(349));us&30||Iv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Bm(Rv.bind(null,r,s,t),[t]),r.flags|=2048,bl(9,kv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=qn(),e=pt.identifierPrefix;if(Oe){var n=mr,r=pr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ST++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LT={readContext:Cn,useCallback:Mv,useContext:Cn,useEffect:I2,useImperativeHandle:Dv,useInsertionEffect:bv,useLayoutEffect:Av,useMemo:Ov,useReducer:Y0,useRef:xv,useState:function(){return Y0(xl)},useDebugValue:k2,useDeferredValue:function(t){var e=Sn();return Fv(e,st.memoizedState,t)},useTransition:function(){var t=Y0(xl)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:Sv,useSyncExternalStore:Tv,useId:$v,unstable_isNewReconciler:!1},NT={readContext:Cn,useCallback:Mv,useContext:Cn,useEffect:I2,useImperativeHandle:Dv,useInsertionEffect:bv,useLayoutEffect:Av,useMemo:Ov,useReducer:X0,useRef:xv,useState:function(){return X0(xl)},useDebugValue:k2,useDeferredValue:function(t){var e=Sn();return st===null?e.memoizedState=t:Fv(e,st.memoizedState,t)},useTransition:function(){var t=X0(xl)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:Sv,useSyncExternalStore:Tv,useId:$v,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function E1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Id={isMounted:function(t){return(t=t._reactInternals)?Ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=li(t),s=wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(Un(e,t,i,r),Oc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=li(t),s=wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(Un(e,t,i,r),Oc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=li(t),i=wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=oi(t,i,r),e!==null&&(Un(e,t,r,n),Oc(e,t,r))}};function Hm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sl(n,r)||!Sl(i,s):!0}function jv(t,e,n){var r=!1,i=gi,s=e.contextType;return typeof s=="object"&&s!==null?s=Cn(s):(i=tn(e)?as:Ot.current,r=e.contextTypes,s=(r=r!=null)?xo(t,i):gi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Id.enqueueReplaceState(e,e.state,null)}function C1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},y2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cn(s):(s=tn(e)?as:Ot.current,i.context=xo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(E1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Id.enqueueReplaceState(i,i.state,null),_h(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e){try{var n="",r=e;do n+=rS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function J0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function S1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xT=typeof WeakMap=="function"?WeakMap:Map;function Bv(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,P1=r),S1(t,e)},n}function Hv(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){S1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){S1(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HT.bind(null,t,e,n),e.then(t,t))}function Km(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var bT=Pr.ReactCurrentOwner,Xt=!1;function zt(t,e,n,r){e.child=t===null?_v(e,null,n,r):Ao(e,t.child,n,r)}function Qm(t,e,n,r,i){n=n.render;var s=e.ref;return vo(e,i),r=S2(t,e,n,r,s,i),n=T2(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Oe&&n&&h2(e),e.flags|=1,zt(t,e,r,i),e.child)}function Ym(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!D2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Wv(t,e,s,r,i)):(t=jc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(o,r)&&t.ref===e.ref)return kr(t,e,i)}return e.flags|=1,t=ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function Wv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Sl(s,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,kr(t,e,i)}return T1(t,e,n,r,i)}function qv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(lo,sn),sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(lo,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(lo,sn),sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Le(lo,sn),sn|=r;return zt(t,e,i,n),e.child}function Kv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function T1(t,e,n,r,i){var s=tn(n)?as:Ot.current;return s=xo(e,s),vo(e,i),n=S2(t,e,n,r,s,i),r=T2(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Oe&&r&&h2(e),e.flags|=1,zt(t,e,n,i),e.child)}function Xm(t,e,n,r,i){if(tn(n)){var s=!0;ph(e)}else s=!1;if(vo(e,i),e.stateNode===null)Uc(t,e),jv(e,n,r),C1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=tn(n)?as:Ot.current,u=xo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Wm(e,o,r,u),qr=!1;var d=e.memoizedState;o.state=d,_h(e,r,o,i),l=e.memoizedState,a!==r||d!==l||en.current||qr?(typeof c=="function"&&(E1(e,n,c,r),l=e.memoizedState),(a=qr||Hm(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ev(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Nn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=tn(n)?as:Ot.current,l=xo(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Wm(e,o,r,l),qr=!1,d=e.memoizedState,o.state=d,_h(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||en.current||qr?(typeof f=="function"&&(E1(e,n,f,r),m=e.memoizedState),(u=qr||Hm(e,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return I1(t,e,n,r,s,i)}function I1(t,e,n,r,i,s){Kv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Om(e,n,!1),kr(t,e,s);r=e.stateNode,bT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):zt(t,e,a,s),e.memoizedState=r.state,i&&Om(e,n,!0),e.child}function Gv(t){var e=t.stateNode;e.pendingContext?Mm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mm(t,e.context,!1),_2(t,e.containerInfo)}function Jm(t,e,n,r,i){return bo(),f2(i),e.flags|=256,zt(t,e,n,r),e.child}var k1={dehydrated:null,treeContext:null,retryLane:0};function R1(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qv(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le($e,i&1),t===null)return _1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ld(o,r,0,null),t=es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=R1(n),e.memoizedState=k1,t):R2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AT(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ui(a,s):(s=es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?R1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=k1,r}return s=t.child,t=s.sibling,r=ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R2(t,e){return e=Ld({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dc(t,e,n,r){return r!==null&&f2(r),Ao(e,t.child,null,n),t=R2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=J0(Error(b(422))),dc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ld({mode:"visible",children:r.children},i,0,null),s=es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=R1(o),e.memoizedState=k1,s);if(!(e.mode&1))return dc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=J0(s,r,void 0),dc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Xt||a){if(r=pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),Un(r,t,i,-1))}return P2(),r=J0(Error(b(421))),dc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,an=si(i.nextSibling),un=e,Oe=!0,An=null,t!==null&&(vn[yn++]=pr,vn[yn++]=mr,vn[yn++]=ls,pr=t.id,mr=t.overflow,ls=e),e=R2(e,r.children),e.flags|=4096,e)}function Zm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),w1(t.return,e,n)}function Z0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zm(t,n,e);else if(t.tag===19)Zm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Z0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Z0(e,!0,n,null,s);break;case"together":Z0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PT(t,e,n){switch(e.tag){case 3:Gv(e),bo();break;case 5:Cv(e);break;case 1:tn(e.type)&&ph(e);break;case 4:_2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(vh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?Qv(t,e,n):(Le($e,$e.current&1),t=kr(t,e,n),t!==null?t.sibling:null);Le($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,qv(t,e,n)}return kr(t,e,n)}var Xv,L1,Jv,Zv;Xv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};L1=function(){};Jv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wi(Zn.current);var s=null;switch(n){case"input":i=Yf(t,i),r=Yf(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=Zf(t,i),r=Zf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dh)}t1(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Zv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DT(t,e,n){var r=e.pendingProps;switch(d2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return tn(e.type)&&fh(),Rt(e),null;case 3:return r=e.stateNode,Po(),Pe(en),Pe(Ot),E2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(O1(An),An=null))),L1(t,e),Rt(e),null;case 5:w2(e);var i=Wi(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)Jv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return Rt(e),null}if(t=Wi(Zn.current),cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kn]=e,r[kl]=s,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<za.length;i++)xe(za[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":lm(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":cm(r,s),xe("invalid",r)}t1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",""+a]):gl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":tc(r),um(r,s,!0);break;case"textarea":tc(r),hm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kn]=e,t[kl]=r,Xv(t,e,!1,!1),e.stateNode=t;e:{switch(o=n1(n,r),n){case"dialog":xe("cancel",t),xe("close",t),i=r;break;case"iframe":case"object":case"embed":xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<za.length;i++)xe(za[i],t);i=r;break;case"source":xe("error",t),i=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),i=r;break;case"details":xe("toggle",t),i=r;break;case"input":lm(t,r),i=Yf(t,r),xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),xe("invalid",t);break;case"textarea":cm(t,r),i=Zf(t,r),xe("invalid",t);break;default:i=r}t1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?x6(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L6(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vl(t,l):typeof l=="number"&&vl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xe("scroll",t):l!=null&&Xp(t,s,l,o))}switch(n){case"input":tc(t),um(t,r,!1);break;case"textarea":tc(t),hm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)Zv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Wi(Ll.current),Wi(Zn.current),cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(s=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return Rt(e),null;case 13:if(Pe($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&an!==null&&e.mode&1&&!(e.flags&128))vv(),bo(),e.flags|=98560,s=!1;else if(s=cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[Kn]=e}else bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),s=!1}else An!==null&&(O1(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?at===0&&(at=3):P2())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return Po(),L1(t,e),t===null&&Tl(e.stateNode.containerInfo),Rt(e),null;case 10:return g2(e.type._context),Rt(e),null;case 17:return tn(e.type)&&fh(),Rt(e),null;case 19:if(Pe($e),s=e.memoizedState,s===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ra(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wh(t),o!==null){for(e.flags|=128,Ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>Mo&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=wh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return Rt(e),null}else 2*Ge()-s.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=$e.current,Le($e,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return A2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function MT(t,e){switch(d2(e),e.tag){case 1:return tn(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Po(),Pe(en),Pe(Ot),E2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return w2(e),null;case 13:if(Pe($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe($e),null;case 4:return Po(),null;case 10:return g2(e.type._context),null;case 22:case 23:return A2(),null;case 24:return null;default:return null}}var fc=!1,xt=!1,OT=typeof WeakSet=="function"?WeakSet:Set,F=null;function ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function N1(t,e,n){try{n()}catch(r){Be(t,e,r)}}var eg=!1;function FT(t,e){if(d1=uh,t=iv(),c2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(f1={focusedElem:t,selectionRange:n},uh=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,C=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Nn(e.type,v),C);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(T){Be(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return m=eg,eg=!1,m}function nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&N1(e,n,s)}i=i.next}while(i!==r)}}function kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function x1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ey(t){var e=t.alternate;e!==null&&(t.alternate=null,ey(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[kl],delete e[g1],delete e[_T],delete e[wT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ty(t){return t.tag===5||t.tag===3||t.tag===4}function tg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function b1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dh));else if(r!==4&&(t=t.child,t!==null))for(b1(t,e,n),t=t.sibling;t!==null;)b1(t,e,n),t=t.sibling}function A1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(A1(t,e,n),t=t.sibling;t!==null;)A1(t,e,n),t=t.sibling}var _t=null,xn=!1;function jr(t,e,n){for(n=n.child;n!==null;)ny(t,e,n),n=n.sibling}function ny(t,e,n){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:xt||ao(n,e);case 6:var r=_t,i=xn;_t=null,jr(t,e,n),_t=r,xn=i,_t!==null&&(xn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(xn?(t=_t,n=n.stateNode,t.nodeType===8?q0(t.parentNode,n):t.nodeType===1&&q0(t,n),El(t)):q0(_t,n.stateNode));break;case 4:r=_t,i=xn,_t=n.stateNode.containerInfo,xn=!0,jr(t,e,n),_t=r,xn=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&N1(n,e,o),i=i.next}while(i!==r)}jr(t,e,n);break;case 1:if(!xt&&(ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}jr(t,e,n);break;case 21:jr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,jr(t,e,n),xt=r):jr(t,e,n);break;default:jr(t,e,n)}}function ng(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OT),e.forEach(function(r){var i=qT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,xn=!1;break e;case 3:_t=a.stateNode.containerInfo,xn=!0;break e;case 4:_t=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(_t===null)throw Error(b(160));ny(s,o,i),_t=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ry(e,t),e=e.sibling}function ry(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Wn(t),r&4){try{nl(3,t,t.return),kd(3,t)}catch(v){Be(t,t.return,v)}try{nl(5,t,t.return)}catch(v){Be(t,t.return,v)}}break;case 1:Ln(e,t),Wn(t),r&512&&n!==null&&ao(n,n.return);break;case 5:if(Ln(e,t),Wn(t),r&512&&n!==null&&ao(n,n.return),t.flags&32){var i=t.stateNode;try{vl(i,"")}catch(v){Be(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&I6(i,s),n1(a,o);var u=n1(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?x6(i,h):c==="dangerouslySetInnerHTML"?L6(i,h):c==="children"?vl(i,h):Xp(i,c,h,u)}switch(a){case"input":Xf(i,s);break;case"textarea":k6(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?fo(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?fo(i,!!s.multiple,s.defaultValue,!0):fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[kl]=s}catch(v){Be(t,t.return,v)}}break;case 6:if(Ln(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Be(t,t.return,v)}}break;case 3:if(Ln(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(v){Be(t,t.return,v)}break;case 4:Ln(e,t),Wn(t);break;case 13:Ln(e,t),Wn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(x2=Ge())),r&4&&ng(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||c,Ln(e,t),xt=u):Ln(e,t),Wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(h=F=c;F!==null;){switch(d=F,f=d.child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:ao(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Be(r,n,v)}}break;case 5:ao(d,d.return);break;case 22:if(d.memoizedState!==null){ig(h);continue}}f!==null?(f.return=d,F=f):ig(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=N6("display",o))}catch(v){Be(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Be(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ln(e,t),Wn(t),r&4&&ng(t);break;case 21:break;default:Ln(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ty(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vl(i,""),r.flags&=-33);var s=tg(t);A1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tg(t);b1(t,a,o);break;default:throw Error(b(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $T(t,e,n){F=t,iy(t)}function iy(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xt;a=fc;var u=xt;if(fc=o,(xt=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?sg(i):l!==null?(l.return=o,F=l):sg(i);for(;s!==null;)F=s,iy(s),s=s.sibling;F=i,fc=a,xt=u}rg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):rg(t)}}function rg(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&El(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}xt||e.flags&512&&x1(e)}catch(d){Be(e,e.return,d)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function ig(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function sg(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kd(4,e)}catch(l){Be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Be(e,i,l)}}var s=e.return;try{x1(e)}catch(l){Be(e,s,l)}break;case 5:var o=e.return;try{x1(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var UT=Math.ceil,Sh=Pr.ReactCurrentDispatcher,L2=Pr.ReactCurrentOwner,En=Pr.ReactCurrentBatchConfig,me=0,pt=null,nt=null,St=0,sn=0,lo=Ti(0),at=0,Al=null,cs=0,Rd=0,N2=0,rl=null,Qt=null,x2=0,Mo=1/0,dr=null,Th=!1,P1=null,ai=null,pc=!1,Zr=null,Ih=0,il=0,D1=null,Vc=-1,zc=0;function Bt(){return me&6?Ge():Vc!==-1?Vc:Vc=Ge()}function li(t){return t.mode&1?me&2&&St!==0?St&-St:CT.transition!==null?(zc===0&&(zc=j6()),zc):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:Q6(t.type)),t):1}function Un(t,e,n,r){if(50<il)throw il=0,D1=null,Error(b(185));hu(t,n,r),(!(me&2)||t!==pt)&&(t===pt&&(!(me&2)&&(Rd|=n),at===4&&Gr(t,St)),nn(t,r),n===1&&me===0&&!(e.mode&1)&&(Mo=Ge()+500,Sd&&Ii()))}function nn(t,e){var n=t.callbackNode;CS(t,e);var r=lh(t,t===pt?St:0);if(r===0)n!==null&&pm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pm(n),e===1)t.tag===0?ET(og.bind(null,t)):pv(og.bind(null,t)),vT(function(){!(me&6)&&Ii()}),n=null;else{switch(B6(r)){case 1:n=n2;break;case 4:n=V6;break;case 16:n=ah;break;case 536870912:n=z6;break;default:n=ah}n=dy(n,sy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sy(t,e){if(Vc=-1,zc=0,me&6)throw Error(b(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=lh(t,t===pt?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kh(t,r);else{e=r;var i=me;me|=2;var s=ay();(pt!==t||St!==e)&&(dr=null,Mo=Ge()+500,Zi(t,e));do try{jT();break}catch(a){oy(t,a)}while(1);m2(),Sh.current=s,me=i,nt!==null?e=0:(pt=null,St=0,e=at)}if(e!==0){if(e===2&&(i=a1(t),i!==0&&(r=i,e=M1(t,i))),e===1)throw n=Al,Zi(t,0),Gr(t,r),nn(t,Ge()),n;if(e===6)Gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!VT(i)&&(e=kh(t,r),e===2&&(s=a1(t),s!==0&&(r=s,e=M1(t,s))),e===1))throw n=Al,Zi(t,0),Gr(t,r),nn(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Mi(t,Qt,dr);break;case 3:if(Gr(t,r),(r&130023424)===r&&(e=x2+500-Ge(),10<e)){if(lh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=m1(Mi.bind(null,t,Qt,dr),e);break}Mi(t,Qt,dr);break;case 4:if(Gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UT(r/1960))-r,10<r){t.timeoutHandle=m1(Mi.bind(null,t,Qt,dr),r);break}Mi(t,Qt,dr);break;case 5:Mi(t,Qt,dr);break;default:throw Error(b(329))}}}return nn(t,Ge()),t.callbackNode===n?sy.bind(null,t):null}function M1(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&(Zi(t,e).flags|=256),t=kh(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&O1(e)),t}function O1(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function VT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~N2,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function og(t){if(me&6)throw Error(b(327));yo();var e=lh(t,0);if(!(e&1))return nn(t,Ge()),null;var n=kh(t,e);if(t.tag!==0&&n===2){var r=a1(t);r!==0&&(e=r,n=M1(t,r))}if(n===1)throw n=Al,Zi(t,0),Gr(t,e),nn(t,Ge()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mi(t,Qt,dr),nn(t,Ge()),null}function b2(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Mo=Ge()+500,Sd&&Ii())}}function hs(t){Zr!==null&&Zr.tag===0&&!(me&6)&&yo();var e=me;me|=1;var n=En.transition,r=Ee;try{if(En.transition=null,Ee=1,t)return t()}finally{Ee=r,En.transition=n,me=e,!(me&6)&&Ii()}}function A2(){sn=lo.current,Pe(lo)}function Zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gT(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(d2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fh();break;case 3:Po(),Pe(en),Pe(Ot),E2();break;case 5:w2(r);break;case 4:Po();break;case 13:Pe($e);break;case 19:Pe($e);break;case 10:g2(r.type._context);break;case 22:case 23:A2()}n=n.return}if(pt=t,nt=t=ui(t.current,null),St=sn=e,at=0,Al=null,N2=Rd=cs=0,Qt=rl=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hi=null}return t}function oy(t,e){do{var n=nt;try{if(m2(),Fc.current=Ch,Eh){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eh=!1}if(us=0,ht=st=Ue=null,tl=!1,Nl=0,L2.current=null,n===null||n.return===null){at=1,Al=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Km(o);if(f!==null){f.flags&=-257,Gm(f,o,a,s,e),f.mode&1&&qm(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){qm(s,u,e),P2();break e}l=Error(b(426))}}else if(Oe&&a.mode&1){var C=Km(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Gm(C,o,a,s,e),f2(Do(l,a));break e}}s=l=Do(l,a),at!==4&&(at=2),rl===null?rl=[s]:rl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Bv(s,l,e);Vm(s,g);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ai===null||!ai.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=Hv(s,a,e);Vm(s,T);break e}}s=s.return}while(s!==null)}uy(n)}catch(L){e=L,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function ay(){var t=Sh.current;return Sh.current=Ch,t===null?Ch:t}function P2(){(at===0||at===3||at===2)&&(at=4),pt===null||!(cs&268435455)&&!(Rd&268435455)||Gr(pt,St)}function kh(t,e){var n=me;me|=2;var r=ay();(pt!==t||St!==e)&&(dr=null,Zi(t,e));do try{zT();break}catch(i){oy(t,i)}while(1);if(m2(),me=n,Sh.current=r,nt!==null)throw Error(b(261));return pt=null,St=0,at}function zT(){for(;nt!==null;)ly(nt)}function jT(){for(;nt!==null&&!fS();)ly(nt)}function ly(t){var e=hy(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?uy(t):nt=e,L2.current=null}function uy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MT(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,nt=null;return}}else if(n=DT(n,e,sn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);at===0&&(at=5)}function Mi(t,e,n){var r=Ee,i=En.transition;try{En.transition=null,Ee=1,BT(t,e,n,r)}finally{En.transition=i,Ee=r}return null}function BT(t,e,n,r){do yo();while(Zr!==null);if(me&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(SS(t,s),t===pt&&(nt=pt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,dy(ah,function(){return yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=Ee;Ee=1;var a=me;me|=4,L2.current=null,FT(t,n),ry(n,t),uT(f1),uh=!!d1,f1=d1=null,t.current=n,$T(n),pS(),me=a,Ee=o,En.transition=s}else t.current=n;if(pc&&(pc=!1,Zr=t,Ih=i),s=t.pendingLanes,s===0&&(ai=null),vS(n.stateNode),nn(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Th)throw Th=!1,t=P1,P1=null,t;return Ih&1&&t.tag!==0&&yo(),s=t.pendingLanes,s&1?t===D1?il++:(il=0,D1=t):il=0,Ii(),null}function yo(){if(Zr!==null){var t=B6(Ih),e=En.transition,n=Ee;try{if(En.transition=null,Ee=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,Ih=0,me&6)throw Error(b(331));var i=me;for(me|=4,F=t.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:nl(8,c,s)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var d=c.sibling,f=c.return;if(ey(c),c===u){F=null;break}if(d!==null){d.return=f,F=d;break}F=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,F=g;break e}F=s.return}}var p=t.current;for(F=p;F!==null;){o=F;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,F=y;else e:for(o=p;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kd(9,a)}}catch(L){Be(a,a.return,L)}if(a===o){F=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,F=T;break e}F=a.return}}if(me=i,Ii(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{Ee=n,En.transition=e}}return!1}function ag(t,e,n){e=Do(n,e),e=Bv(t,e,1),t=oi(t,e,1),e=Bt(),t!==null&&(hu(t,1,e),nn(t,e))}function Be(t,e,n){if(t.tag===3)ag(t,t,n);else for(;e!==null;){if(e.tag===3){ag(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=Do(n,t),t=Hv(e,t,1),e=oi(e,t,1),t=Bt(),e!==null&&(hu(e,1,t),nn(e,t));break}}e=e.return}}function HT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(St&n)===n&&(at===4||at===3&&(St&130023424)===St&&500>Ge()-x2?Zi(t,0):N2|=n),nn(t,e)}function cy(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Bt();t=Ir(t,e),t!==null&&(hu(t,e,n),nn(t,n))}function WT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cy(t,n)}function qT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),cy(t,n)}var hy;hy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,PT(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,Oe&&e.flags&1048576&&mv(e,gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uc(t,e),t=e.pendingProps;var i=xo(e,Ot.current);vo(e,n),i=S2(null,e,r,t,i,n);var s=T2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,ph(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y2(e),i.updater=Id,e.stateNode=i,i._reactInternals=e,C1(e,r,t,n),e=I1(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&h2(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GT(r),t=Nn(r,t),i){case 0:e=T1(null,e,r,t,n);break e;case 1:e=Xm(null,e,r,t,n);break e;case 11:e=Qm(null,e,r,t,n);break e;case 14:e=Ym(null,e,r,Nn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),T1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Xm(t,e,r,i,n);case 3:e:{if(Gv(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ev(t,e),_h(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Do(Error(b(423)),e),e=Jm(t,e,r,n,i);break e}else if(r!==i){i=Do(Error(b(424)),e),e=Jm(t,e,r,n,i);break e}else for(an=si(e.stateNode.containerInfo.firstChild),un=e,Oe=!0,An=null,n=_v(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bo(),r===i){e=kr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return Cv(e),t===null&&_1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,p1(r,i)?o=null:s!==null&&p1(r,s)&&(e.flags|=32),Kv(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&_1(e),null;case 13:return Qv(t,e,n);case 4:return _2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ao(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Qm(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(vh,r._currentValue),r._currentValue=o,s!==null)if(zn(s.value,o)){if(s.children===i.children&&!en.current){e=kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),w1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),w1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vo(e,n),i=Cn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Nn(r,e.pendingProps),i=Nn(r.type,i),Ym(t,e,r,i,n);case 15:return Wv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Uc(t,e),e.tag=1,tn(r)?(t=!0,ph(e)):t=!1,vo(e,n),jv(e,r,i),C1(e,r,i,n),I1(null,e,r,!0,t,n);case 19:return Yv(t,e,n);case 22:return qv(t,e,n)}throw Error(b(156,e.tag))};function dy(t,e){return U6(t,e)}function KT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new KT(t,e,n,r)}function D2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GT(t){if(typeof t=="function")return D2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zp)return 11;if(t===e2)return 14}return 2}function ui(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")D2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Js:return es(n.children,i,s,e);case Jp:o=8,i|=8;break;case qf:return t=wn(12,n,e,i|2),t.elementType=qf,t.lanes=s,t;case Kf:return t=wn(13,n,e,i),t.elementType=Kf,t.lanes=s,t;case Gf:return t=wn(19,n,e,i),t.elementType=Gf,t.lanes=s,t;case C6:return Ld(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w6:o=10;break e;case E6:o=9;break e;case Zp:o=11;break e;case e2:o=14;break e;case Wr:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function es(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function Ld(t,e,n,r){return t=wn(22,t,r,e),t.elementType=C6,t.lanes=n,t.stateNode={isHidden:!1},t}function ef(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function tf(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M0(0),this.expirationTimes=M0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M2(t,e,n,r,i,s,o,a,l){return t=new QT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y2(s),t}function YT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fy(t){if(!t)return gi;t=t._reactInternals;e:{if(Ls(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(tn(n))return fv(t,n,e)}return e}function py(t,e,n,r,i,s,o,a,l){return t=M2(n,r,!0,t,i,s,o,a,l),t.context=fy(null),n=t.current,r=Bt(),i=li(n),s=wr(r,i),s.callback=e??null,oi(n,s,i),t.current.lanes=i,hu(t,i,r),nn(t,r),t}function Nd(t,e,n,r){var i=e.current,s=Bt(),o=li(i);return n=fy(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(i,e,o),t!==null&&(Un(t,i,o,s),Oc(t,i,o)),o}function Rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function O2(t,e){lg(t,e),(t=t.alternate)&&lg(t,e)}function XT(){return null}var my=typeof reportError=="function"?reportError:function(t){console.error(t)};function F2(t){this._internalRoot=t}xd.prototype.render=F2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Nd(t,e,null,null)};xd.prototype.unmount=F2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Nd(null,t,null,null)}),e[Tr]=null}};function xd(t){this._internalRoot=t}xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=q6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kr.length&&e!==0&&e<Kr[n].priority;n++);Kr.splice(n,0,t),n===0&&G6(t)}};function $2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ug(){}function JT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rh(o);s.call(u)}}var o=py(e,r,t,0,null,!1,!1,"",ug);return t._reactRootContainer=o,t[Tr]=o.current,Tl(t.nodeType===8?t.parentNode:t),hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Rh(l);a.call(u)}}var l=M2(t,0,!1,null,null,!1,!1,"",ug);return t._reactRootContainer=l,t[Tr]=l.current,Tl(t.nodeType===8?t.parentNode:t),hs(function(){Nd(e,l,n,r)}),l}function Ad(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Rh(o);a.call(l)}}Nd(e,o,t,i)}else o=JT(n,e,t,i,r);return Rh(o)}H6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(r2(e,n|1),nn(e,Ge()),!(me&6)&&(Mo=Ge()+500,Ii()))}break;case 13:hs(function(){var r=Ir(t,1);if(r!==null){var i=Bt();Un(r,t,1,i)}}),O2(t,1)}};i2=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Bt();Un(e,t,134217728,n)}O2(t,134217728)}};W6=function(t){if(t.tag===13){var e=li(t),n=Ir(t,e);if(n!==null){var r=Bt();Un(n,t,e,r)}O2(t,e)}};q6=function(){return Ee};K6=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};i1=function(t,e,n){switch(e){case"input":if(Xf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error(b(90));T6(r),Xf(r,i)}}}break;case"textarea":k6(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};P6=b2;D6=hs;var ZT={usingClientEntryPoint:!1,Events:[fu,no,Cd,b6,A6,b2]},La={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eI={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F6(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||XT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{yd=mc.inject(eI),Jn=mc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZT;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$2(e))throw Error(b(200));return YT(t,e,null,n)};mn.createRoot=function(t,e){if(!$2(t))throw Error(b(299));var n=!1,r="",i=my;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=M2(t,1,!1,null,null,n,!1,r,i),t[Tr]=e.current,Tl(t.nodeType===8?t.parentNode:t),new F2(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=F6(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return hs(t)};mn.hydrate=function(t,e,n){if(!bd(e))throw Error(b(200));return Ad(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!$2(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=my;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=py(e,null,t,1,n??null,i,!1,s,o),t[Tr]=e.current,Tl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xd(e)};mn.render=function(t,e,n){if(!bd(e))throw Error(b(200));return Ad(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!bd(t))throw Error(b(40));return t._reactRootContainer?(hs(function(){Ad(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};mn.unstable_batchedUpdates=b2;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bd(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Ad(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function gy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gy)}catch(t){console.error(t)}}gy(),g6.exports=mn;var U2=g6.exports;const tI=r6(U2),nI=n6({__proto__:null,default:tI},[U2]);var cg=U2;Hf.createRoot=cg.createRoot,Hf.hydrateRoot=cg.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(t,e){if(!t)throw na(e)},na=function(t){return new Error("Firebase Database ("+vy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},V2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new iI;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _y=function(t){const e=yy(t);return V2.encodeByteArray(e,!0)},Lh=function(t){return _y(t).replace(/\./g,"")},Nh=function(t){try{return V2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){return wy(void 0,t)}function wy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oI(n)||(t[n]=wy(t[n],e[n]));return t}function oI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=()=>aI().__FIREBASE_DEFAULTS__,uI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nh(t[1]);return e&&JSON.parse(e)},z2=()=>{try{return lI()||uI()||cI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ey=t=>{var e,n;return(n=(e=z2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hI=t=>{const e=Ey(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cy=()=>{var t;return(t=z2())===null||t===void 0?void 0:t.config},Sy=t=>{var e;return(e=z2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j2=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Lh(JSON.stringify(n)),Lh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function fI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ty(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pI(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Iy(){return vy.NODE_ADMIN===!0}function ky(){try{return typeof indexedDB=="object"}catch{return!1}}function mI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gI,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ns.prototype.create)}}class Ns{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vI(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kn(i,a,r)}}function vI(t,e){return t.replace(yI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){return JSON.parse(t)}function ft(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Pl(Nh(s[0])||""),n=Pl(Nh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},_I=function(t){const e=Ry(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wI=function(t){const e=Ry(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Oo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function F1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function bh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(hg(s)&&hg(o)){if(!bh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ba(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function CI(t,e){const n=new SI(t,e);return n.subscribe.bind(n)}class SI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TI(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nf),i.error===void 0&&(i.error=nf),i.complete===void 0&&(i.complete=nf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nf(){}function Ly(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1e3,RI=2,LI=4*60*60*1e3,NI=.5;function xI(t,e=kI,n=RI){const r=e*Math.pow(n,t),i=Math.round(NI*r*(Math.random()-.5)*2);return Math.min(LI,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new j2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PI(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AI(t){return t===Oi?void 0:t}function PI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const MI={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},OI=fe.INFO,FI={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},$I=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mu{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=$I,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const UI=(t,e)=>e.some(n=>t instanceof n);let dg,fg;function VI(){return dg||(dg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zI(){return fg||(fg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ny=new WeakMap,$1=new WeakMap,xy=new WeakMap,rf=new WeakMap,H2=new WeakMap;function jI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ny.set(n,t)}).catch(()=>{}),H2.set(e,t),e}function BI(t){if($1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$1.set(t,e)}let U1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HI(t){U1=t(U1)}function WI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sf(this),e,...n);return xy.set(r,e.sort?e.sort():[e]),ci(r)}:zI().includes(t)?function(...e){return t.apply(sf(this),e),ci(Ny.get(this))}:function(...e){return ci(t.apply(sf(this),e))}}function qI(t){return typeof t=="function"?WI(t):(t instanceof IDBTransaction&&BI(t),UI(t,VI())?new Proxy(t,U1):t)}function ci(t){if(t instanceof IDBRequest)return jI(t);if(rf.has(t))return rf.get(t);const e=qI(t);return e!==t&&(rf.set(t,e),H2.set(e,t)),e}const sf=t=>H2.get(t);function KI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ci(o.result),l.oldVersion,l.newVersion,ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GI=["get","getKey","getAll","getAllKeys","count"],QI=["put","add","delete","clear"],of=new Map;function pg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(of.get(e))return of.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GI.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return of.set(e,s),s}HI(t=>({...t,get:(e,n,r)=>pg(e,n)||t.get(e,n,r),has:(e,n)=>!!pg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V1="@firebase/app",mg="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new mu("@firebase/app"),JI="@firebase/app-compat",ZI="@firebase/analytics-compat",ek="@firebase/analytics",tk="@firebase/app-check-compat",nk="@firebase/app-check",rk="@firebase/auth",ik="@firebase/auth-compat",sk="@firebase/database",ok="@firebase/database-compat",ak="@firebase/functions",lk="@firebase/functions-compat",uk="@firebase/installations",ck="@firebase/installations-compat",hk="@firebase/messaging",dk="@firebase/messaging-compat",fk="@firebase/performance",pk="@firebase/performance-compat",mk="@firebase/remote-config",gk="@firebase/remote-config-compat",vk="@firebase/storage",yk="@firebase/storage-compat",_k="@firebase/firestore",wk="@firebase/firestore-compat",Ek="firebase",Ck="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="[DEFAULT]",Sk={[V1]:"fire-core",[JI]:"fire-core-compat",[ek]:"fire-analytics",[ZI]:"fire-analytics-compat",[nk]:"fire-app-check",[tk]:"fire-app-check-compat",[rk]:"fire-auth",[ik]:"fire-auth-compat",[sk]:"fire-rtdb",[ok]:"fire-rtdb-compat",[ak]:"fire-fn",[lk]:"fire-fn-compat",[uk]:"fire-iid",[ck]:"fire-iid-compat",[hk]:"fire-fcm",[dk]:"fire-fcm-compat",[fk]:"fire-perf",[pk]:"fire-perf-compat",[mk]:"fire-rc",[gk]:"fire-rc-compat",[vk]:"fire-gcs",[yk]:"fire-gcs-compat",[_k]:"fire-fst",[wk]:"fire-fst-compat","fire-js":"fire-js",[Ek]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new Map,j1=new Map;function Tk(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tn(t){const e=t.name;if(j1.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;j1.set(e,t);for(const n of Dl.values())Tk(n,t);return!0}function gu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hi=new Ns("app","Firebase",Ik);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=Ck;function by(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:z1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=Cy()),!n)throw hi.create("no-options");const s=Dl.get(i);if(s){if(bh(n,s.options)&&bh(r,s.config))return s;throw hi.create("duplicate-app",{appName:i})}const o=new DI(i);for(const l of j1.values())o.addComponent(l);const a=new kk(n,r,o);return Dl.set(i,a),a}function Ay(t=z1){const e=Dl.get(t);if(!e&&t===z1&&Cy())return by();if(!e)throw hi.create("no-app",{appName:t});return e}function Rk(){return Array.from(Dl.values())}function rt(t,e,n){var r;let i=(r=Sk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(a.join(" "));return}Tn(new fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firebase-heartbeat-database",Nk=1,Ml="firebase-heartbeat-store";let af=null;function Py(){return af||(af=KI(Lk,Nk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ml)}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),af}async function xk(t){try{return await(await Py()).transaction(Ml).objectStore(Ml).get(Dy(t))}catch(e){if(e instanceof kn)ds.warn(e.message);else{const n=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function gg(t,e){try{const r=(await Py()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,Dy(t)),await r.done}catch(n){if(n instanceof kn)ds.warn(n.message);else{const r=hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function Dy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=1024,Ak=30*24*60*60*1e3;class Pk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Ak}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vg(),{heartbeatsToSend:n,unsentEntries:r}=Dk(this._heartbeatsCache.heartbeats),i=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vg(){return new Date().toISOString().substring(0,10)}function Dk(t,e=bk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Mk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ky()?mI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await xk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yg(t){return Lh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){Tn(new fn("platform-logger",e=>new YI(e),"PRIVATE")),Tn(new fn("heartbeat",e=>new Pk(e),"PRIVATE")),rt(V1,mg,t),rt(V1,mg,"esm2017"),rt("fire-js","")}Ok("");function W2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function My(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fk=My,Oy=new Ns("auth","Firebase",My());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new mu("@firebase/auth");function $k(t,...e){Ah.logLevel<=fe.WARN&&Ah.warn(`Auth (${Mr}): ${t}`,...e)}function Bc(t,...e){Ah.logLevel<=fe.ERROR&&Ah.error(`Auth (${Mr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw q2(t,...e)}function er(t,...e){return q2(t,...e)}function Fy(t,e,n){const r=Object.assign(Object.assign({},Fk()),{[e]:n});return new Ns("auth","Firebase",r).create(e,{appName:t.name})}function Uk(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&In(t,"argument-error"),Fy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function q2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Oy.create(t,...e)}function J(t,e,...n){if(!t)throw q2(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bc(e),new Error(e)}function Rr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vk(){return _g()==="http:"||_g()==="https:"}function _g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vk()||fI()||"connection"in navigator)?navigator.onLine:!0}function jk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=B2()||Ty()}get(){return zk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e){Rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new vu(3e4,6e4);function ia(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sa(t,e,n,r,i={}){return Uy(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ra(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),$y.fetch()(Vy(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Uy(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bk),e);try{const i=new Wk(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Fy(t,c,u);In(t,c)}}catch(i){if(i instanceof kn)throw i;In(t,"network-request-failed",{message:String(i)})}}async function yu(t,e,n,r,i={}){const s=await sa(t,e,n,r,i);return"mfaPendingCredential"in s&&In(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Vy(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?K2(t.config,i):`${t.config.apiScheme}://${i}`}class Wk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),Hk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(t,e){return sa(t,"POST","/v1/accounts:delete",e)}async function Kk(t,e){return sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gk(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),i=G2(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sl(lf(i.auth_time)),issuedAtTime:sl(lf(i.iat)),expirationTime:sl(lf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lf(t){return Number(t)*1e3}function G2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nh(n);return i?JSON.parse(i):(Bc("Failed to decode base64 JWT payload"),null)}catch(i){return Bc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Qk(t){const e=G2(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&Yk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Yk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ol(t,Kk(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eR(s.providerUserInfo):[],a=Zk(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Jk(t){const e=Qe(t);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eR(t){return t.map(e=>{var{providerId:n}=e,r=W2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e){const n=await Uy(t,{},async()=>{const r=ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Vy(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$y.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fl;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=W2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Gk(this,e)}reload(){return Jk(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ol(this,qk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:T,isAnonymous:L,providerData:E,stsTokenManager:D}=n;J(y&&D,e,"internal-error");const N=Fl.fromJSON(this.name,D);J(typeof y=="string",e,"internal-error"),Br(h,e.name),Br(d,e.name),J(typeof T=="boolean",e,"internal-error"),J(typeof L=="boolean",e,"internal-error"),Br(f,e.name),Br(m,e.name),Br(v,e.name),Br(C,e.name),Br(g,e.name),Br(p,e.name);const V=new ts({uid:y,auth:e,email:d,emailVerified:T,displayName:h,isAnonymous:L,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:N,createdAt:g,lastLoginAt:p});return E&&Array.isArray(E)&&(V.providerData=E.map(z=>Object.assign({},z))),C&&(V._redirectEventId=C),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fl;i.updateFromServerResponse(n);const s=new ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ph(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=new Map;function vr(t){Rr(t instanceof Function,"Expected a class definition");let e=wg.get(t);return e?(Rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jy.type="NONE";const Eg=jy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t,e,n){return`firebase:${t}:${e}:${n}`}class _o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _o(vr(Eg),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||vr(Eg);const o=Hc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ts._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _o(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new _o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(By(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ky(e))return"Blackberry";if(Gy(e))return"Webos";if(Q2(e))return"Safari";if((e.includes("chrome/")||Hy(e))&&!e.includes("edge/"))return"Chrome";if(qy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function By(t=Ft()){return/firefox\//i.test(t)}function Q2(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hy(t=Ft()){return/crios\//i.test(t)}function Wy(t=Ft()){return/iemobile/i.test(t)}function qy(t=Ft()){return/android/i.test(t)}function Ky(t=Ft()){return/blackberry/i.test(t)}function Gy(t=Ft()){return/webos/i.test(t)}function Dd(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nR(t=Ft()){var e;return Dd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rR(){return pI()&&document.documentMode===10}function Qy(t=Ft()){return Dd(t)||qy(t)||Gy(t)||Ky(t)||/windows phone/i.test(t)||Wy(t)}function iR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t,e=[]){let n;switch(t){case"Browser":n=Cg(Ft());break;case"Worker":n=`${Cg(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mr}/${r}`}async function Xy(t,e){return sa(t,"GET","/v2/recaptchaConfig",ia(t,e))}function Sg(t){return t!==void 0&&t.enterprise!==void 0}class Jy{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Zy(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",sR().appendChild(r)})}function oR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aR="https://www.google.com/recaptcha/enterprise.js?render=",lR="recaptcha-enterprise",uR="NO_RECAPTCHA";class e8{constructor(e){this.type=lR,this.auth=xs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Xy(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Jy(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Sg(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(uR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Sg(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Zy(aR+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Dh(t,e,n,r=!1){const i=new e8(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tg(this),this.idTokenSubscription=new Tg(this),this.beforeStateQueue=new cR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Qe(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}async initializeRecaptchaConfig(){const e=await Xy(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Jy(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new e8(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ns("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return J(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$k(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xs(t){return Qe(t)}class Tg{constructor(e){this.auth=e,this.observer=null,this.addObserver=CI(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t,e){const n=gu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(bh(s,e??{}))return i;In(i,"already-initialized")}return n.initialize({options:e})}function fR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pR(t,e,n){const r=xs(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=t8(e),{host:o,port:a}=mR(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||gR()}function t8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mR(t){const e=t8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ig(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ig(o)}}}function Ig(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function vR(t,e){return sa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e){return yu(t,"POST","/v1/accounts:signInWithPassword",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}async function _R(t,e){return yu(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Y2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Dh(e,r,"signInWithPassword");return uf(e,i)}else return uf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Dh(e,r,"signInWithPassword");return uf(e,s)}else return Promise.reject(i)});case"emailLink":return yR(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return vR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _R(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return yu(t,"POST","/v1/accounts:signInWithIdp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="http://localhost";class fs extends Y2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=W2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:wR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ra(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CR(t){const e=ja(Ba(t)).link,n=e?ja(Ba(e)).deep_link_id:null,r=ja(Ba(t)).deep_link_id;return(r?ja(Ba(r)).link:null)||r||n||e||t}class X2{constructor(e){var n,r,i,s,o,a;const l=ja(Ba(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=ER((i=l.mode)!==null&&i!==void 0?i:null);J(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=CR(e);try{return new X2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=X2.parseLink(n);return J(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends J2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends _u{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gn.credential(n,r)}catch{return null}}}Gn.GOOGLE_SIGN_IN_METHOD="google.com";Gn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends _u{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends _u{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t,e){return yu(t,"POST","/v1/accounts:signUp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ts._fromIdTokenResponse(e,r,i),o=kg(r);return new ps({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kg(r);return new ps({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mh(e,n,r,i)}}function n8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,s,e,r):s})}async function SR(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ps._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ol(t,n8(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=G2(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),ps._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&In(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e,n=!1){const r="signIn",i=await n8(t,r,e),s=await ps._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function IR(t,e){return r8(xs(t),e)}async function kR(t,e,n){var r;const i=xs(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Dh(i,s,"signUpPassword");o=cf(i,u)}else o=cf(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Dh(i,s,"signUpPassword");return cf(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await ps._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function RR(t,e,n){return IR(Qe(t),oa.credential(e,n))}function i8(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function LR(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){const t=Ft();return Q2(t)||Dd(t)}const xR=1e3,bR=10;class o8 extends s8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NR()&&iR(),this.fallbackToPolling=Qy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o8.type="LOCAL";const AR=o8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8 extends s8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a8.type="SESSION";const l8=a8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await PR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Z2("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function MR(t){tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function OR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $R(){return u8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="firebaseLocalStorageDb",UR=1,Fh="firebaseLocalStorage",h8="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Od(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function VR(){const t=indexedDB.deleteDatabase(c8);return new wu(t).toPromise()}function H1(){const t=indexedDB.open(c8,UR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fh,{keyPath:h8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await VR(),e(await H1()))})})}async function Rg(t,e,n){const r=Od(t,!0).put({[h8]:e,value:n});return new wu(r).toPromise()}async function zR(t,e){const n=Od(t,!1).get(e),r=await new wu(n).toPromise();return r===void 0?null:r.value}function Lg(t,e){const n=Od(t,!0).delete(e);return new wu(n).toPromise()}const jR=800,BR=3;class d8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance($R()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OR(),!this.activeServiceWorker)return;this.sender=new DR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H1();return await Rg(e,Oh,"1"),await Lg(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Od(i,!1).getAll();return new wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d8.type="LOCAL";const HR=d8;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t,e){return e?vr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5 extends Y2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WR(t){return r8(t.auth,new e5(t),t.bypassAuthState)}function qR(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),TR(n,new e5(t),t.bypassAuthState)}async function KR(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),SR(n,new e5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WR;case"linkViaPopup":case"linkViaRedirect":return KR;case"reauthViaPopup":case"reauthViaRedirect":return qR;default:In(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new vu(2e3,1e4);async function m8(t,e,n){const r=xs(t);Uk(t,e,J2);const i=f8(r,n);return new qi(r,"signInViaPopup",e,i).executeNotNull()}class qi extends p8{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qi.currentPopupAction&&qi.currentPopupAction.cancel(),qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const e=Z2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GR.get())};e()}}qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="pendingRedirect",Wc=new Map;class YR extends p8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await XR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XR(t,e){const n=eL(e),r=ZR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JR(t,e){Wc.set(t._key(),e)}function ZR(t){return vr(t._redirectPersistence)}function eL(t){return Hc(QR,t.config.apiKey,t.name)}async function tL(t,e,n=!1){const r=xs(t),i=f8(r,e),o=await new YR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=10*60*1e3;class rL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!g8(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ng(e))}saveEventToCache(e){this.cachedEventUids.add(Ng(e)),this.lastProcessedEventTime=Date.now()}}function Ng(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function g8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e={}){return sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aL=/^https?/;async function lL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sL(t);for(const n of e)try{if(uL(n))return}catch{}In(t,"unauthorized-domain")}function uL(t){const e=B1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aL.test(n))return!1;if(oL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new vu(3e4,6e4);function xg(){const t=tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hL(t){return new Promise((e,n)=>{var r,i,s;function o(){xg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xg(),n(er(t,"network-request-failed"))},timeout:cL.get()})}if(!((i=(r=tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=tr().gapi)===null||s===void 0)&&s.load)o();else{const a=oR("iframefcb");return tr()[a]=()=>{gapi.load?o():n(er(t,"network-request-failed"))},Zy(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qc=null,e})}let qc=null;function dL(t){return qc=qc||hL(t),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new vu(5e3,15e3),pL="__/auth/iframe",mL="emulator/auth/iframe",gL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yL(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K2(e,mL):`https://${t.config.authDomain}/${pL}`,r={apiKey:e.apiKey,appName:t.name,v:Mr},i=vL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ra(r).slice(1)}`}async function _L(t){const e=await dL(t),n=tr().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:yL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=er(t,"network-request-failed"),a=tr().setTimeout(()=>{s(o)},fL.get());function l(){tr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EL=500,CL=600,SL="_blank",TL="http://localhost";class bg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IL(t,e,n,r=EL,i=CL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wL),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ft().toLowerCase();n&&(a=Hy(u)?SL:n),By(u)&&(e=e||TL,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,m])=>`${d}${f}=${m},`,"");if(nR(u)&&a!=="_self")return kL(e||"",a),new bg(null);const h=window.open(e||"",a,c);J(h,t,"popup-blocked");try{h.focus()}catch{}return new bg(h)}function kL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="__/auth/handler",LL="emulator/auth/handler",NL=encodeURIComponent("fac");async function Ag(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mr,eventId:i};if(e instanceof J2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",F1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof _u){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${NL}=${encodeURIComponent(l)}`:"";return`${xL(t)}?${ra(a).slice(1)}${u}`}function xL({config:t}){return t.emulator?K2(t,LL):`https://${t.authDomain}/${RL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="webStorageSupport";class bL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l8,this._completeRedirectFn=tL,this._overrideRedirectResult=JR}async _openPopup(e,n,r,i){var s;Rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ag(e,n,r,B1(),i);return IL(e,o,Z2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ag(e,n,r,B1(),i);return MR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _L(e),r=new rL(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hf,{type:hf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hf];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qy()||Q2()||Dd()}}const AL=bL;var Pg="@firebase/auth",Dg="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ML(t){Tn(new fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yy(t)},u=new hR(r,i,s,l);return fR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new fn("auth-internal",e=>{const n=xs(e.getProvider("auth").getImmediate());return(r=>new PL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(Pg,Dg,DL(t)),rt(Pg,Dg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=5*60,FL=Sy("authIdTokenMaxAge")||OL;let Mg=null;const $L=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FL)return;const i=n==null?void 0:n.token;Mg!==i&&(Mg=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UL(t=Ay()){const e=gu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dR(t,{popupRedirectResolver:AL,persistence:[HR,AR,l8]}),r=Sy("authTokenSyncURL");if(r){const s=$L(r);LR(n,s,()=>s(n.currentUser)),i8(n,o=>s(o))}const i=Ey("auth");return i&&pR(n,`http://${i}`),n}ML("Browser");const Og="@firebase/database",Fg="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v8="";function VL(t){v8=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ft(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Pl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Dr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zL(e)}}catch{}return new jL},Ki=y8("localStorage"),W1=y8("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new mu("@firebase/database"),BL=function(){let t=1;return function(){return t++}}(),_8=function(t){const e=II(t),n=new EI;n.update(e);const r=n.digest();return V2.encodeByteArray(r)},Eu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Eu.apply(null,r):typeof r=="object"?e+=ft(r):e+=r,e+=" "}return e};let ns=null,$g=!0;const HL=function(t,e){P(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Eo.logLevel=fe.VERBOSE,ns=Eo.log.bind(Eo),e&&W1.set("logging_enabled",!0)):typeof t=="function"?ns=t:(ns=null,W1.remove("logging_enabled"))},bt=function(...t){if($g===!0&&($g=!1,ns===null&&W1.get("logging_enabled")===!0&&HL(!0)),ns){const e=Eu.apply(null,t);ns(e)}},Cu=function(t){return function(...e){bt(t,...e)}},q1=function(...t){const e="FIREBASE INTERNAL ERROR: "+Eu(...t);Eo.error(e)},ms=function(...t){const e=`FIREBASE FATAL ERROR: ${Eu(...t)}`;throw Eo.error(e),new Error(e)},cn=function(...t){const e="FIREBASE WARNING: "+Eu(...t);Eo.warn(e)},WL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},w8=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},qL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Fo="[MIN_NAME]",gs="[MAX_NAME]",aa=function(t,e){if(t===e)return 0;if(t===Fo||e===gs)return-1;if(e===Fo||t===gs)return 1;{const n=Ug(t),r=Ug(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},KL=function(t,e){return t===e?0:t<e?-1:1},Na=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ft(e))},t5=function(t){if(typeof t!="object"||t===null)return ft(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ft(e[r]),n+=":",n+=t5(t[e[r]]);return n+="}",n},E8=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function rn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const C8=function(t){P(!w8(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},GL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function YL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const XL=new RegExp("^-?(0*)\\d{1,10}$"),JL=-2147483648,ZL=2147483647,Ug=function(t){if(XL.test(t)){const e=Number(t);if(e>=JL&&e<=ZL)return e}return null},Su=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw cn("Exception was thrown by user callback.",n),e},Math.floor(0))}},eN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ol=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){cn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cn(e)}}class K1{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}K1.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="5",S8="v",T8="s",I8="r",k8="f",R8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,L8="ls",N8="p",G1="ac",x8="websocket",b8="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ki.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ki.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function iN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function A8(t,e,n){P(typeof e=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(e===x8)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===b8)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);iN(t)&&(n.ns=t.namespace);const i=[];return rn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.counters_={}}incrementCounter(e,n=1){Dr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df={},ff={};function r5(t){const e=t.toString();return df[e]||(df[e]=new sN),df[e]}function oN(t,e){const n=t.toString();return ff[n]||(ff[n]=e()),ff[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Su(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="start",lN="close",uN="pLPCommand",cN="pRTLPCB",P8="id",D8="pw",M8="ser",hN="cb",dN="seg",fN="ts",pN="d",mN="dframe",O8=1870,F8=30,gN=O8-F8,vN=25e3,yN=3e4;class uo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cu(e),this.stats_=r5(n),this.urlFn=l=>(this.appCheckToken&&(l[G1]=this.appCheckToken),A8(n,b8,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new aN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yN)),qL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new i5((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Vg)this.id=a,this.password=l;else if(o===lN)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Vg]="t",r[M8]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[hN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[S8]=n5,this.transportSessionId&&(r[T8]=this.transportSessionId),this.lastSessionId&&(r[L8]=this.lastSessionId),this.applicationId&&(r[N8]=this.applicationId),this.appCheckToken&&(r[G1]=this.appCheckToken),typeof location<"u"&&location.hostname&&R8.test(location.hostname)&&(r[I8]=k8);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uo.forceAllow_=!0}static forceDisallow(){uo.forceDisallow_=!0}static isAvailable(){return uo.forceAllow_?!0:!uo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!GL()&&!QL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_y(n),i=E8(r,gN);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mN]="t",r[P8]=e,r[D8]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ft(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class i5{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BL(),window[uN+this.uniqueCallbackIdentifier]=e,window[cN+this.uniqueCallbackIdentifier]=n,this.myIFrame=i5.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){bt("frame writing exception"),a.stack&&bt(a.stack),bt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||bt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[P8]=this.myID,e[D8]=this.myPW,e[M8]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+F8+r.length<=O8;){const o=this.pendingSegs.shift();r=r+"&"+dN+i+"="+o.seg+"&"+fN+i+"="+o.ts+"&"+pN+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(vN)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{bt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=16384,wN=45e3;let $h=null;typeof MozWebSocket<"u"?$h=MozWebSocket:typeof WebSocket<"u"&&($h=WebSocket);class Pn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cu(this.connId),this.stats_=r5(n),this.connURL=Pn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[S8]=n5,typeof location<"u"&&location.hostname&&R8.test(location.hostname)&&(o[I8]=k8),n&&(o[T8]=n),r&&(o[L8]=r),i&&(o[G1]=i),s&&(o[N8]=s),A8(e,x8,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ki.set("previous_websocket_failure",!0);try{let r;Iy(),this.mySock=new $h(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&$h!==null&&!Pn.forceDisallow_}static previouslyFailed(){return Ki.isInMemoryStorage||Ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ki.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Pl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=E8(n,_N);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pn.responsesRequiredToBeHealthy=2;Pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[uo,Pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Pn&&Pn.isAvailable();let r=n&&!Pn.previouslyFailed();if(e.webSocketOnly&&(n||cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pn];else{const i=this.transports_=[];for(const s of Ul.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ul.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ul.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=6e4,CN=5e3,SN=10*1024,TN=100*1024,pf="t",zg="d",IN="s",jg="r",kN="e",Bg="o",Hg="a",Wg="n",qg="p",RN="h";class LN{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cu("c:"+this.id+":"),this.transportManager_=new Ul(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ol(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pf in e){const n=e[pf];n===Hg?this.upgradeIfSecondaryHealthy_():n===jg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Bg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Na("t",e),r=Na("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Hg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Na("t",e),r=Na("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Na(pf,e);if(zg in e){const r=e[zg];if(n===RN){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Wg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===IN?this.onConnectionShutdown_(r):n===jg?this.onReset_(r):n===kN?q1("Server Error: "+r):n===Bg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):q1("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),n5!==r&&cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ol(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(EN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ol(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(CN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends U8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!B2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Uh}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=32,Gg=768;class Ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function we(){return new Ie("")}function oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vi(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ie(t.pieces_,e)}function V8(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function NN(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function z8(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function j8(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ie(e,0)}function ot(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ie(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function Jt(t,e){const n=oe(t),r=oe(e);if(n===null)return e;if(n===r)return Jt(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function s5(t,e){if(vi(t)!==vi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Mn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(vi(t)>vi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class xN{constructor(e,n){this.errorPrefix_=n,this.parts_=z8(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pd(this.parts_[r]);B8(this)}}function bN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Pd(e),B8(t)}function AN(t){const e=t.parts_.pop();t.byteLength_-=Pd(e),t.parts_.length>0&&(t.byteLength_-=1)}function B8(t){if(t.byteLength_>Gg)throw new Error(t.errorPrefix_+"has a key path longer than "+Gg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Kg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kg+") or object contains a cycle "+Fi(t))}function Fi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5 extends U8{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new o5}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=1e3,PN=60*5*1e3,Qg=30*1e3,DN=1.3,MN=3e4,ON="server_kill",Yg=3;class Er extends $8{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Er.nextPersistentConnectionId_++,this.log_=Cu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xa,this.maxReconnectDelay_=PN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Iy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");o5.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Uh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(ft(s)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new j2,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Er.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Dr(e,"w")){const r=Oo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wI(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_I(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ft(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):q1("Unrecognized action received from server: "+ft(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>MN&&(this.reconnectDelay_=xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*DN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Er.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){P(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new LN(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{cn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(ON)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&cn(h),l())}}}interrupt(e){bt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){bt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],F1(this.interruptReasons_)&&(this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>t5(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ie(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){bt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yg&&(this.reconnectDelay_=Qg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){bt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+v8.replace(/\./g,"-")]=1,B2()?e["framework.cordova"]=1:Ty()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Uh.getInstance().currentlyOnline();return F1(this.interruptReasons_)&&e}}Er.nextPersistentConnectionId_=0;Er.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new se(Fo,e),i=new se(Fo,n);return this.compare(r,i)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;class H8 extends Fd{static get __EMPTY_NODE(){return vc}static set __EMPTY_NODE(e){vc=e}compare(e,n){return aa(e.name,n.name)}isDefinedOn(e){throw na("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(gs,vc)}makePost(e,n){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new se(e,vc)}toString(){return".key"}}const Co=new H8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??Zt.EMPTY_NODE,this.right=s??Zt.EMPTY_NODE}copy(e,n,r,i,s){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Zt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class FN{copy(e,n,r,i,s){return this}insert(e,n,r){return new dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Zt{constructor(e,n=Zt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Zt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new Zt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new yc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new yc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new yc(this.root_,null,this.comparator_,!0,e)}}Zt.EMPTY_NODE=new FN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e){return aa(t.name,e.name)}function a5(t,e){return aa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q1;function UN(t){Q1=t}const W8=function(t){return typeof t=="number"?"number:"+C8(t):"string:"+t},q8=function(t){if(t.isLeafNode()){const e=t.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Dr(e,".sv"),"Priority must be a string or number.")}else P(t===Q1||t.isEmpty(),"priority of unexpected type.");P(t===Q1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg;class ut{constructor(e,n=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),q8(this.priorityNode_)}static set __childrenNodeConstructor(e){Xg=e}static get __childrenNodeConstructor(){return Xg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:oe(e)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=oe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||vi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+W8(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=C8(this.value_):e+=this.value_,this.lazyHash_=_8(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ut.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ut.VALUE_TYPE_ORDER.indexOf(n),s=ut.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K8,G8;function VN(t){K8=t}function zN(t){G8=t}class jN extends Fd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?aa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(gs,new ut("[PRIORITY-POST]",G8))}makePost(e,n){const r=K8(e);return new se(n,new ut("[PRIORITY-POST]",r))}toString(){return".priority"}}const He=new jN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=Math.log(2);class HN{constructor(e){const n=s=>parseInt(Math.log(s)/BN,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vh=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,d;if(c===0)return null;if(c===1)return h=t[l],d=n?n(h):h,new dt(d,h.node,dt.BLACK,null,null);{const f=parseInt(c/2,10)+l,m=i(l,f),v=i(f+1,u);return h=t[f],d=n?n(h):h,new dt(d,h.node,dt.BLACK,m,v)}},s=function(l){let u=null,c=null,h=t.length;const d=function(m,v){const C=h-m,g=h;h-=m;const p=i(C+1,g),y=t[C],T=n?n(y):y;f(new dt(T,y.node,v,null,p))},f=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),C=Math.pow(2,l.count-(m+1));v?d(C,dt.BLACK):(d(C,dt.BLACK),d(C,dt.RED))}return c},o=new HN(t.length),a=s(o);return new Zt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;const Hs={};class yr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(Hs&&He,"ChildrenNode.ts has not been loaded"),mf=mf||new yr({".priority":Hs},{".priority":He}),mf}get(e){const n=Oo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Zt?n:null}hasIndex(e){return Dr(this.indexSet_,e.toString())}addIndex(e,n){P(e!==Co,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(se.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Vh(r,e.getCompare()):a=Hs;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new yr(c,u)}addToIndexes(e,n){const r=xh(this.indexes_,(i,s)=>{const o=Oo(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Hs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(se.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Vh(a,o.getCompare())}else return Hs;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new se(e.name,a))),l.insert(e,e.node)}});return new yr(r,this.indexSet_)}removeFromIndexes(e,n){const r=xh(this.indexes_,i=>{if(i===Hs)return i;{const s=n.get(e.name);return s?i.remove(new se(e.name,s)):i}});return new yr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba;class Y{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&q8(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ba||(ba=new Y(new Zt(a5),null,yr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ba}updatePriority(e){return this.children_.isEmpty()?this:new Y(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ba:n}}getChild(e){const n=oe(e);return n===null?this:this.getImmediateChild(n).getChild(Re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(P(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new se(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ba:this.priorityNode_;return new Y(i,o,s)}}updateChild(e,n){const r=oe(e);if(r===null)return n;{P(oe(e)!==".priority"||vi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Re(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),r++,s&&Y.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+W8(this.getPriority().val())+":"),this.forEachChild(He,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":_8(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new se(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new se(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tu?-1:0}withIndex(e){if(e===Co||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Y(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Co||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(He),i=n.getIterator(He);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Co?null:this.indexMap_.get(e.toString())}}Y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class WN extends Y{constructor(){super(new Zt(a5),Y.EMPTY_NODE,yr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Y.EMPTY_NODE}isEmpty(){return!1}}const Tu=new WN;Object.defineProperties(se,{MIN:{value:new se(Fo,Y.EMPTY_NODE)},MAX:{value:new se(gs,Tu)}});H8.__EMPTY_NODE=Y.EMPTY_NODE;ut.__childrenNodeConstructor=Y;UN(Tu);zN(Tu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=!0;function At(t,e=null){if(t===null)return Y.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ut(n,At(e))}if(!(t instanceof Array)&&qN){const n=[];let r=!1;if(rn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=At(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new se(o,l)))}}),n.length===0)return Y.EMPTY_NODE;const s=Vh(n,$N,o=>o.name,a5);if(r){const o=Vh(n,He.getCompare());return new Y(s,At(e),new yr({".priority":o},{".priority":He}))}else return new Y(s,At(e),yr.Default)}else{let n=Y.EMPTY_NODE;return rn(t,(r,i)=>{if(Dr(t,r)&&r.substring(0,1)!=="."){const s=At(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(At(e))}}VN(At);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN extends Fd{constructor(e){super(),this.indexPath_=e,P(!ae(e)&&oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?aa(e.name,n.name):s}makePost(e,n){const r=At(e),i=Y.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){const e=Y.EMPTY_NODE.updateChild(this.indexPath_,Tu);return new se(gs,e)}toString(){return z8(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends Fd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?aa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){const r=At(e);return new se(n,r)}toString(){return".value"}}const QN=new GN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){return{type:"value",snapshotNode:t}}function $o(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Vl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function YN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Vl(n,a)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange($o(n,r)):o.trackChildChange(zl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(He,(i,s)=>{n.hasChild(i)||r.trackChildChange(Vl(i,s))}),n.isLeafNode()||n.forEachChild(He,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(zl(i,s,o))}else r.trackChildChange($o(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Y.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.indexedFilter_=new l5(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jl.getStartPost_(e),this.endPost_=jl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new se(n,r))||(r=Y.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Y.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Y.EMPTY_NODE);const s=this;return n.forEachChild(He,(o,a)=>{s.matches(new se(o,a))||(i=i.updateImmediateChild(o,Y.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new jl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new se(n,r))||(r=Y.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Y.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Y.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Y.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Y.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const a=e;P(a.numChildren()===this.limit_,"");const l=new se(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(zl(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Vl(n,h));const v=a.updateImmediateChild(n,Y.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange($o(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Vl(u.name,u.node)),s.trackChildChange($o(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Y.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fo}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new u5;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JN(t){return t.loadsAllData()?new l5(t.getIndex()):t.hasLimit()?new XN(t):new jl(t)}function Jg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===QN?n="$value":t.index_===Co?n="$key":(P(t.index_ instanceof KN,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ft(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ft(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ft(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ft(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ft(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Zg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends $8{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Cu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=zh.getListenId_(e,r),a={};this.listens_[o]=a;const l=Jg(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Oo(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=zh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Jg(e._queryParams),r=e._path.toString(),i=new j2;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ra(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Pl(a.responseText)}catch{cn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&cn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.rootNode_=Y.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(){return{value:null,children:new Map}}function Y8(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=oe(e);t.children.has(r)||t.children.set(r,jh());const i=t.children.get(r);e=Re(e),Y8(i,e,n)}}function Y1(t,e,n){t.value!==null?n(e,t.value):ex(t,(r,i)=>{const s=new Ie(e.toString()+"/"+r);Y1(i,s,n)})}function ex(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&rn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=10*1e3,nx=30*1e3,rx=5*60*1e3;class ix{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tx(e);const r=e3+(nx-e3)*Math.random();ol(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;rn(e,(i,s)=>{s>0&&Dr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ol(this.reportStats_.bind(this),Math.floor(Math.random()*2*rx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(On||(On={}));function X8(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function c5(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function h5(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=On.ACK_USER_WRITE,this.source=X8()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ie(e));return new Bh(we(),n,this.revert)}}else return P(oe(this.path)===e,"operationForChild called for unrelated child."),new Bh(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.source=e,this.path=n,this.type=On.LISTEN_COMPLETE}operationForChild(e){return ae(this.path)?new Bl(this.source,we()):new Bl(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=On.OVERWRITE}operationForChild(e){return ae(this.path)?new vs(this.source,we(),this.snap.getImmediateChild(e)):new vs(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=On.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new Ie(e));return n.isEmpty()?null:n.value?new vs(this.source,we(),n.value):new Hl(this.source,we(),n)}else return P(oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hl(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ox(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(YN(o.childName,o.snapshotNode))}),Aa(t,i,"child_removed",e,r,n),Aa(t,i,"child_added",e,r,n),Aa(t,i,"child_moved",s,r,n),Aa(t,i,"child_changed",e,r,n),Aa(t,i,"value",e,r,n),i}function Aa(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>lx(t,a,l)),o.forEach(a=>{const l=ax(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function ax(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lx(t,e,n){if(e.childName==null||n.childName==null)throw na("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),i=new se(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t,e){return{eventCache:t,serverCache:e}}function al(t,e,n,r){return $d(new ys(e,n,r),t.serverCache)}function J8(t,e,n,r){return $d(t.eventCache,new ys(e,n,r))}function X1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function _s(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;const ux=()=>(gf||(gf=new Zt(KL)),gf);class be{constructor(e,n=ux()){this.value=e,this.children=n}static fromObject(e){let n=new be(null);return rn(e,(r,i)=>{n=n.set(new Ie(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(ae(e))return null;{const r=oe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Re(e),n);return s!=null?{path:ot(new Ie(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=oe(e),r=this.children.get(n);return r!==null?r.subtree(Re(e)):new be(null)}}set(e,n){if(ae(e))return new be(n,this.children);{const r=oe(e),s=(this.children.get(r)||new be(null)).set(Re(e),n),o=this.children.insert(r,s);return new be(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new be(null):new be(null,this.children);{const n=oe(e),r=this.children.get(n);if(r){const i=r.remove(Re(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new be(null):new be(this.value,s)}else return this}}get(e){if(ae(e))return this.value;{const n=oe(e),r=this.children.get(n);return r?r.get(Re(e)):null}}setTree(e,n){if(ae(e))return n;{const r=oe(e),s=(this.children.get(r)||new be(null)).setTree(Re(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new be(this.value,o)}}fold(e){return this.fold_(we(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ot(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,we(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ae(e))return null;{const s=oe(e),o=this.children.get(s);return o?o.findOnPath_(Re(e),ot(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,we(),n)}foreachOnPath_(e,n,r){if(ae(e))return this;{this.value&&r(n,this.value);const i=oe(e),s=this.children.get(i);return s?s.foreachOnPath_(Re(e),ot(n,i),r):new be(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ot(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.writeTree_=e}static empty(){return new Vn(new be(null))}}function ll(t,e,n){if(ae(e))return new Vn(new be(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Jt(i,e);return s=s.updateChild(o,n),new Vn(t.writeTree_.set(i,s))}else{const i=new be(n),s=t.writeTree_.setTree(e,i);return new Vn(s)}}}function t3(t,e,n){let r=t;return rn(n,(i,s)=>{r=ll(r,ot(e,i),s)}),r}function n3(t,e){if(ae(e))return Vn.empty();{const n=t.writeTree_.setTree(e,new be(null));return new Vn(n)}}function J1(t,e){return bs(t,e)!=null}function bs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Jt(n.path,e)):null}function r3(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(r,i)=>{e.push(new se(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new se(r,i.value))}),e}function di(t,e){if(ae(e))return t;{const n=bs(t,e);return n!=null?new Vn(new be(n)):new Vn(t.writeTree_.subtree(e))}}function Z1(t){return t.writeTree_.isEmpty()}function Uo(t,e){return Z8(we(),t.writeTree_,e)}function Z8(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(P(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Z8(ot(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ot(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t,e){return r_(e,t)}function cx(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ll(t.visibleWrites,e,n)),t.lastWriteId=r}function hx(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function dx(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&fx(a,r.path)?i=!1:Mn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return px(t),!0;if(r.snap)t.visibleWrites=n3(t.visibleWrites,r.path);else{const a=r.children;rn(a,l=>{t.visibleWrites=n3(t.visibleWrites,ot(r.path,l))})}return!0}else return!1}function fx(t,e){if(t.snap)return Mn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Mn(ot(t.path,n),e))return!0;return!1}function px(t){t.visibleWrites=e_(t.allWrites,mx,we()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mx(t){return t.visible}function e_(t,e,n){let r=Vn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Mn(n,o)?(a=Jt(n,o),r=ll(r,a,s.snap)):Mn(o,n)&&(a=Jt(o,n),r=ll(r,we(),s.snap.getChild(a)));else if(s.children){if(Mn(n,o))a=Jt(n,o),r=t3(r,a,s.children);else if(Mn(o,n))if(a=Jt(o,n),ae(a))r=t3(r,we(),s.children);else{const l=Oo(s.children,oe(a));if(l){const u=l.getChild(Re(a));r=ll(r,we(),u)}}}else throw na("WriteRecord should have .snap or .children")}}return r}function t_(t,e,n,r,i){if(!r&&!i){const s=bs(t.visibleWrites,e);if(s!=null)return s;{const o=di(t.visibleWrites,e);if(Z1(o))return n;if(n==null&&!J1(o,we()))return null;{const a=n||Y.EMPTY_NODE;return Uo(o,a)}}}else{const s=di(t.visibleWrites,e);if(!i&&Z1(s))return n;if(!i&&n==null&&!J1(s,we()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Mn(u.path,e)||Mn(e,u.path))},a=e_(t.allWrites,o,e),l=n||Y.EMPTY_NODE;return Uo(a,l)}}}function gx(t,e,n){let r=Y.EMPTY_NODE;const i=bs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(He,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=di(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=Uo(di(s,new Ie(o)),a);r=r.updateImmediateChild(o,l)}),r3(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=di(t.visibleWrites,e);return r3(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function vx(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ot(e,n);if(J1(t.visibleWrites,s))return null;{const o=di(t.visibleWrites,s);return Z1(o)?i.getChild(n):Uo(o,i.getChild(n))}}function yx(t,e,n,r){const i=ot(e,n),s=bs(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=di(t.visibleWrites,i);return Uo(o,r.getNode().getImmediateChild(n))}else return null}function _x(t,e){return bs(t.visibleWrites,e)}function wx(t,e,n,r,i,s,o){let a;const l=di(t.visibleWrites,e),u=bs(l,we());if(u!=null)a=u;else if(n!=null)a=Uo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=d.getNext();for(;f&&c.length<i;)h(f,r)!==0&&c.push(f),f=d.getNext();return c}else return[]}function Ex(){return{visibleWrites:Vn.empty(),allWrites:[],lastWriteId:-1}}function Hh(t,e,n,r){return t_(t.writeTree,t.treePath,e,n,r)}function f5(t,e){return gx(t.writeTree,t.treePath,e)}function i3(t,e,n,r){return vx(t.writeTree,t.treePath,e,n,r)}function Wh(t,e){return _x(t.writeTree,ot(t.treePath,e))}function Cx(t,e,n,r,i,s){return wx(t.writeTree,t.treePath,e,n,r,i,s)}function p5(t,e,n){return yx(t.writeTree,t.treePath,e,n)}function n_(t,e){return r_(ot(t.treePath,e),t.writeTree)}function r_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,zl(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Vl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$o(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,zl(r,e.snapshotNode,i.oldSnap));else throw na("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const i_=new Tx;class m5{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return p5(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_s(this.viewCache_),s=Cx(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){return{filter:t}}function kx(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Rx(t,e,n,r,i){const s=new Sx;let o,a;if(n.type===On.OVERWRITE){const u=n;u.source.fromUser?o=ep(t,e,u.path,u.snap,r,i,s):(P(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ae(u.path),o=qh(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===On.MERGE){const u=n;u.source.fromUser?o=Nx(t,e,u.path,u.children,r,i,s):(P(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=tp(t,e,u.path,u.children,r,i,a,s))}else if(n.type===On.ACK_USER_WRITE){const u=n;u.revert?o=Ax(t,e,u.path,r,i,s):o=xx(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===On.LISTEN_COMPLETE)o=bx(t,e,n.path,r,s);else throw na("Unknown operation type: "+n.type);const l=s.getChanges();return Lx(e,o,l),{viewCache:o,changes:l}}function Lx(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=X1(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Q8(X1(e)))}}function s_(t,e,n,r,i,s){const o=e.eventCache;if(Wh(r,n)!=null)return e;{let a,l;if(ae(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=_s(e),c=u instanceof Y?u:Y.EMPTY_NODE,h=f5(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=Hh(r,_s(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=oe(n);if(u===".priority"){P(vi(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=i3(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=Re(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=i3(r,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=p5(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return al(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function qh(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(ae(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=oe(n);if(!l.isCompleteForPath(n)&&vi(n)>1)return e;const m=Re(n),C=l.getNode().getImmediateChild(f).updateChild(m,r);f===".priority"?u=c.updatePriority(l.getNode(),C):u=c.updateChild(l.getNode(),f,C,m,i_,null)}const h=J8(e,u,l.isFullyInitialized()||ae(n),c.filtersNodes()),d=new m5(i,h,s);return s_(t,h,n,i,d,a)}function ep(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new m5(i,e,s);if(ae(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=al(e,u,!0,t.filter.filtersNodes());else{const h=oe(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=al(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Re(n),f=a.getNode().getImmediateChild(h);let m;if(ae(d))m=r;else{const v=c.getCompleteChild(h);v!=null?V8(d)===".priority"&&v.getChild(j8(d)).isEmpty()?m=v:m=v.updateChild(d,r):m=Y.EMPTY_NODE}if(f.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),h,m,d,c,o);l=al(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function s3(t,e){return t.eventCache.isCompleteForChild(e)}function Nx(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=ot(n,l);s3(e,oe(c))&&(a=ep(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=ot(n,l);s3(e,oe(c))||(a=ep(t,a,c,u,i,s,o))}),a}function o3(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function tp(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ae(n)?u=r:u=new be(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),m=o3(t,f,d);l=qh(t,l,new Ie(h),m,i,s,o,a)}}),u.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!f){const m=e.serverCache.getNode().getImmediateChild(h),v=o3(t,m,d);l=qh(t,l,new Ie(h),v,i,s,o,a)}}),l}function xx(t,e,n,r,i,s,o){if(Wh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ae(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ae(n)){let u=new be(null);return l.getNode().forEachChild(Co,(c,h)=>{u=u.set(new Ie(c),h)}),tp(t,e,n,u,i,s,a,o)}else return e}else{let u=new be(null);return r.foreach((c,h)=>{const d=ot(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),tp(t,e,n,u,i,s,a,o)}}function bx(t,e,n,r,i){const s=e.serverCache,o=J8(e,s.getNode(),s.isFullyInitialized()||ae(n),s.isFiltered());return s_(t,o,n,r,i_,i)}function Ax(t,e,n,r,i,s){let o;if(Wh(r,n)!=null)return e;{const a=new m5(r,e,i),l=e.eventCache.getNode();let u;if(ae(n)||oe(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Hh(r,_s(e));else{const h=e.serverCache.getNode();P(h instanceof Y,"serverChildren would be complete if leaf node"),c=f5(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=oe(n);let h=p5(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,Re(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Y.EMPTY_NODE,Re(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Hh(r,_s(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Wh(r,we())!=null,al(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new l5(r.getIndex()),s=JN(r);this.processor_=Ix(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Y.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Y.EMPTY_NODE,a.getNode(),null),c=new ys(l,o.isFullyInitialized(),i.filtersNodes()),h=new ys(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=$d(h,c),this.eventGenerator_=new sx(this.query_)}get query(){return this.query_}}function Dx(t){return t.viewCache_.serverCache.getNode()}function Mx(t,e){const n=_s(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(oe(e)).isEmpty())?n.getChild(e):null}function a3(t){return t.eventRegistrations_.length===0}function Ox(t,e){t.eventRegistrations_.push(e)}function l3(t,e,n){const r=[];if(n){P(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function u3(t,e,n,r){e.type===On.MERGE&&e.source.queryId!==null&&(P(_s(t.viewCache_),"We should always have a full cache before handling merges"),P(X1(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Rx(t.processor_,i,e,n,r);return kx(t.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,o_(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Fx(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(s,o)=>{r.push($o(s,o))}),n.isFullyInitialized()&&r.push(Q8(n.getNode())),o_(t,r,n.getNode(),e)}function o_(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return ox(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh;class $x{constructor(){this.views=new Map}}function Ux(t){P(!Kh,"__referenceConstructor has already been defined"),Kh=t}function Vx(){return P(Kh,"Reference.ts has not been loaded"),Kh}function zx(t){return t.views.size===0}function g5(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return P(s!=null,"SyncTree gave us an op for an invalid query."),u3(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(u3(o,e,n,r));return s}}function jx(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Hh(n,i?r:null),l=!1;a?l=!0:r instanceof Y?(a=f5(n,r),l=!1):(a=Y.EMPTY_NODE,l=!1);const u=$d(new ys(a,l,!1),new ys(r,i,!1));return new Px(e,u)}return o}function Bx(t,e,n,r,i,s){const o=jx(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Ox(o,n),Fx(o,n)}function Hx(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=yi(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(l3(u,n,r)),a3(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(l3(l,n,r)),a3(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!yi(t)&&s.push(new(Vx())(e._repo,e._path)),{removed:s,events:o}}function a_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function So(t,e){let n=null;for(const r of t.views.values())n=n||Mx(r,e);return n}function l_(t,e){if(e._queryParams.loadsAllData())return Ud(t);{const r=e._queryIdentifier;return t.views.get(r)}}function u_(t,e){return l_(t,e)!=null}function yi(t){return Ud(t)!=null}function Ud(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh;function Wx(t){P(!Gh,"__referenceConstructor has already been defined"),Gh=t}function qx(){return P(Gh,"Reference.ts has not been loaded"),Gh}let Kx=1;class c3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new be(null),this.pendingWriteTree_=Ex(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gx(t,e,n,r,i){return cx(t.pendingWriteTree_,e,n,r,i),i?Iu(t,new vs(X8(),e,n)):[]}function co(t,e,n=!1){const r=hx(t.pendingWriteTree_,e);if(dx(t.pendingWriteTree_,e)){let s=new be(null);return r.snap!=null?s=s.set(we(),!0):rn(r.children,o=>{s=s.set(new Ie(o),!0)}),Iu(t,new Bh(r.path,s,n))}else return[]}function Vd(t,e,n){return Iu(t,new vs(c5(),e,n))}function Qx(t,e,n){const r=be.fromObject(n);return Iu(t,new Hl(c5(),e,r))}function Yx(t,e){return Iu(t,new Bl(c5(),e))}function Xx(t,e,n){const r=v5(t,n);if(r){const i=y5(r),s=i.path,o=i.queryId,a=Jt(s,e),l=new Bl(h5(o),a);return _5(t,s,l)}else return[]}function np(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||u_(o,e))){const l=Hx(o,e,n,r);zx(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(d,f)=>yi(f));if(c&&!h){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const f=eb(d);for(let m=0;m<f.length;++m){const v=f[m],C=v.query,g=f_(t,v);t.listenProvider_.startListening(ul(C),Qh(t,C),g.hashFn,g.onComplete)}}}!h&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(ul(e),null):u.forEach(d=>{const f=t.queryToTagMap.get(zd(d));t.listenProvider_.stopListening(ul(d),f)}))}tb(t,u)}return a}function Jx(t,e,n,r){const i=v5(t,r);if(i!=null){const s=y5(i),o=s.path,a=s.queryId,l=Jt(o,e),u=new vs(h5(a),l,n);return _5(t,o,u)}else return[]}function Zx(t,e,n,r){const i=v5(t,r);if(i){const s=y5(i),o=s.path,a=s.queryId,l=Jt(o,e),u=be.fromObject(n),c=new Hl(h5(a),l,u);return _5(t,o,c)}else return[]}function h3(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,f)=>{const m=Jt(d,i);s=s||So(f,m),o=o||yi(f)});let a=t.syncPointTree_.get(i);a?(o=o||yi(a),s=s||So(a,we())):(a=new $x,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Y.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,m)=>{const v=So(m,we());v&&(s=s.updateImmediateChild(f,v))}));const u=u_(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=zd(e);P(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=nb();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const c=d5(t.pendingWriteTree_,i);let h=Bx(a,e,n,c,s,l);if(!u&&!o&&!r){const d=l_(a,e);h=h.concat(rb(t,e,d))}return h}function c_(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Jt(o,e),u=So(a,l);if(u)return u});return t_(i,e,s,n,!0)}function Iu(t,e){return h_(e,t.syncPointTree_,null,d5(t.pendingWriteTree_,we()))}function h_(t,e,n,r){if(ae(t.path))return d_(t,e,n,r);{const i=e.get(we());n==null&&i!=null&&(n=So(i,we()));let s=[];const o=oe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=n_(r,o);s=s.concat(h_(a,l,u,c))}return i&&(s=s.concat(g5(i,t,r,n))),s}}function d_(t,e,n,r){const i=e.get(we());n==null&&i!=null&&(n=So(i,we()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=n_(r,o),c=t.operationForChild(o);c&&(s=s.concat(d_(c,a,l,u)))}),i&&(s=s.concat(g5(i,t,r,n))),s}function f_(t,e){const n=e.query,r=Qh(t,n);return{hashFn:()=>(Dx(e)||Y.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Xx(t,n._path,r):Yx(t,n._path);{const s=YL(i,n);return np(t,n,null,s)}}}}function Qh(t,e){const n=zd(e);return t.queryToTagMap.get(n)}function zd(t){return t._path.toString()+"$"+t._queryIdentifier}function v5(t,e){return t.tagToQueryMap.get(e)}function y5(t){const e=t.indexOf("$");return P(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ie(t.substr(0,e))}}function _5(t,e,n){const r=t.syncPointTree_.get(e);P(r,"Missing sync point for query tag that we're tracking");const i=d5(t.pendingWriteTree_,e);return g5(r,n,i,null)}function eb(t){return t.fold((e,n,r)=>{if(n&&yi(n))return[Ud(n)];{let i=[];return n&&(i=a_(n)),rn(r,(s,o)=>{i=i.concat(o)}),i}})}function ul(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(qx())(t._repo,t._path):t}function tb(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=zd(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function nb(){return Kx++}function rb(t,e,n){const r=e._path,i=Qh(t,e),s=f_(t,n),o=t.listenProvider_.startListening(ul(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)P(!yi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,h)=>{if(!ae(u)&&c&&yi(c))return[Ud(c).query];{let d=[];return c&&(d=d.concat(a_(c).map(f=>f.query))),rn(h,(f,m)=>{d=d.concat(m)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(ul(c),Qh(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new w5(n)}node(){return this.node_}}class E5{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ot(this.path_,e);return new E5(this.syncTree_,n)}node(){return c_(this.syncTree_,this.path_)}}const ib=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},d3=function(t,e,n){if(!t||typeof t!="object")return t;if(P(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return sb(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ob(t[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},sb=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+t)}},ob=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},ab=function(t,e,n,r){return C5(e,new E5(n,t),r)},lb=function(t,e,n){return C5(t,new w5(e),n)};function C5(t,e,n){const r=t.getPriority().val(),i=d3(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=d3(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ut(a,At(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ut(i))),o.forEachChild(He,(a,l)=>{const u=C5(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function T5(t,e){let n=e instanceof Ie?e:new Ie(e),r=t,i=oe(n);for(;i!==null;){const s=Oo(r.node.children,i)||{children:{},childCount:0};r=new S5(i,r,s),n=Re(n),i=oe(n)}return r}function la(t){return t.node.value}function p_(t,e){t.node.value=e,rp(t)}function m_(t){return t.node.childCount>0}function ub(t){return la(t)===void 0&&!m_(t)}function jd(t,e){rn(t.node.children,(n,r)=>{e(new S5(n,t,r))})}function g_(t,e,n,r){n&&!r&&e(t),jd(t,i=>{g_(i,e,!0,r)}),n&&r&&e(t)}function cb(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ku(t){return new Ie(t.parent===null?t.name:ku(t.parent)+"/"+t.name)}function rp(t){t.parent!==null&&hb(t.parent,t.name,t)}function hb(t,e,n){const r=ub(n),i=Dr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,rp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,rp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=/[\[\].#$\/\u0000-\u001F\u007F]/,fb=/[\[\].#$\u0000-\u001F\u007F]/,vf=10*1024*1024,v_=function(t){return typeof t=="string"&&t.length!==0&&!db.test(t)},y_=function(t){return typeof t=="string"&&t.length!==0&&!fb.test(t)},pb=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),y_(t)},__=function(t,e,n){const r=n instanceof Ie?new xN(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fi(r)+" with contents = "+e.toString());if(w8(e))throw new Error(t+"contains "+e.toString()+" "+Fi(r));if(typeof e=="string"&&e.length>vf/3&&Pd(e)>vf)throw new Error(t+"contains a string greater than "+vf+" utf8 bytes "+Fi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(rn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!v_(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bN(r,o),__(t,a,r),AN(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fi(r)+" in addition to actual children.")}},w_=function(t,e,n,r){if(!(r&&n===void 0)&&!y_(n))throw new Error(Ly(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mb=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),w_(t,e,n,r)},gb=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!v_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pb(n))throw new Error(Ly(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function E_(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!s5(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function C_(t,e,n){E_(t,n),S_(t,r=>s5(r,e))}function As(t,e,n){E_(t,n),S_(t,r=>Mn(r,e)||Mn(e,r))}function S_(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(yb(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function yb(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ns&&bt("event: "+n.toString()),Su(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="repo_interrupt",wb=25;class Eb{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jh(),this.transactionQueueTree_=new S5,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Cb(t,e,n){if(t.stats_=r5(t.repoInfo_),t.forceRestClient_||eN())t.server_=new zh(t.repoInfo_,(r,i,s,o)=>{f3(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>p3(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ft(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Er(t.repoInfo_,e,(r,i,s,o)=>{f3(t,r,i,s,o)},r=>{p3(t,r)},r=>{Tb(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=oN(t.repoInfo_,()=>new ix(t.stats_,t.server_)),t.infoData_=new ZN,t.infoSyncTree_=new c3({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Vd(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),I5(t,"connected",!1),t.serverSyncTree_=new c3({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);As(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Sb(t){const n=t.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function T_(t){return ib({timestamp:Sb(t)})}function f3(t,e,n,r,i){t.dataUpdateCount++;const s=new Ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=xh(n,u=>At(u));o=Zx(t.serverSyncTree_,s,l,i)}else{const l=At(n);o=Jx(t.serverSyncTree_,s,l,i)}else if(r){const l=xh(n,u=>At(u));o=Qx(t.serverSyncTree_,s,l)}else{const l=At(n);o=Vd(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=R5(t,s)),As(t.eventQueue_,a,o)}function p3(t,e){I5(t,"connected",e),e===!1&&kb(t)}function Tb(t,e){rn(e,(n,r)=>{I5(t,n,r)})}function I5(t,e,n){const r=new Ie("/.info/"+e),i=At(n);t.infoData_.updateSnapshot(r,i);const s=Vd(t.infoSyncTree_,r,i);As(t.eventQueue_,r,s)}function Ib(t){return t.nextWriteId_++}function kb(t){I_(t,"onDisconnectEvents");const e=T_(t),n=jh();Y1(t.onDisconnect_,we(),(i,s)=>{const o=ab(i,s,t.serverSyncTree_,e);Y8(n,i,o)});let r=[];Y1(n,we(),(i,s)=>{r=r.concat(Vd(t.serverSyncTree_,i,s));const o=bb(t,i);R5(t,o)}),t.onDisconnect_=jh(),As(t.eventQueue_,we(),r)}function Rb(t,e,n){let r;oe(e._path)===".info"?r=h3(t.infoSyncTree_,e,n):r=h3(t.serverSyncTree_,e,n),C_(t.eventQueue_,e._path,r)}function m3(t,e,n){let r;oe(e._path)===".info"?r=np(t.infoSyncTree_,e,n):r=np(t.serverSyncTree_,e,n),C_(t.eventQueue_,e._path,r)}function Lb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_b)}function I_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),bt(n,...e)}function k_(t,e,n){return c_(t.serverSyncTree_,e,n)||Y.EMPTY_NODE}function k5(t,e=t.transactionQueueTree_){if(e||Bd(t,e),la(e)){const n=L_(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Nb(t,ku(e),n)}else m_(e)&&jd(e,n=>{k5(t,n)})}function Nb(t,e,n){const r=n.map(u=>u.currentWriteId),i=k_(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];P(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=Jt(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{I_(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(co(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Bd(t,T5(t.transactionQueueTree_,e)),k5(t,t.transactionQueueTree_),As(t.eventQueue_,e,c);for(let d=0;d<h.length;d++)Su(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{cn("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}R5(t,e)}},o)}function R5(t,e){const n=R_(t,e),r=ku(n),i=L_(t,n);return xb(t,i,r),r}function xb(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Jt(n,l.path);let c=!1,h;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(co(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=wb)c=!0,h="maxretry",i=i.concat(co(t.serverSyncTree_,l.currentWriteId,!0));else{const d=k_(t,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){__("transaction failed: Data returned ",f,l.path);let m=At(f);typeof f=="object"&&f!=null&&Dr(f,".priority")||(m=m.updatePriority(d.getPriority()));const C=l.currentWriteId,g=T_(t),p=lb(m,d,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=p,l.currentWriteId=Ib(t),o.splice(o.indexOf(C),1),i=i.concat(Gx(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(co(t.serverSyncTree_,C,!0))}else c=!0,h="nodata",i=i.concat(co(t.serverSyncTree_,l.currentWriteId,!0))}As(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Bd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Su(r[a]);k5(t,t.transactionQueueTree_)}function R_(t,e){let n,r=t.transactionQueueTree_;for(n=oe(e);n!==null&&la(r)===void 0;)r=T5(r,n),e=Re(e),n=oe(e);return r}function L_(t,e){const n=[];return N_(t,e,n),n.sort((r,i)=>r.order-i.order),n}function N_(t,e,n){const r=la(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jd(e,i=>{N_(t,i,n)})}function Bd(t,e){const n=la(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,p_(e,n.length>0?n:void 0)}jd(e,r=>{Bd(t,r)})}function bb(t,e){const n=ku(R_(t,e)),r=T5(t.transactionQueueTree_,e);return cb(r,i=>{yf(t,i)}),yf(t,r),g_(r,i=>{yf(t,i)}),n}function yf(t,e){const n=la(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(co(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?p_(e,void 0):n.length=s+1,As(t.eventQueue_,ku(e),i);for(let o=0;o<r.length;o++)Su(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Pb(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):cn(`Invalid query segment '${n}' in query '${t}'`)}return e}const g3=function(t,e){const n=Db(t),r=n.namespace;n.domain==="firebase.com"&&ms(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ms("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||WL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rN(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ie(n.pathString)}},Db=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=Ab(t.substring(c,h)));const d=Pb(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ft(this.snapshot.exportVal())}}class b_{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ae(this._path)?null:V8(this._path)}get ref(){return new Or(this._repo,this._path)}get _queryIdentifier(){const e=Zg(this._queryParams),n=t5(e);return n==="{}"?"default":n}get _queryObject(){return Zg(this._queryParams)}isEqual(e){if(e=Qe(e),!(e instanceof L5))return!1;const n=this._repo===e._repo,r=s5(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+NN(this._path)}}class Or extends L5{constructor(e,n){super(e,n,new u5,!1)}get parent(){const e=j8(this._path);return e===null?null:new Or(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Wl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ie(e),r=ip(this.ref,e);return new Wl(this._node.getChild(n),r,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Wl(i,ip(this.ref,r),He)))}hasChild(e){const n=new Ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ip(t,e){return t=Qe(t),oe(t._path)===null?mb("child","path",e,!1):w_("child","path",e,!1),new Or(t._repo,ot(t._path,e))}class N5{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new x_("value",this,new Wl(e.snapshotNode,new Or(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new b_(this,e,n):null}matches(e){return e instanceof N5?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class x5{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new b_(this,e,n):null}createEvent(e,n){P(e.childName!=null,"Child events should have a childName.");const r=ip(new Or(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new x_(e.type,this,new Wl(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof x5?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ru(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,h)=>{m3(t._repo,t,a),l(c,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new Mb(n,s||void 0),a=e==="value"?new N5(o):new x5(e,o);return Rb(t._repo,t,a),()=>m3(t._repo,t,a)}function Ob(t,e,n,r){return Ru(t,"value",e,n,r)}function Fb(t,e,n,r){return Ru(t,"child_added",e,n,r)}function $b(t,e,n,r){return Ru(t,"child_changed",e,n,r)}function Ub(t,e,n,r){return Ru(t,"child_moved",e,n,r)}function Vb(t,e,n,r){return Ru(t,"child_removed",e,n,r)}Ux(Or);Wx(Or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="FIREBASE_DATABASE_EMULATOR_HOST",sp={};let jb=!1;function Bb(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ms("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=g3(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[zb]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=g3(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new K1(K1.OWNER):new nN(t.name,t.options,e);gb("Invalid Firebase Database URL",o),ae(o.path)||ms("Database URL must point to the root of a Firebase Database (not including a child path).");const h=Wb(a,t,c,new tN(t.name,n));return new qb(h,t)}function Hb(t,e){const n=sp[e];(!n||n[t.key]!==t)&&ms(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Lb(t),delete n[t.key]}function Wb(t,e,n,r){let i=sp[e.name];i||(i={},sp[e.name]=i);let s=i[t.toURLString()];return s&&ms("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Eb(t,jb,n,r),i[t.toURLString()]=s,s}class qb{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Cb(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Or(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Hb(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ms("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){VL(Mr),Tn(new fn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Bb(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),rt(Og,Fg,t),rt(Og,Fg,"esm2017")}Er.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Er.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Kb();var Gb="firebase",Qb="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rt(Gb,Qb,"app");var Yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,b5=b5||{},te=Yb||self;function Hd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Lu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Xb(t){return Object.prototype.hasOwnProperty.call(t,_f)&&t[_f]||(t[_f]=++Jb)}var _f="closure_uid_"+(1e9*Math.random()>>>0),Jb=0;function Zb(t,e,n){return t.call.apply(t.bind,arguments)}function eA(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pt=Zb:Pt=eA,Pt.apply(null,arguments)}function _c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ki(){this.s=this.s,this.o=this.o}var tA=0;ki.prototype.s=!1;ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),tA!=0)&&Xb(this)};ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const A_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function A5(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function v3(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var nA=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function ql(t){return/^[\s\xa0]*$/.test(t)}function Wd(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Qn(t){return Wd().indexOf(t)!=-1}function P5(t){return P5[" "](t),t}P5[" "]=function(){};function rA(t,e){var n=QA;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var iA=Qn("Opera"),Vo=Qn("Trident")||Qn("MSIE"),P_=Qn("Edge"),op=P_||Vo,D_=Qn("Gecko")&&!(Wd().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),sA=Wd().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge");function M_(){var t=te.document;return t?t.documentMode:void 0}var ap;e:{var wf="",Ef=function(){var t=Wd();if(D_)return/rv:([^\);]+)(\)|;)/.exec(t);if(P_)return/Edge\/([\d\.]+)/.exec(t);if(Vo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sA)return/WebKit\/(\S+)/.exec(t);if(iA)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ef&&(wf=Ef?Ef[1]:""),Vo){var Cf=M_();if(Cf!=null&&Cf>parseFloat(wf)){ap=String(Cf);break e}}ap=wf}var lp;if(te.document&&Vo){var y3=M_();lp=y3||parseInt(ap,10)||void 0}else lp=void 0;var oA=lp;function Kl(t,e){if(Dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(D_){e:{try{P5(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aA[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Kl.$.h.call(this)}}gt(Kl,Dt);var aA={2:"touch",3:"pen",4:"mouse"};Kl.prototype.h=function(){Kl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nu="closure_listenable_"+(1e6*Math.random()|0),lA=0;function uA(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lA,this.fa=this.ia=!1}function qd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function D5(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cA(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function O_(t){const e={};for(const n in t)e[n]=t[n];return e}const _3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F_(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<_3.length;s++)n=_3[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kd(t){this.src=t,this.g={},this.h=0}Kd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=cp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new uA(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function up(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=A_(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function cp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var M5="closure_lm_"+(1e6*Math.random()|0),Sf={};function $_(t,e,n,r,i){if(r&&r.once)return V_(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$_(t,e[s],n,r,i);return null}return n=$5(n),t&&t[Nu]?t.O(e,n,Lu(r)?!!r.capture:!!r,i):U_(t,e,n,!1,r,i)}function U_(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Lu(i)?!!i.capture:!!i,a=F5(t);if(a||(t[M5]=a=new Kd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=hA(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nA||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(j_(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hA(){function t(n){return e.call(t.src,t.listener,n)}const e=dA;return t}function V_(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)V_(t,e[s],n,r,i);return null}return n=$5(n),t&&t[Nu]?t.P(e,n,Lu(r)?!!r.capture:!!r,i):U_(t,e,n,!0,r,i)}function z_(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)z_(t,e[s],n,r,i);else r=Lu(r)?!!r.capture:!!r,n=$5(n),t&&t[Nu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=cp(s,n,r,i),-1<n&&(qd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=F5(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cp(e,n,r,i)),(n=-1<t?e[t]:null)&&O5(n))}function O5(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Nu])up(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(j_(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=F5(e))?(up(n,t),n.h==0&&(n.src=null,e[M5]=null)):qd(t)}}}function j_(t){return t in Sf?Sf[t]:Sf[t]="on"+t}function dA(t,e){if(t.fa)t=!0;else{e=new Kl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&O5(t),t=n.call(r,e)}return t}function F5(t){return t=t[M5],t instanceof Kd?t:null}var Tf="__closure_events_fn_"+(1e9*Math.random()>>>0);function $5(t){return typeof t=="function"?t:(t[Tf]||(t[Tf]=function(e){return t.handleEvent(e)}),t[Tf])}function mt(){ki.call(this),this.i=new Kd(this),this.S=this,this.J=null}gt(mt,ki);mt.prototype[Nu]=!0;mt.prototype.removeEventListener=function(t,e,n,r){z_(this,t,e,n,r)};function Tt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Dt(e,t);else if(e instanceof Dt)e.target=e.target||t;else{var i=e;e=new Dt(r,t),F_(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=wc(o,r,!0,e)&&i}if(o=e.g=t,i=wc(o,r,!0,e)&&i,i=wc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=wc(o,r,!1,e)&&i}mt.prototype.N=function(){if(mt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qd(n[r]);delete t.g[e],t.h--}}this.J=null};mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&up(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var U5=te.JSON.stringify;class fA{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function pA(){var t=V5;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class mA{constructor(){this.h=this.g=null}add(e,n){const r=B_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var B_=new fA(()=>new gA,t=>t.reset());class gA{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function vA(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function yA(t){te.setTimeout(()=>{throw t},0)}let Gl,Ql=!1,V5=new mA,H_=()=>{const t=te.Promise.resolve(void 0);Gl=()=>{t.then(_A)}};var _A=()=>{for(var t;t=pA();){try{t.h.call(t.g)}catch(n){yA(n)}var e=B_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ql=!1};function Gd(t,e){mt.call(this),this.h=t||1,this.g=e||te,this.j=Pt(this.qb,this),this.l=Date.now()}gt(Gd,mt);M=Gd.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(z5(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function z5(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){Gd.$.N.call(this),z5(this),delete this.g};function j5(t,e,n){if(typeof t=="function")n&&(t=Pt(t,n));else if(t&&typeof t.handleEvent=="function")t=Pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function W_(t){t.g=j5(()=>{t.g=null,t.i&&(t.i=!1,W_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wA extends ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:W_(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yl(t){ki.call(this),this.h=t,this.g={}}gt(Yl,ki);var w3=[];function q_(t,e,n,r){Array.isArray(n)||(n&&(w3[0]=n.toString()),n=w3);for(var i=0;i<n.length;i++){var s=$_(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function K_(t){D5(t.g,function(e,n){this.g.hasOwnProperty(n)&&O5(e)},t),t.g={}}Yl.prototype.N=function(){Yl.$.N.call(this),K_(this)};Yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qd(){this.g=!0}Qd.prototype.Ea=function(){this.g=!1};function EA(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function CA(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ho(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+TA(t,n)+(r?" "+r:"")})}function SA(t,e){t.info(function(){return"TIMEOUT: "+e})}Qd.prototype.info=function(){};function TA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return U5(n)}catch{return e}}var Ps={},E3=null;function Yd(){return E3=E3||new mt}Ps.Ta="serverreachability";function G_(t){Dt.call(this,Ps.Ta,t)}gt(G_,Dt);function Xl(t){const e=Yd();Tt(e,new G_(e))}Ps.STAT_EVENT="statevent";function Q_(t,e){Dt.call(this,Ps.STAT_EVENT,t),this.stat=e}gt(Q_,Dt);function jt(t){const e=Yd();Tt(e,new Q_(e,t))}Ps.Ua="timingevent";function Y_(t,e){Dt.call(this,Ps.Ua,t),this.size=e}gt(Y_,Dt);function xu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var Xd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},X_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function B5(){}B5.prototype.h=null;function C3(t){return t.h||(t.h=t.i())}function J_(){}var bu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function H5(){Dt.call(this,"d")}gt(H5,Dt);function W5(){Dt.call(this,"c")}gt(W5,Dt);var hp;function Jd(){}gt(Jd,B5);Jd.prototype.g=function(){return new XMLHttpRequest};Jd.prototype.i=function(){return{}};hp=new Jd;function Au(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yl(this),this.P=IA,t=op?125:void 0,this.V=new Gd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Z_}function Z_(){this.i=null,this.g="",this.h=!1}var IA=45e3,dp={},Yh={};M=Au.prototype;M.setTimeout=function(t){this.P=t};function fp(t,e,n){t.L=1,t.v=e0(Lr(e)),t.s=n,t.S=!0,e7(t,null)}function e7(t,e){t.G=Date.now(),Pu(t),t.A=Lr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),l7(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Z_,t.g=N7(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wA(Pt(t.Pa,t,t.g),t.O)),q_(t.U,t.g,"readystatechange",t.nb),e=t.I?O_(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Xl(),EA(t.j,t.u,t.A,t.m,t.W,t.s)}M.nb=function(t){t=t.target;const e=this.M;e&&Yn(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const c=Yn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||op||this.g&&(this.h.h||this.g.ja()||k3(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Xl(3):Xl(2)),Zd(this);var n=this.g.da();this.ca=n;t:if(t7(this)){var r=k3(this.g);t="";var i=r.length,s=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),cl(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,CA(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ql(a)){var u=a;break t}}u=null}if(n=u)ho(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pp(this,n);else{this.i=!1,this.o=3,jt(12),Gi(this),cl(this);break e}}this.S?(n7(this,c,o),op&&this.i&&c==3&&(q_(this.U,this.V,"tick",this.mb),this.V.start())):(ho(this.j,this.m,o,null),pp(this,o)),c==4&&Gi(this),this.i&&!this.J&&(c==4?I7(this.l,this):(this.i=!1,Pu(this)))}else qA(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,jt(12)):(this.o=0,jt(13)),Gi(this),cl(this)}}}catch{}finally{}};function t7(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function n7(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=kA(t,n),i==Yh){e==4&&(t.o=4,jt(14),r=!1),ho(t.j,t.m,null,"[Incomplete Response]");break}else if(i==dp){t.o=4,jt(15),ho(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ho(t.j,t.m,i,null),pp(t,i);t7(t)&&i!=Yh&&i!=dp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),X5(e),e.M=!0,jt(11))):(ho(t.j,t.m,n,"[Invalid Chunked Response]"),Gi(t),cl(t))}M.mb=function(){if(this.g){var t=Yn(this.g),e=this.g.ja();this.C<e.length&&(Zd(this),n7(this,t,e),this.i&&t!=4&&Pu(this))}};function kA(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Yh:(n=Number(e.substring(n,r)),isNaN(n)?dp:(r+=1,r+n>e.length?Yh:(e=e.slice(r,r+n),t.C=r+n,e)))}M.cancel=function(){this.J=!0,Gi(this)};function Pu(t){t.Y=Date.now()+t.P,r7(t,t.P)}function r7(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=xu(Pt(t.lb,t),e)}function Zd(t){t.B&&(te.clearTimeout(t.B),t.B=null)}M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(SA(this.j,this.A),this.L!=2&&(Xl(),jt(17)),Gi(this),this.o=2,cl(this)):r7(this,this.Y-t)};function cl(t){t.l.H==0||t.J||I7(t.l,t)}function Gi(t){Zd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,z5(t.V),K_(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function pp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||mp(n.i,t))){if(!t.K&&mp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zh(n),r0(n);else break e;Y5(n),jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=xu(Pt(n.ib,n),6e3));if(1>=h7(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qi(n,11)}else if((t.K||n.g==t)&&Zh(n),!ql(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(q5(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ae(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=L7(r,r.J?r.pa:null,r.Y),o.K){d7(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Zd(a),Pu(a)),r.g=o}else S7(r);0<n.j.length&&i0(n)}else u[0]!="stop"&&u[0]!="close"||Qi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Qi(n,7):Q5(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Xl(4)}catch{}}function RA(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Hd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function LA(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function i7(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=LA(t),r=RA(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var s7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function rs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rs){this.h=t.h,Xh(this,t.j),this.s=t.s,this.g=t.g,Jh(this,t.m),this.l=t.l;var e=t.i,n=new Jl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),S3(this,n),this.o=t.o}else t&&(e=String(t).match(s7))?(this.h=!1,Xh(this,e[1]||"",!0),this.s=Ha(e[2]||""),this.g=Ha(e[3]||"",!0),Jh(this,e[4]),this.l=Ha(e[5]||"",!0),S3(this,e[6]||"",!0),this.o=Ha(e[7]||"")):(this.h=!1,this.i=new Jl(null,this.h))}rs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wa(e,T3,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Wa(e,T3,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Wa(n,n.charAt(0)=="/"?AA:bA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wa(n,DA)),t.join("")};function Lr(t){return new rs(t)}function Xh(t,e,n){t.j=n?Ha(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function S3(t,e,n){e instanceof Jl?(t.i=e,MA(t.i,t.h)):(n||(e=Wa(e,PA)),t.i=new Jl(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function e0(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ha(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,xA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var T3=/[#\/\?@]/g,bA=/[#\?:]/g,AA=/[#\?]/g,PA=/[#\?@]/g,DA=/#/g;function Jl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ri(t){t.g||(t.g=new Map,t.h=0,t.i&&NA(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Jl.prototype;M.add=function(t,e){Ri(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function o7(t,e){Ri(t),e=ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function a7(t,e){return Ri(t),e=ua(t,e),t.g.has(e)}M.forEach=function(t,e){Ri(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){Ri(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};M.Z=function(t){Ri(this);let e=[];if(typeof t=="string")a7(this,t)&&(e=e.concat(this.g.get(ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return Ri(this),this.i=null,t=ua(this,t),a7(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function l7(t,e,n){o7(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),A5(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MA(t,e){e&&!t.j&&(Ri(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(o7(this,r),l7(this,i,n))},t)),t.j=e}var OA=class{constructor(t,e){this.g=t,this.map=e}};function u7(t){this.l=t||FA,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var FA=10;function c7(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function h7(t){return t.h?1:t.g?t.g.size:0}function mp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function q5(t,e){t.g?t.g.add(e):t.h=e}function d7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}u7.prototype.cancel=function(){if(this.i=f7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function f7(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return A5(t.i)}var $A=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function UA(){this.g=new $A}function VA(t,e,n){const r=n||"";try{i7(t,function(i,s){let o=i;Lu(i)&&(o=U5(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zA(t,e){const n=new Qd;if(te.Image){const r=new Image;r.onload=_c(Ec,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_c(Ec,n,r,"TestLoadImage: error",!1,e),r.onabort=_c(Ec,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_c(Ec,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ec(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Du(t){this.l=t.fc||null,this.j=t.ob||!1}gt(Du,B5);Du.prototype.g=function(){return new t0(this.l,this.j)};Du.prototype.i=function(t){return function(){return t}}({});function t0(t,e){mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=K5,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(t0,mt);var K5=0;M=t0.prototype;M.open=function(t,e){if(this.readyState!=K5)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zl(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mu(this)),this.readyState=K5};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zl(this)),this.g&&(this.readyState=3,Zl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;p7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function p7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mu(this):Zl(this),this.readyState==3&&p7(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,Mu(this))};M.Ya=function(t){this.g&&(this.response=t,Mu(this))};M.ka=function(){this.g&&Mu(this)};function Mu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zl(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Zl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(t0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jA=te.JSON.parse;function We(t){mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=m7,this.L=this.M=!1}gt(We,mt);var m7="",BA=/^https?$/i,HA=["POST","PUT"];M=We.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hp.g(),this.C=this.u?C3(this.u):C3(hp),this.g.onreadystatechange=Pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){I3(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=te.FormData&&t instanceof te.FormData,!(0<=A_(HA,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{y7(this),0<this.B&&((this.L=WA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.ua,this)):this.A=j5(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){I3(this,s)}};function WA(t){return Vo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof b5<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function I3(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,g7(t),n0(t)}function g7(t){t.F||(t.F=!0,Tt(t,"complete"),Tt(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),n0(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),n0(this,!0)),We.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?v7(this):this.kb())};M.kb=function(){v7(this)};function v7(t){if(t.h&&typeof b5<"u"&&(!t.C[1]||Yn(t)!=4||t.da()!=2)){if(t.v&&Yn(t)==4)j5(t.La,0,t);else if(Tt(t,"readystatechange"),Yn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(s7)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!BA.test(i?i.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var s=2<Yn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",g7(t)}}finally{n0(t)}}}}function n0(t,e){if(t.g){y7(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function y7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function Yn(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jA(e)}};function k3(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case m7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qA(t){const e={};t=(t.g&&2<=Yn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ql(t[r]))continue;var n=vA(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}cA(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _7(t){let e="";return D5(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function G5(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_7(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ae(t,e,n))}function Pa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function w7(t){this.Ga=0,this.j=[],this.l=new Qd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pa("baseRetryDelayMs",5e3,t),this.hb=Pa("retryDelaySeedMs",1e4,t),this.eb=Pa("forwardChannelMaxRetries",2,t),this.xa=Pa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new u7(t&&t.concurrentRequestLimit),this.Ja=new UA,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=w7.prototype;M.ra=8;M.H=1;function Q5(t){if(E7(t),t.H==3){var e=t.W++,n=Lr(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),Ou(t,n),e=new Au(t,t.l,e),e.L=2,e.v=e0(Lr(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&(new Image().src=e.v,n=!0),n||(e.g=N7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pu(e)}R7(t)}function r0(t){t.g&&(X5(t),t.g.cancel(),t.g=null)}function E7(t){r0(t),t.u&&(te.clearTimeout(t.u),t.u=null),Zh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function i0(t){if(!c7(t.i)&&!t.m){t.m=!0;var e=t.Na;Gl||H_(),Ql||(Gl(),Ql=!0),V5.add(e,t),t.C=0}}function KA(t,e){return h7(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=xu(Pt(t.Na,t,e),k7(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Au(this,this.l,t);let s=this.s;if(this.U&&(s?(s=O_(s),F_(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=C7(this,i,e),n=Lr(this.I),Ae(n,"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),Ou(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(_7(s)))+"&"+e:this.o&&G5(n,this.o,s)),q5(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,fp(i,n,null)):fp(i,n,e),this.H=2}}else this.H==3&&(t?R3(this,t):this.j.length==0||c7(this.i)||R3(this))};function R3(t,e){var n;e?n=e.m:n=t.W++;const r=Lr(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),Ou(t,r),t.o&&t.s&&G5(r,t.o,t.s),n=new Au(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=C7(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),q5(t.i,n),fp(n,r,e)}function Ou(t,e){t.na&&D5(t.na,function(n,r){Ae(e,r,n)}),t.h&&i7({},function(n,r){Ae(e,r,n)})}function C7(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Pt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{VA(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function S7(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gl||H_(),Ql||(Gl(),Ql=!0),V5.add(e,t),t.A=0}}function Y5(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=xu(Pt(t.Ma,t),k7(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,T7(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=xu(Pt(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jt(10),r0(this),T7(this))};function X5(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function T7(t){t.g=new Au(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Lr(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),Ou(t,e),t.o&&t.s&&G5(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=e0(Lr(e)),n.s=null,n.S=!0,e7(n,t)}M.ib=function(){this.v!=null&&(this.v=null,r0(this),Y5(this),jt(19))};function Zh(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function I7(t,e){var n=null;if(t.g==e){Zh(t),X5(t),t.g=null;var r=2}else if(mp(t.i,e))n=e.F,d7(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Yd(),Tt(r,new Y_(r,n)),i0(t)}else S7(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&KA(t,e)||r==2&&Y5(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qi(t,5);break;case 4:Qi(t,10);break;case 3:Qi(t,6);break;default:Qi(t,2)}}}function k7(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Pt(t.pb,t);n||(n=new rs("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||Xh(n,"https"),e0(n)),zA(n.toString(),r)}else jt(2);t.H=0,t.h&&t.h.za(e),R7(t),E7(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jt(2)):(this.l.info("Failed to ping google.com"),jt(1))};function R7(t){if(t.H=0,t.ma=[],t.h){const e=f7(t.i);(e.length!=0||t.j.length!=0)&&(v3(t.ma,e),v3(t.ma,t.j),t.i.i.length=0,A5(t.j),t.j.length=0),t.h.ya()}}function L7(t,e,n){var r=n instanceof rs?Lr(n):new rs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Jh(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new rs(null);r&&Xh(s,r),e&&(s.g=e),i&&Jh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),Ou(t,r),r}function N7(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new We(new Du({ob:!0})):new We(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function x7(){}M=x7.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function ed(){if(Vo&&!(10<=Number(oA)))throw Error("Environmental error: no available transport.")}ed.prototype.g=function(t,e){return new pn(t,e)};function pn(t,e){mt.call(this),this.g=new w7(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ql(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ql(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ca(this)}gt(pn,mt);pn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=L7(t,null,t.Y),i0(t)};pn.prototype.close=function(){Q5(this.g)};pn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=U5(t),t=n);e.j.push(new OA(e.fb++,t)),e.H==3&&i0(e)};pn.prototype.N=function(){this.g.h=null,delete this.j,Q5(this.g),delete this.g,pn.$.N.call(this)};function b7(t){H5.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gt(b7,H5);function A7(){W5.call(this),this.status=1}gt(A7,W5);function ca(t){this.g=t}gt(ca,x7);ca.prototype.Ba=function(){Tt(this.g,"a")};ca.prototype.Aa=function(t){Tt(this.g,new b7(t))};ca.prototype.za=function(t){Tt(this.g,new A7)};ca.prototype.ya=function(){Tt(this.g,"b")};function GA(){this.blockSize=-1}function jn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gt(jn,GA);jn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function If(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}jn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)If(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){If(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){If(this,r),i=0;break}}this.h=i,this.i+=e};jn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var QA={};function J5(t){return-128<=t&&128>t?rA(t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function Xn(t){if(isNaN(t)||!isFinite(t))return To;if(0>t)return Et(Xn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=gp;return new Ce(e,0)}function P7(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(P7(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xn(Math.pow(e,8)),r=To,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Xn(Math.pow(e,s)),r=r.R(s).add(Xn(o))):(r=r.R(n),r=r.add(Xn(o)))}return r}var gp=4294967296,To=J5(0),vp=J5(1),L3=J5(16777216);M=Ce.prototype;M.ea=function(){if(_n(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:gp+r)*e,e*=gp}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_r(this))return"0";if(_n(this))return"-"+Et(this).toString(t);for(var e=Xn(Math.pow(t,6)),n=this,r="";;){var i=nd(n,e).g;n=td(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,_r(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _r(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function _n(t){return t.h==-1}M.X=function(t){return t=td(this,t),_n(t)?-1:_r(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(vp)}M.abs=function(){return _n(this)?Et(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function td(t,e){return t.add(Et(e))}M.R=function(t){if(_r(this)||_r(t))return To;if(_n(this))return _n(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(_n(t))return Et(this.R(Et(t)));if(0>this.X(L3)&&0>t.X(L3))return Xn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Cc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Cc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Cc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Cc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)};function Cc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Da(t,e){this.g=t,this.h=e}function nd(t,e){if(_r(e))throw Error("division by zero");if(_r(t))return new Da(To,To);if(_n(t))return e=nd(Et(t),e),new Da(Et(e.g),Et(e.h));if(_n(e))return e=nd(t,Et(e)),new Da(Et(e.g),e.h);if(30<t.g.length){if(_n(t)||_n(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vp,r=e;0>=r.X(t);)n=N3(n),r=N3(r);var i=Ws(n,1),s=Ws(r,1);for(r=Ws(r,2),n=Ws(n,2);!_r(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ws(r,1),n=Ws(n,1)}return e=td(t,i.R(e)),new Da(i,e)}for(i=To;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Xn(n),o=s.R(e);_n(o)||0<o.X(t);)n-=r,s=Xn(n),o=s.R(e);_r(s)&&(s=vp),i=i.add(s),t=td(t,o)}return new Da(i,t)}M.gb=function(t){return nd(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)};function N3(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function Ws(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}ed.prototype.createWebChannel=ed.prototype.g;pn.prototype.send=pn.prototype.u;pn.prototype.open=pn.prototype.m;pn.prototype.close=pn.prototype.close;Xd.NO_ERROR=0;Xd.TIMEOUT=8;Xd.HTTP_ERROR=6;X_.COMPLETE="complete";J_.EventType=bu;bu.OPEN="a";bu.CLOSE="b";bu.ERROR="c";bu.MESSAGE="d";mt.prototype.listen=mt.prototype.O;We.prototype.listenOnce=We.prototype.P;We.prototype.getLastError=We.prototype.Sa;We.prototype.getLastErrorCode=We.prototype.Ia;We.prototype.getStatus=We.prototype.da;We.prototype.getResponseJson=We.prototype.Wa;We.prototype.getResponseText=We.prototype.ja;We.prototype.send=We.prototype.ha;We.prototype.setWithCredentials=We.prototype.Oa;jn.prototype.digest=jn.prototype.l;jn.prototype.reset=jn.prototype.reset;jn.prototype.update=jn.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=Xn;Ce.fromString=P7;var YA=function(){return new ed},XA=function(){return Yd()},kf=Xd,JA=X_,ZA=Ps,x3={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eP=Du,Sc=J_,tP=We,nP=jn,Io=Ce;const b3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new mu("@firebase/firestore");function A3(){return ws.logLevel}function W(t,...e){if(ws.logLevel<=fe.DEBUG){const n=e.map(Z5);ws.debug(`Firestore (${ha}): ${t}`,...n)}}function Nr(t,...e){if(ws.logLevel<=fe.ERROR){const n=e.map(Z5);ws.error(`Firestore (${ha}): ${t}`,...n)}}function zo(t,...e){if(ws.logLevel<=fe.WARN){const n=e.map(Z5);ws.warn(`Firestore (${ha}): ${t}`,...n)}}function Z5(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+t;throw Nr(e),new Error(e)}function De(t,e){t||Z()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let G=class extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class iP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let sP=class{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new is;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new is,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new D7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Nt(e)}},oP=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}};class aP{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new oP(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}let lP=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class uP{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.T=n.token,new lP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M7=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class Kc{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kc.fromMillis(Date.now())}static fromDate(e){return Kc.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Kc(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ie=class Gc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gc(e)}static min(){return new Gc(new Ht(0,0))}static max(){return new Gc(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O7=class yp{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},tt=class Qc extends O7{construct(e,n,r){return new Qc(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qc(n)}static emptyPath(){return new Qc([])}};const hP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let ir=class Gs extends O7{construct(e,n,r){return new Gs(e,n,r)}static isValidIdentifier(e){return hP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gs(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gs(n)}static emptyPath(){return new Gs([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(tt.fromString(e))}static fromName(e){return new Q(tt.fromString(e).popFirst(5))}static empty(){return new Q(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new tt(e.slice()))}}function dP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Ht(n+1,0):new Ht(n,r));return new _i(i,Q.empty(),e)}function fP(t){return new _i(t.readTime,t.key,-1)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(ie.min(),Q.empty(),-1)}static max(){return new _i(ie.max(),Q.empty(),-1)}}function pP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==mP)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new A((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new A((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}e4.ct=-1;function s0(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function vP(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let it=class _p{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new _p(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new _p(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}},Tc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}};class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D3(this.data.getIterator())}getIteratorFrom(e){return new D3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}let D3=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new ln([])}unionWith(e){let n=new Mt(ir.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $7=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $7("Invalid base64 string: "+i):i}}(e);return new $t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const yP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(De(!!t),typeof t=="string"){let e=0;const n=yP.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function n4(t){const e=t.mapValue.fields.__previous_value__;return t4(e)?n4(e):e}function eu(t){const e=wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class tu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?t4(t)?4:wP(t)?9007199254740991:10:Z()}function sr(t,e){if(t===e)return!0;const n=Cs(t);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=wi(r.timestampValue),o=wi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Es(r.bytesValue).isEqual(Es(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=et(r.doubleValue),o=et(i.doubleValue);return s===o?rd(s)===rd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(P3(s)!==P3(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!sr(s[a],o[a])))return!1;return!0}(t,e);default:return Z()}}function nu(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function Bo(t,e){if(t===e)return 0;const n=Cs(t),r=Cs(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),a=et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return M3(t.timestampValue,e.timestampValue);case 4:return M3(eu(t),eu(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Es(i),a=Es(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=_e(o[l],a[l]);if(u!==0)return u}return _e(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=_e(et(i.latitude),et(s.latitude));return o!==0?o:_e(et(i.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Bo(o[l],a[l]);if(u)return u}return _e(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ic.mapValue&&s===Ic.mapValue)return 0;if(i===Ic.mapValue)return 1;if(s===Ic.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=_e(a[c],u[c]);if(h!==0)return h;const d=Bo(o[a[c]],l[u[c]]);if(d!==0)return d}return _e(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Z()}}function M3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=wi(t),r=wi(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Ho(t){return wp(t)}function wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=wi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Es(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=wp(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${wp(r.fields[a])}`;return s+"}"}(t.mapValue):Z();var e,n}function Ep(t){return!!t&&"integerValue"in t}function r4(t){return!!t&&"arrayValue"in t}function O3(t){return!!t&&"nullValue"in t}function F3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yc(t){return!!t&&"mapValue"in t}function hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class Cp{constructor(e){this.value=e}static empty(){return new Cp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(n)}setAll(e){let n=ir.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Cp(hl(this.value))}};function U7(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new ir([n]);if(Yc(r)){const s=U7(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xr=class $i{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $i(e,0,ie.min(),ie.min(),ie.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,i){return new $i(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new $i(e,2,n,ie.min(),ie.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new $i(e,3,n,ie.min(),ie.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id=class{constructor(e,n){this.position=e,this.inclusive=n}};function $3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Bo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function U3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function EP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V7=class{},Ct=class z7 extends V7{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SP(e,n,r):n==="array-contains"?new kP(e,r):n==="in"?new RP(e,r):n==="not-in"?new LP(e,r):n==="array-contains-any"?new NP(e,r):new z7(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TP(e,r):new IP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bo(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},Ei=class j7 extends V7{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new j7(e,n)}matches(e){return B7(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function B7(t){return t.op==="and"}function H7(t){return CP(t)&&B7(t)}function CP(t){for(const e of t.filters)if(e instanceof Ei)return!1;return!0}function Sp(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(H7(t))return t.filters.map(e=>Sp(e)).join(",");{const e=t.filters.map(n=>Sp(n)).join(",");return`${t.op}(${e})`}}function W7(t,e){return t instanceof Ct?function(n,r){return r instanceof Ct&&n.op===r.op&&n.field.isEqual(r.field)&&sr(n.value,r.value)}(t,e):t instanceof Ei?function(n,r){return r instanceof Ei&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&W7(s,r.filters[o]),!0):!1}(t,e):void Z()}function q7(t){return t instanceof Ct?function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`}(t):t instanceof Ei?function(e){return e.op.toString()+" {"+e.getFilters().map(q7).join(" ,")+"}"}(t):"Filter"}let SP=class extends Ct{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},TP=class extends Ct{constructor(e,n){super(e,"in",n),this.keys=K7("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}};class IP extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=K7("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function K7(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class kP extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r4(n)&&nu(n.arrayValue,this.value)}}let RP=class extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}},LP=class extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nu(this.value.arrayValue,n)}};class NP extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xP=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function V3(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xP(t,e,n,r,i,s,o)}function i4(t){const e=re(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),s0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.dt=n}return e.dt}function s4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W7(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U3(t.startAt,e.startAt)&&U3(t.endAt,e.endAt)}function Tp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function bP(t,e,n,r,i,s,o,a){return new o0(t,e,n,r,i,s,o,a)}function o4(t){return new o0(t)}function z3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AP(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function PP(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function DP(t){return t.collectionGroup!==null}function ko(t){const e=re(t);if(e.wt===null){e.wt=[];const n=PP(e),r=AP(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new dl(n)),e.wt.push(new dl(ir.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new dl(ir.keyField(),s))}}}return e.wt}function br(t){const e=re(t);if(!e._t)if(e.limitType==="F")e._t=V3(e.path,e.collectionGroup,ko(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ko(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new dl(s.field,o))}const r=e.endAt?new id(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new id(e.startAt.position,e.startAt.inclusive):null;e._t=V3(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Ip(t,e,n){return new o0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uu(t,e){return s4(br(t),br(e))&&t.limitType===e.limitType}function G7(t){return`${i4(br(t))}|lt:${t.limitType}`}function kp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>q7(r)).join(", ")}]`),s0(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),`Target(${n})`}(br(t))}; limitType=${t.limitType})`}function a0(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ko(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=$3(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ko(n),r)||n.endAt&&!function(i,s,o){const a=$3(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ko(n),r))}(t,e)}function MP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q7(t){return(e,n)=>{let r=!1;for(const i of ko(t)){const s=OP(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function OP(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Bo(a,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return F7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new it(Q.comparator);function Ar(){return FP}const Y7=new it(Q.comparator);function qa(...t){let e=Y7;for(const n of t)e=e.insert(n.key,n);return e}function X7(t){let e=Y7;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yi(){return fl()}function J7(){return fl()}function fl(){return new da(t=>t.toString(),(t,e)=>t.isEqual(e))}const $P=new it(Q.comparator),UP=new Mt(Q.comparator);function he(...t){let e=UP;for(const n of t)e=e.add(n);return e}const VP=new Mt(_e);function zP(){return VP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function ew(t){return{integerValue:""+t}}function jP(t,e){return vP(e)?ew(e):Z7(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this._=void 0}}function BP(t,e,n){return t instanceof sd?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&t4(i)&&(i=n4(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ru?nw(t,e):t instanceof iu?rw(t,e):function(r,i){const s=tw(r,i),o=j3(s)+j3(r.gt);return Ep(s)&&Ep(r.gt)?ew(o):Z7(r.serializer,o)}(t,e)}function HP(t,e,n){return t instanceof ru?nw(t,e):t instanceof iu?rw(t,e):n}function tw(t,e){return t instanceof od?Ep(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class sd extends l0{}class ru extends l0{constructor(e){super(),this.elements=e}}function nw(t,e){const n=iw(e);for(const r of t.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class iu extends l0{constructor(e){super(),this.elements=e}}function rw(t,e){let n=iw(e);for(const r of t.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class od extends l0{constructor(e,n){super(),this.serializer=e,this.gt=n}}function j3(t){return et(t.integerValue||t.doubleValue)}function iw(t){return r4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ru&&r instanceof ru||n instanceof iu&&r instanceof iu?jo(n.elements,r.elements,sr):n instanceof od&&r instanceof od?sr(n.gt,r.gt):n instanceof sd&&r instanceof sd}(t.transform,e.transform)}class qP{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class u0{}function sw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aw(t.key,nr.none()):new Vu(t.key,t.data,nr.none());{const n=t.data,r=Dn.empty();let i=new Mt(ir.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Li(t.key,r,new ln(i.toArray()),nr.none())}}function KP(t,e,n){t instanceof Vu?function(r,i,s){const o=r.value.clone(),a=H3(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(r,i,s){if(!Xc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=H3(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ow(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,r){return t instanceof Vu?function(i,s,o,a){if(!Xc(i.precondition,s))return o;const l=i.value.clone(),u=W3(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Li?function(i,s,o,a){if(!Xc(i.precondition,s))return o;const l=W3(i.fieldTransforms,a,s),u=s.data;return u.setAll(ow(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Xc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function GP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tw(r.transform,i||null);s!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,s))}return n||null}function B3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&jo(n,r,(i,s)=>WP(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends u0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends u0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ow(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function H3(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,HP(o,a,n[i]))}return r}function W3(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BP(s,o,e))}return r}class aw extends u0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QP extends u0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KP(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J7();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,r)=>B3(n,r))&&jo(this.baseMutations,e.baseMutations,(n,r)=>B3(n,r))}}class a4{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=$P;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new a4(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XP=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,de;function ZP(t){switch(t){default:return Z();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function lw(t){if(t===void 0)return Nr("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ze.OK:return x.OK;case Ze.CANCELLED:return x.CANCELLED;case Ze.UNKNOWN:return x.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return x.INTERNAL;case Ze.UNAVAILABLE:return x.UNAVAILABLE;case Ze.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ze.NOT_FOUND:return x.NOT_FOUND;case Ze.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ze.ABORTED:return x.ABORTED;case Ze.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ze.DATA_LOSS:return x.DATA_LOSS;default:return Z()}}(de=Ze||(Ze={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kc}static getOrCreateInstance(){return kc===null&&(kc=new l4),kc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let kc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Io([4294967295,4294967295],0);function q3(t){const e=eD().encode(t),n=new nP;return n.update(e),new Uint8Array(n.digest())}function K3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Io([n,r],0),new Io([i,s],0)]}class u4{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(r<0)throw new Ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Io.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Io.fromNumber(r)));return i.compare(tD)===1&&(i=new Io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=q3(e),[r,i]=K3(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new u4(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=q3(e),[r,i]=K3(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new c0(ie.min(),i,new it(_e),Ar(),he())}}class zu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}let uw=class{constructor(e,n){this.targetId=e,this.Vt=n}};class cw{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G3{constructor(){this.St=0,this.Dt=Y3(),this.Ct=$t.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=he(),n=he(),r=he();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new zu(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Y3()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class nD{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ar(),this.zt=Q3(),this.Wt=new it(_e)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Tp(o))if(i===0){const a=new Q(o.path);this.Yt(r,a,xr.newNoDocument(a,ie.min()))}else De(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=l4.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,h){var d,f,m,v,C,g;const p={localCacheCount:c,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(p.bloomFilter={applied:u===0,hashCount:(d=y==null?void 0:y.hashCount)!==null&&d!==void 0?d:0,bitmapLength:(v=(m=(f=y==null?void 0:y.bits)===null||f===void 0?void 0:f.bitmap)===null||m===void 0?void 0:m.length)!==null&&v!==void 0?v:0,padding:(g=(C=y==null?void 0:y.bits)===null||C===void 0?void 0:C.padding)!==null&&g!==void 0?g:0}),p}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Es(s).toUint8Array()}catch(c){if(c instanceof $7)return zo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new u4(l,o,a)}catch(c){return zo(c instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Tp(a.target)){const l=new Q(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,xr.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=he();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new c0(e,n,this.Wt,this.jt,r);return this.jt=Ar(),this.zt=Q3(),this.Wt=new it(_e),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new G3,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Mt(_e),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new G3),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Q3(){return new it(Q.comparator)}function Y3(){return new it(Q.comparator)}const rD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),iD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sD=(()=>({and:"AND",or:"OR"}))();class oD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(t,e){return t.useProto3Json||s0(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aD(t,e){return ad(t,e.toTimestamp())}function rr(t){return De(!!t),ie.fromTimestamp(function(e){const n=wi(e);return new Ht(n.seconds,n.nanos)}(t))}function c4(t,e){return function(n){return new tt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function dw(t){const e=tt.fromString(t);return De(gw(e)),e}function Lp(t,e){return c4(t.databaseId,e.path)}function Rf(t,e){const n=dw(e);if(n.get(1)!==t.databaseId.projectId)throw new G(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(fw(n))}function Np(t,e){return c4(t.databaseId,e)}function lD(t){const e=dw(t);return e.length===4?tt.emptyPath():fw(e)}function xp(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fw(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function X3(t,e,n){return{name:Lp(t,e),fields:n.value.mapValue.fields}}function uD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(De(u===void 0||typeof u=="string"),$t.fromBase64String(u||"")):(De(u===void 0||u instanceof Uint8Array),$t.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?x.UNKNOWN:lw(l.code);return new G(u,l.message||"")}(o);n=new cw(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rf(t,r.document.name),s=rr(r.document.updateTime),o=r.document.createTime?rr(r.document.createTime):ie.min(),a=new Dn({mapValue:{fields:r.document.fields}}),l=xr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rf(t,r.document),s=r.readTime?rr(r.readTime):ie.min(),o=xr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rf(t,r.document),s=r.removedTargetIds||[];n=new Jc([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new JP(i,s),a=r.targetId;n=new uw(a,o)}}return n}function cD(t,e){let n;if(e instanceof Vu)n={update:X3(t,e.key,e.value)};else if(e instanceof aw)n={delete:Lp(t,e.key)};else if(e instanceof Li)n={update:X3(t,e.key,e.data),updateMask:_D(e.fieldMask)};else{if(!(e instanceof QP))return Z();n={verify:Lp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof sd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ru)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof iu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof od)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:aD(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(t,e.precondition)),n}function hD(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?rr(r.updateTime):rr(i);return s.isEqual(ie.min())&&(s=rr(i)),new qP(s,r.transformResults||[])}(n,e))):[]}function dD(t,e){return{documents:[Np(t,e.path)]}}function fD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Np(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Np(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return mw(Ei.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Qs(c.field),direction:gD(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Rp(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function pD(t){let e=lD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=pw(c);return h instanceof Ei&&H7(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new dl(Ys(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,s0(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new id(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new id(d,h)}(n.endAt)),bP(e,i,o,s,a,"F",l,u)}function mD(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pw(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ys(e.unaryFilter.field);return Ct.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ys(e.unaryFilter.field);return Ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ys(e.unaryFilter.field);return Ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ys(e.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(e){return Ct.create(Ys(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ei.create(e.compositeFilter.filters.map(n=>pw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Z()}}(e.compositeFilter.op))}(t):Z()}function gD(t){return rD[t]}function vD(t){return iD[t]}function yD(t){return sD[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return ir.fromServerFormat(t.fieldPath)}function mw(t){return t instanceof Ct?function(e){if(e.op==="=="){if(F3(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NAN"}};if(O3(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(F3(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NAN"}};if(O3(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(e.field),op:vD(e.op),value:e.value}}}(t):t instanceof Ei?function(e){const n=e.getFilters().map(r=>mw(r));return n.length===1?n[0]:{compositeFilter:{op:yD(e.op),filters:n}}}(t):Z()}function _D(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=$t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.fe=e}}function ED(t){const e=pD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.rn=new SD}addToCollectionParentIndex(e,n){return this.rn.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(_i.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class SD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Wo(0)}static Mn(){return new Wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.changes=new da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pl(r.mutation,i,ln.empty(),Ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=Yi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar();const o=fl(),a=fl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Li)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),pl(c.mutation,u,c.mutation.getFieldMask(),Ht.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new ID(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fl();let i=new it((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ln.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=J7();c.forEach(d=>{if(!s.has(d)){const f=sw(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):A.resolve(Yi());let a=-1,l=s;return o.next(u=>A.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?A.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,he())).next(c=>({batchId:a,changes:X7(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=qa();return this.indexManager.getCollectionParents(e,i).next(o=>A.forEach(o,a=>{const l=function(u,c){return new o0(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,xr.newInvalidDocument(u)))});let o=qa();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&pl(u.mutation,l,ln.empty(),Ht.now()),a0(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return A.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:rr(r.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:ED(r.bundledQuery),readTime:rr(r.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.overlays=new it(Q.comparator),this.ls=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yi();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const i=Yi(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new it((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Yi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Yi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return A.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XP(n,r));let s=this.ls.get(n);s===void 0&&(s=he(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.fs=new Mt(ct.ds),this.ws=new Mt(ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Q(new tt([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Q(new tt([])),r=new ct(n,e),i=new ct(n,e+1);let s=he();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Q.comparator(e.key,n.key)||_e(e.As,n.As)}static _s(e,n){return _e(e.As,n.As)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Mt(ct.ds)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YP(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(_e);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),A.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new ct(new Q(s),0);let a=new Mt(_e);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),A.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return A.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ct(n,0),i=this.Rs.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.Ds=e,this.docs=new it(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():xr.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xr.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||pP(fP(c),r)<=0||(i.has(c.key)||a0(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Cs(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bD(this)}getSize(e){return A.resolve(this.size)}}class bD extends TD{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.persistence=e,this.xs=new da(n=>i4(n),s4),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Ns=0,this.ks=new h4,this.targetCount=0,this.Ms=Wo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),A.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Fn(n),A.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.$s={},this.overlays={},this.Os=new e4(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new AD(this),this.indexManager=new CD,this.remoteDocumentCache=function(r){return new xD(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new wD(n),this.qs=new RD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ND(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new DD(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return A.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class DD extends gP{constructor(e){super(),this.currentSequenceNumber=e}}class d4{constructor(e){this.persistence=e,this.Qs=new h4,this.js=null}static zs(e){return new d4(e)}get Ws(){if(this.js)return this.js;throw Z()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),A.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Ws,r=>{const i=Q.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return A.or([()=>A.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f4(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(z3(n))return A.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ip(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Ip(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return z3(n)||i.isEqual(ie.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(A3()<=fe.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kp(n)),this.Wi(e,o,n,dP(i,-1)))})}ji(e,n){let r=new Mt(Q7(e));return n.forEach((i,s)=>{a0(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return A3()<=fe.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",kp(n)),this.Ui.getDocumentsMatchingQuery(e,n,_i.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new it(_e),this.Yi=new da(s=>i4(s),s4),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function FD(t,e,n,r){return new OD(t,e,n,r)}async function vw(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function $D(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=A.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(m=>{const v=l.docVersions.get(f);De(v!==null),m.version.compareTo(v)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=he();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yw(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function UD(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken($t.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(m,v,C){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(d,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=Ar(),u=he();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(VD(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ie.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(h=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function VD(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function zD(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jD(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function bp(t,e,n){const r=re(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$u(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function J3(t,e,n){const r=re(t);let i=ie.min(),s=he();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=re(a),h=c.Yi.get(u);return h!==void 0?A.resolve(c.Ji.get(h)):c.Bs.getTargetData(l,u)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:he())).next(a=>(BD(r,MP(e),a),{documents:a,ir:s})))}function BD(t,e,n){let r=t.Xi.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Z3{constructor(){this.activeTargetIds=zP()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HD{constructor(){this.Hr=new Z3,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Z3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function Lf(){return Rc===null?Rc=268435456+Math.round(2147483648*Math.random()):Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class GD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Lf(),a=this.To(e,n);W("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(W("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw zo("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ha,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=qD[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Lf();return new Promise((o,a)=>{const l=new tP;l.setWithCredentials(!0),l.listenOnce(JA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kf.NO_ERROR:const c=l.getResponseJson();W(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case kf.TIMEOUT:W(Lt,`RPC '${e}' ${s} timed out`),a(new G(x.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const h=l.getStatus();if(W(Lt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const m=function(v){const C=v.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(C)>=0?C:x.UNKNOWN}(f.status);a(new G(m,f.message))}else a(new G(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(x.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{W(Lt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);W(Lt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Lf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YA(),a=XA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new eP({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");W(Lt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const m=new KD({ro:C=>{f?W(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(d||(W(Lt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),W(Lt,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},oo:()=>h.close()}),v=(C,g,p)=>{C.listen(g,y=>{try{p(y)}catch(T){setTimeout(()=>{throw T},0)}})};return v(h,Sc.EventType.OPEN,()=>{f||W(Lt,`RPC '${e}' stream ${i} transport opened.`)}),v(h,Sc.EventType.CLOSE,()=>{f||(f=!0,W(Lt,`RPC '${e}' stream ${i} transport closed`),m.wo())}),v(h,Sc.EventType.ERROR,C=>{f||(f=!0,zo(Lt,`RPC '${e}' stream ${i} transport errored:`,C),m.wo(new G(x.UNAVAILABLE,"The operation could not be completed")))}),v(h,Sc.EventType.MESSAGE,C=>{var g;if(!f){const p=C.data[0];De(!!p);const y=p,T=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(T){W(Lt,`RPC '${e}' stream ${i} received error:`,T);const L=T.status;let E=function(N){const V=Ze[N];if(V!==void 0)return lw(V)}(L),D=T.message;E===void 0&&(E=x.INTERNAL,D="Unknown error status: "+L+" with message "+T.message),f=!0,m.wo(new G(E,D)),h.close()}else W(Lt,`RPC '${e}' stream ${i} received:`,p),m._o(p)}}),v(a,ZA.STAT_EVENT,C=>{C.stat===x3.PROXY?W(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===x3.NOPROXY&&W(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){return new oD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _w(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new G(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QD extends ww{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=uD(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?rr(s.readTime):ie.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=xp(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Tp(a)?{documents:dD(i,a)}:{query:fD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=hw(i,s.resumeToken);const l=Rp(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){o.readTime=ad(i,s.snapshotVersion.toTimestamp());const l=Rp(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=mD(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.Wo(n)}}class YD extends ww{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=hD(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.cu(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xp(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cD(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new G(x.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(x.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(x.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class JD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Nr(n),this.mu=!1):W("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Ms(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=re(a);l.vu.add(4),await ju(l),l.bu.set("Unknown"),l.vu.delete(4),await d0(l)}(this))})}),this.bu=new JD(r,i)}}async function d0(t){if(Ms(t))for(const e of t.Ru)await e(!0)}async function ju(t){for(const e of t.Ru)await e(!1)}function Ew(t,e){const n=re(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),g4(n)?m4(n):fa(n).Ko()&&p4(n,e))}function Cw(t,e){const n=re(t),r=fa(n);n.Au.delete(e),r.Ko()&&Sw(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ms(n)&&n.bu.set("Unknown"))}function p4(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fa(t).su(e)}function Sw(t,e){t.Vu.qt(e),fa(t).iu(e)}function m4(t){t.Vu=new nD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),fa(t).start(),t.bu.gu()}function g4(t){return Ms(t)&&!fa(t).Uo()&&t.Au.size>0}function Ms(t){return re(t).vu.size===0}function Tw(t){t.Vu=void 0}async function eM(t){t.Au.forEach((e,n)=>{p4(t,e)})}async function tM(t,e){Tw(t),g4(t)?(t.bu.Iu(e),m4(t)):t.bu.set("Unknown")}async function nM(t,e,n){if(t.bu.set("Online"),e instanceof cw&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ld(t,r)}else if(e instanceof Jc?t.Vu.Ht(e):e instanceof uw?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ie.min()))try{const r=await yw(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken($t.EMPTY_BYTE_STRING,u.snapshotVersion)),Sw(i,a);const c=new ei(u.target,a,l,u.sequenceNumber);p4(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await ld(t,r)}}async function ld(t,e,n){if(!$u(e))throw e;t.vu.add(1),await ju(t),t.bu.set("Offline"),n||(n=()=>yw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await d0(t)})}function Iw(t,e){return e().catch(n=>ld(t,n,e))}async function f0(t){const e=re(t),n=Ci(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rM(e);)try{const i=await zD(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,iM(e,i)}catch(i){await ld(e,i)}kw(e)&&Rw(e)}function rM(t){return Ms(t)&&t.Eu.length<10}function iM(t,e){t.Eu.push(e);const n=Ci(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function kw(t){return Ms(t)&&!Ci(t).Uo()&&t.Eu.length>0}function Rw(t){Ci(t).start()}async function sM(t){Ci(t).hu()}async function oM(t){const e=Ci(t);for(const n of t.Eu)e.uu(n.mutations)}async function aM(t,e,n){const r=t.Eu.shift(),i=a4.from(r,e,n);await Iw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await f0(t)}async function lM(t,e){e&&Ci(t).ou&&await async function(n,r){if(i=r.code,ZP(i)&&i!==x.ABORTED){const s=n.Eu.shift();Ci(n).Qo(),await Iw(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await f0(n)}var i}(t,e),kw(t)&&Rw(t)}async function t9(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Ms(n);n.vu.add(3),await ju(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await d0(n)}async function uM(t,e){const n=re(t);e?(n.vu.delete(2),await d0(n)):e||(n.vu.add(2),await ju(n),n.bu.set("Unknown"))}function fa(t){return t.Su||(t.Su=function(e,n,r){const i=re(e);return i.fu(),new QD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:eM.bind(null,t),ao:tM.bind(null,t),nu:nM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),g4(t)?m4(t):t.bu.set("Unknown")):(await t.Su.stop(),Tw(t))})),t.Su}function Ci(t){return t.Du||(t.Du=function(e,n,r){const i=re(e);return i.fu(),new YD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:sM.bind(null,t),ao:lM.bind(null,t),au:oM.bind(null,t),cu:aM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await f0(t)):(await t.Du.stop(),t.Eu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new v4(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y4(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),$u(t))return new G(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new Ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.Cu=new it(Q.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Z():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class qo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qo(e,n,Ro.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.Nu=void 0,this.listeners=[]}}class hM{constructor(){this.queries=new da(e=>G7(e),Uu),this.onlineState="Unknown",this.ku=new Set}}async function dM(t,e){const n=re(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cM),i)try{s.Nu=await n.onListen(r)}catch(o){const a=y4(o,`Initialization of query '${kp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&_4(n)}async function fM(t,e){const n=re(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function pM(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&_4(n)}function mM(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function _4(t){t.ku.forEach(e=>{e.next()})}class gM{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.key=e}}class Nw{constructor(e){this.key=e}}class vM{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=he(),this.mutatedKeys=he(),this.tc=Q7(e),this.ec=new Ro(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new n9,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=a0(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let C=!1;d&&f?d.data.isEqual(f.data)?m!==v&&(r.track({type:3,doc:f}),C=!0):this.rc(d,f)||(r.track({type:2,doc:f}),C=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),C=!0):d&&!f&&(r.track({type:1,doc:d}),C=!0,(l||u)&&(a=!0)),C&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(h,d){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return f(h)-f(d)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new qo(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new n9,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=he(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Nw(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Lw(r))}),n}hc(e){this.Yu=e.ir,this.Zu=he();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return qo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class yM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _M{constructor(e){this.key=e,this.fc=!1}}class wM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new da(a=>G7(a),Uu),this._c=new Map,this.mc=new Set,this.gc=new it(Q.comparator),this.yc=new Map,this.Ic=new h4,this.Tc={},this.Ec=new Map,this.Ac=Wo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function EM(t,e){const n=bM(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await jD(n.localStore,br(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await CM(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Ew(n.remoteStore,o)}return i}async function CM(t,e,n,r,i){t.Rc=(h,d,f)=>async function(m,v,C,g){let p=v.view.sc(C);p.zi&&(p=await J3(m.localStore,v.query,!1).then(({documents:L})=>v.view.sc(L,p)));const y=g&&g.targetChanges.get(v.targetId),T=v.view.applyChanges(p,m.isPrimaryClient,y);return i9(m,v.targetId,T.cc),T.snapshot}(t,h,d,f);const s=await J3(t.localStore,e,!0),o=new vM(e,s.ir),a=o.sc(s.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);i9(t,n,u.cc);const c=new yM(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function SM(t,e){const n=re(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Uu(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cw(n.remoteStore,r.targetId),Ap(n,r.targetId)}).catch(Fu)):(Ap(n,r.targetId),await bp(n.localStore,r.targetId,!0))}async function TM(t,e,n){const r=AM(t);try{const i=await function(s,o){const a=re(s),l=Ht.now(),u=o.reduce((d,f)=>d.add(f.key),he());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=Ar(),m=he();return a.Zi.getEntries(d,u).next(v=>{f=v,f.forEach((C,g)=>{g.isValidDocument()||(m=m.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(v=>{c=v;const C=[];for(const g of o){const p=GP(g,c.get(g.key).overlayedDocument);p!=null&&C.push(new Li(g.key,p,U7(p.value.mapValue),nr.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,C,o)}).next(v=>{h=v;const C=v.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(d,v.batchId,C)})}).then(()=>({batchId:h.batchId,changes:X7(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new it(_e)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Bu(r,i.changes),await f0(r.remoteStore)}catch(i){const s=y4(i,"Failed to persist write");n.reject(s)}}async function xw(t,e){const n=re(t);try{const r=await UD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?De(o.fc):i.removedDocuments.size>0&&(De(o.fc),o.fc=!1))}),await Bu(n,r,e)}catch(r){await Fu(r)}}function r9(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=re(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Mu(o)&&(l=!0)}),l&&_4(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IM(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new it(Q.comparator);o=o.insert(s,xr.newNoDocument(s,ie.min()));const a=he().add(s),l=new c0(ie.min(),new Map,new it(_e),o,a);await xw(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),w4(r)}else await bp(r.localStore,e,!1).then(()=>Ap(r,e,n)).catch(Fu)}async function kM(t,e){const n=re(t),r=e.batch.batchId;try{const i=await $D(n.localStore,e);Aw(n,r,null),bw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(n,i)}catch(i){await Fu(i)}}async function RM(t,e,n){const r=re(t);try{const i=await function(s,o){const a=re(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(De(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Aw(r,e,n),bw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bu(r,i)}catch(i){await Fu(i)}}function bw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Aw(t,e,n){const r=re(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ap(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Pw(t,r)})}function Pw(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Cw(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),w4(t))}function i9(t,e,n){for(const r of n)r instanceof Lw?(t.Ic.addReference(r.key,e),LM(t,r)):r instanceof Nw?(W("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Pw(t,r.key)):Z()}function LM(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.mc.add(r),w4(t))}function w4(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Q(tt.fromString(e)),r=t.Ac.next();t.yc.set(r,new _M(n)),t.gc=t.gc.insert(n,r),Ew(t.remoteStore,new ei(br(o4(n.path)),r,"TargetPurposeLimboResolution",e4.ct))}}async function Bu(t,e,n){const r=re(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=f4.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=re(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>A.forEach(l,h=>A.forEach(h.Fi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>A.forEach(h.Bi,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!$u(c))throw c;W("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Ji.get(h),f=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(h,m)}}}(r.localStore,s))}async function NM(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await vw(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new G(x.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(n,r.er)}}function xM(t,e){const n=re(t),r=n.yc.get(e);if(r&&r.fc)return he().add(r.key);{let i=he();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function bM(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IM.bind(null,e),e.dc.nu=pM.bind(null,e.eventManager),e.dc.Pc=mM.bind(null,e.eventManager),e}function AM(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RM.bind(null,e),e}class s9{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=h0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FD(this.persistence,new MD,e.initialUser,this.serializer)}createPersistence(e){return new PD(d4.zs,this.serializer)}createSharedClientState(e){return new HD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r9(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NM.bind(null,this.syncEngine),await uM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hM}createDatastore(e){const n=h0(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new GD(i));var i;return function(s,o,a,l){return new XD(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>r9(this.syncEngine,a,0),o=e9.D()?new e9:new WD,new ZD(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new wM(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=re(e);W("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ju(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=M7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=y4(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xf(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function o9(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FM(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>t9(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>t9(e.remoteStore,s)),t._onlineComponents=e}function OM(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function FM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await xf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!OM(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await xf(t,new s9)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await xf(t,new s9);return t._offlineComponents}async function Dw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await o9(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await o9(t,new PM))),t._onlineComponents}function $M(t){return Dw(t).then(e=>e.syncEngine)}async function a9(t){const e=await Dw(t),n=e.eventManager;return n.onListen=EM.bind(null,e.syncEngine),n.onUnlisten=SM.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e,n){if(!n)throw new G(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UM(t,e,n,r){if(e===!0&&r===!0)throw new G(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function u9(t){if(!Q.isDocumentKey(t))throw new G(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function c9(t){if(Q.isDocumentKey(t))throw new G(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function E4(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=E4(t);throw new G(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class p0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h9(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new rP;switch(n.type){case"firstParty":return new aP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new G(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=l9.get(e);n&&(W("ComponentProvider","Removing Datastore"),l9.delete(e),n.terminate())}(this),Promise.resolve()}}function VM(t,e,n,r={}){var i;const s=(t=ss(t,p0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nt.MOCK_USER;else{a=dI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nt(u)}t._authCredentials=new iP(new D7(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Ko{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class fi extends Ko{constructor(e,n,r){super(e,n,o4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Q(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function Fw(t,e,...n){if(t=Qe(t),Ow("collection","path",e),t instanceof p0){const r=tt.fromString(e,...n);return c9(r),new fi(t,null,r)}{if(!(t instanceof hn||t instanceof fi))throw new G(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return c9(r),new fi(t.firestore,null,r)}}function $w(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=M7.A()),Ow("doc","path",e),t instanceof p0){const r=tt.fromString(e,...n);return u9(r),new hn(t,null,new Q(r))}{if(!(t instanceof hn||t instanceof fi))throw new G(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return u9(r),new hn(t.firestore,t instanceof fi?t.converter:null,new Q(r))}}function zM(t,e){return t=Qe(t),e=Qe(e),t instanceof Ko&&e instanceof Ko&&t.firestore===e.firestore&&Uu(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _w(this,"async_queue_retry"),this.Xc=()=>{const n=Nf();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Nf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new is;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!$u(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=v4.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Z()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function d9(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class su extends p0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vw(this),this._firestoreClient.terminate()}}function BM(t,e){const n=typeof t=="object"?t:Ay(),r=typeof t=="string"?t:e||"(default)",i=gu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hI("firestore");s&&VM(i,...s)}return i}function Uw(t){return t._firestoreClient||Vw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Vw(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new _P(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Mw(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new MM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go($t.fromBase64String(e))}catch(n){throw new G(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Go($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=/^__.*__$/;class WM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class zw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class T4{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new T4(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ud(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(jw(this.ca)&&HM.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class qM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||h0(e)}ya(e,n,r,i=!1){return new T4({ca:e,methodName:n,ga:r,path:ir.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bw(t){const e=t._freezeSettings(),n=h0(t._databaseId);return new qM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KM(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);I4("Data must be an object, but it was:",o,r);const a=Hw(r,o);let l,u;if(s.merge)l=new ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=Pp(e,h,n);if(!o.contains(d))throw new G(x.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);qw(c,d)||c.push(d)}l=new ln(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new WM(new Dn(a),l,u)}class g0 extends C4{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g0}}function GM(t,e,n,r){const i=t.ya(1,e,n);I4("Data must be an object, but it was:",i,r);const s=[],o=Dn.empty();Ds(r,(l,u)=>{const c=k4(e,l,n);u=Qe(u);const h=i.da(c);if(u instanceof g0)s.push(c);else{const d=v0(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new ln(s);return new zw(o,a,i.fieldTransforms)}function QM(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Pp(e,r,n)],l=[i];if(s.length%2!=0)throw new G(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Pp(e,s[d])),l.push(s[d+1]);const u=[],c=Dn.empty();for(let d=a.length-1;d>=0;--d)if(!qw(u,a[d])){const f=a[d];let m=l[d];m=Qe(m);const v=o.da(f);if(m instanceof g0)u.push(f);else{const C=v0(m,v);C!=null&&(u.push(f),c.set(f,C))}}const h=new ln(u);return new zw(c,h,o.fieldTransforms)}function v0(t,e){if(Ww(t=Qe(t)))return I4("Unsupported field value:",e,t),Hw(t,e);if(t instanceof C4)return function(n,r){if(!jw(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=v0(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jP(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ht.fromDate(n);return{timestampValue:ad(r.serializer,i)}}if(n instanceof Ht){const i=new Ht(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ad(r.serializer,i)}}if(n instanceof S4)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Go)return{bytesValue:hw(r.serializer,n._byteString)};if(n instanceof hn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:c4(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${E4(n)}`)}(t,e)}function Hw(t,e){const n={};return F7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=v0(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ww(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof S4||t instanceof Go||t instanceof hn||t instanceof C4)}function I4(t,e,n){if(!Ww(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=E4(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Pp(t,e,n){if((e=Qe(e))instanceof m0)return e._internalPath;if(typeof e=="string")return k4(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const YM=new RegExp("[~\\*/\\[\\]]");function k4(t,e,n){if(e.search(YM)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new m0(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(x.INVALID_ARGUMENT,a+t+l)}function qw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XM extends Kw{data(){return super.data()}}function Gw(t,e){return typeof e=="string"?k4(t,e):e instanceof m0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZM{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new S4(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=n4(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=wi(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);De(gw(r));const i=new tu(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Nr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qw extends Kw{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zc extends Qw{data(e={}){return super.data(e)}}class tO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ga(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new Ga(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Zc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ga(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Zc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ga(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:nO(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class Yw extends ZM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function rO(t,e,n,...r){t=ss(t,hn);const i=ss(t.firestore,su),s=Bw(i);let o;return o=typeof(e=Qe(e))=="string"||e instanceof m0?QM(s,"updateDoc",t._key,e,n,r):GM(s,"updateDoc",t._key,e),Xw(i,[o.toMutation(t._key,nr.exists(!0))])}function iO(t,e){const n=ss(t.firestore,su),r=$w(t),i=eO(t.converter,e);return Xw(n,[KM(Bw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function sO(t,...e){var n,r,i;t=Qe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||d9(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(d9(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof hn)u=ss(t.firestore,su),c=o4(t._key.path),l={next:h=>{e[o]&&e[o](oO(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ss(t,Ko);u=ss(h.firestore,su),c=h._query;const d=new Yw(u);l={next:f=>{e[o]&&e[o](new tO(u,d,h,f))},error:e[o+1],complete:e[o+2]},JM(t._query)}return function(h,d,f,m){const v=new DM(m),C=new gM(d,v,f);return h.asyncQueue.enqueueAndForget(async()=>dM(await a9(h),C)),()=>{v.Dc(),h.asyncQueue.enqueueAndForget(async()=>fM(await a9(h),C))}}(Uw(u),c,a,l)}function Xw(t,e){return function(n,r){const i=new is;return n.asyncQueue.enqueueAndForget(async()=>TM(await $M(n),r,i)),i.promise}(Uw(t),e)}function oO(t,e,n){const r=n.docs.get(e._key),i=new Yw(t);return new Qw(t,i,e._key,r,new Ga(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ha=n})(Mr),Tn(new fn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new su(new sP(n.getProvider("auth-internal")),new uP(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new G(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),rt(b3,"3.13.0",t),rt(b3,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="us-central1";class uO{constructor(e,n,r,i,s=f9,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new lO(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=f9}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const p9="@firebase/functions",m9="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="auth-internal",hO="app-check-internal",dO="messaging-internal";function fO(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(cO),a=r.getProvider(dO),l=r.getProvider(hO);return new uO(s,o,a,l,i,t)};Tn(new fn(aO,n,"PUBLIC").setMultipleInstances(!0)),rt(p9,m9,e),rt(p9,m9,"esm2017")}fO(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="firebasestorage.googleapis.com",pO="storageBucket",mO=2*60*1e3,gO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends kn{constructor(e,n,r=0){super(bf(e),`Firebase Storage: ${n} (${bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var or;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(or||(or={}));function bf(t){return"storage/"+t}function vO(){const t="An unknown error occurred, please check the error payload for server response.";return new ar(or.UNKNOWN,t)}function yO(){return new ar(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _O(){return new ar(or.CANCELED,"User canceled the upload/download.")}function wO(t){return new ar(or.INVALID_URL,"Invalid URL '"+t+"'.")}function EO(t){return new ar(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function g9(t){return new ar(or.INVALID_ARGUMENT,t)}function Zw(){return new ar(or.APP_DELETED,"The Firebase app was deleted.")}function CO(t){return new ar(or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(r.path==="")return r;throw EO(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},v=n===Jw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",g=new RegExp(`^https?://${v}/${i}/${C}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:f,indices:m,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<y.length;T++){const L=y[T],E=L.regex.exec(e);if(E){const D=E[L.indices.bucket];let N=E[L.indices.path];N||(N=""),r=new Fn(D,N),L.postModify(r);break}}if(r==null)throw wO(e);return r}}class SO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...C){u||(u=!0,e.apply(null,C))}function h(C){i=setTimeout(()=>{i=null,t(f,l())},C)}function d(){s&&clearTimeout(s)}function f(C,...g){if(u){d();return}if(C){d(),c.call(null,C,...g);return}if(l()||o){d(),c.call(null,C,...g);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let m=!1;function v(C){m||(m=!0,d(),!u&&(i!==null?(C||(a=2),clearTimeout(i),h(0)):C||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function IO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){return t!==void 0}function v9(t,e,n,r){if(r<e)throw g9(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw g9(`Invalid value for '${t}'. Expected ${n} or less.`)}function RO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(cd||(cd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r,i,s,o,a,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Lc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===cd.NO_ERROR,l=s.getStatus();if(!a||LO(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===cd.ABORT;r(!1,new Lc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Lc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kO(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=vO();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Zw():_O();o(l)}else{const l=yO();o(l)}};this.canceled_?n(!1,new Lc(!1,null,!0)):this.backoffId_=TO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DO(t,e,n,r,i,s,o=!0){const a=RO(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return AO(u,e),xO(u,n),bO(u,s),PO(u,r),new NO(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hd(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OO(this._location.path)}get storage(){return this._service}get parent(){const e=MO(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new hd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CO(e)}}function y9(t,e){const n=e==null?void 0:e[pO];return n==null?null:Fn.makeFromBucketSpec(n,t)}class FO{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Jw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mO,this._maxUploadRetryTime=gO,this._requests=new Set,i!=null?this._bucket=Fn.makeFromBucketSpec(i,this._host):this._bucket=y9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=y9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){v9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){v9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new SO(Zw());{const o=DO(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _9="@firebase/storage",w9="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="storage";function UO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FO(n,r,i,e,Mr)}function VO(){Tn(new fn($O,UO,"PUBLIC").setMultipleInstances(!0)),rt(_9,w9,""),rt(_9,w9,"esm2017")}VO();const zO=(t,e)=>e.some(n=>t instanceof n);let E9,C9;function jO(){return E9||(E9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BO(){return C9||(C9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,Dp=new WeakMap,tE=new WeakMap,Af=new WeakMap,R4=new WeakMap;function HO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),R4.set(e,t),e}function WO(t){if(Dp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dp.set(t,e)}let Mp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qO(t){Mp=t(Mp)}function KO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pf(this),e,...n);return tE.set(r,e.sort?e.sort():[e]),pi(r)}:BO().includes(t)?function(...e){return t.apply(Pf(this),e),pi(eE.get(this))}:function(...e){return pi(t.apply(Pf(this),e))}}function GO(t){return typeof t=="function"?KO(t):(t instanceof IDBTransaction&&WO(t),zO(t,jO())?new Proxy(t,Mp):t)}function pi(t){if(t instanceof IDBRequest)return HO(t);if(Af.has(t))return Af.get(t);const e=GO(t);return e!==t&&(Af.set(t,e),R4.set(e,t)),e}const Pf=t=>R4.get(t);function QO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=pi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(pi(o.result),l.oldVersion,l.newVersion,pi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const YO=["get","getKey","getAll","getAllKeys","count"],XO=["put","add","delete","clear"],Df=new Map;function S9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Df.set(e,s),s}qO(t=>({...t,get:(e,n,r)=>S9(e,n)||t.get(e,n,r),has:(e,n)=>!!S9(e,n)||t.has(e,n)}));const nE="@firebase/installations",L4="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=1e4,iE=`w:${L4}`,sE="FIS_v2",JO="https://firebaseinstallations.googleapis.com/v1",ZO=60*60*1e3,eF="installations",tF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ss=new Ns(eF,tF,nF);function oE(t){return t instanceof kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE({projectId:t}){return`${JO}/projects/${t}/installations`}function lE(t){return{token:t.token,requestStatus:2,expiresIn:iF(t.expiresIn),creationTime:Date.now()}}async function uE(t,e){const r=(await e.json()).error;return Ss.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function cE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rF(t,{refreshToken:e}){const n=cE(t);return n.append("Authorization",sF(e)),n}async function hE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function iF(t){return Number(t.replace("s","000"))}function sF(t){return`${sE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=aE(t),i=cE(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:sE,appId:t.appId,sdkVersion:iE},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await hE(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:lE(u.authToken)}}else throw await uE("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=/^[cdef][\w-]{21}$/,Op="";function uF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=cF(t);return lF.test(n)?n:Op}catch{return Op}}function cF(t){return aF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;function pE(t,e){const n=y0(t);mE(n,e),hF(n,e)}function mE(t,e){const n=fE.get(t);if(n)for(const r of n)r(e)}function hF(t,e){const n=dF();n&&n.postMessage({key:t,fid:e}),fF()}let Xi=null;function dF(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=t=>{mE(t.data.key,t.data.fid)}),Xi}function fF(){fE.size===0&&Xi&&(Xi.close(),Xi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="firebase-installations-database",mF=1,Ts="firebase-installations-store";let Mf=null;function N4(){return Mf||(Mf=QO(pF,mF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ts)}}})),Mf}async function dd(t,e){const n=y0(t),i=(await N4()).transaction(Ts,"readwrite"),s=i.objectStore(Ts),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&pE(t,e.fid),e}async function gE(t){const e=y0(t),r=(await N4()).transaction(Ts,"readwrite");await r.objectStore(Ts).delete(e),await r.done}async function _0(t,e){const n=y0(t),i=(await N4()).transaction(Ts,"readwrite"),s=i.objectStore(Ts),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&pE(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t){let e;const n=await _0(t.appConfig,r=>{const i=gF(r),s=vF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Op?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function gF(t){const e=t||{fid:uF(),registrationStatus:0};return vE(e)}function vF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ss.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=yF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_F(t)}:{installationEntry:e}}async function yF(t,e){try{const n=await oF(t,e);return dd(t.appConfig,n)}catch(n){throw oE(n)&&n.customData.serverCode===409?await gE(t.appConfig):await dd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function _F(t){let e=await T9(t.appConfig);for(;e.registrationStatus===1;)await dE(100),e=await T9(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await x4(t);return r||n}return e}function T9(t){return _0(t,e=>{if(!e)throw Ss.create("installation-not-found");return vE(e)})}function vE(t){return wF(t)?{fid:t.fid,registrationStatus:0}:t}function wF(t){return t.registrationStatus===1&&t.registrationTime+rE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF({appConfig:t,heartbeatServiceProvider:e},n){const r=CF(t,n),i=rF(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:iE,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await hE(()=>fetch(r,a));if(l.ok){const u=await l.json();return lE(u)}else throw await uE("Generate Auth Token",l)}function CF(t,{fid:e}){return`${aE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e=!1){let n;const r=await _0(t.appConfig,s=>{if(!yE(s))throw Ss.create("not-registered");const o=s.authToken;if(!e&&IF(o))return s;if(o.requestStatus===1)return n=SF(t,e),s;{if(!navigator.onLine)throw Ss.create("app-offline");const a=RF(s);return n=TF(t,a),a}});return n?await n:r.authToken}async function SF(t,e){let n=await I9(t.appConfig);for(;n.authToken.requestStatus===1;)await dE(100),n=await I9(t.appConfig);const r=n.authToken;return r.requestStatus===0?b4(t,e):r}function I9(t){return _0(t,e=>{if(!yE(e))throw Ss.create("not-registered");const n=e.authToken;return LF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function TF(t,e){try{const n=await EF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await dd(t.appConfig,r),n}catch(n){if(oE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gE(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dd(t.appConfig,r)}throw n}}function yE(t){return t!==void 0&&t.registrationStatus===2}function IF(t){return t.requestStatus===2&&!kF(t)}function kF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ZO}function RF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function LF(t){return t.requestStatus===1&&t.requestTime+rE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t){const e=t,{installationEntry:n,registrationPromise:r}=await x4(e);return r?r.catch(console.error):b4(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(t,e=!1){const n=t;return await bF(n),(await b4(n,e)).token}async function bF(t){const{registrationPromise:e}=await x4(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){if(!t||!t.options)throw Of("App Configuration");if(!t.name)throw Of("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Of(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Of(t){return Ss.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="installations",PF="installations-internal",DF=t=>{const e=t.getProvider("app").getImmediate(),n=AF(e),r=gu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},MF=t=>{const e=t.getProvider("app").getImmediate(),n=gu(e,_E).getImmediate();return{getId:()=>NF(n),getToken:i=>xF(n,i)}};function OF(){Tn(new fn(_E,DF,"PUBLIC")),Tn(new fn(PF,MF,"PRIVATE"))}OF();rt(nE,L4);rt(nE,L4,"esm2017");const Ff="@firebase/remote-config",k9="0.4.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},Yt=new Ns("remoteconfig","Remote Config",$F);function UF(t){const e=Qe(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=await this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),await Promise.all(s),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}async fetch(e){const[n,r]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:zF()},l={method:"POST",headers:o,body:JSON.stringify(a)},u=fetch(s,l),c=new Promise((C,g)=>{e.signal.addEventListener(()=>{const p=new Error("The operation was aborted.");p.name="AbortError",g(p)})});let h;try{await Promise.race([u,c]),h=await u}catch(C){let g="fetch-client-network";throw(C==null?void 0:C.name)==="AbortError"&&(g="fetch-timeout"),Yt.create(g,{originalErrorMessage:C==null?void 0:C.message})}let d=h.status;const f=h.headers.get("ETag")||void 0;let m,v;if(h.status===200){let C;try{C=await h.json()}catch(g){throw Yt.create("fetch-client-parse",{originalErrorMessage:g==null?void 0:g.message})}m=C.entries,v=C.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?d=500:v==="NO_CHANGE"?d=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(m={}),d!==304&&d!==200)throw Yt.create("fetch-status",{httpStatus:d});return{status:d,eTag:f,config:m}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Yt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HF(t){if(!(t instanceof kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WF{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await BF(e.signal,n);try{const i=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),i}catch(i){if(!HF(i))throw i;const s={throttleEndTimeMillis:Date.now()+xI(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(s),this.attemptFetch(e,s)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=60*1e3,KF=12*60*60*1e3;class GF{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:qF,minimumFetchIntervalMillis:KF},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e){const n=t.target.error||void 0;return Yt.create(e,{originalErrorMessage:n&&(n==null?void 0:n.message)})}const Ui="app_namespace_store",QF="firebase_remote_config",YF=1;function XF(){return new Promise((t,e)=>{try{const n=indexedDB.open(QF,YF);n.onerror=r=>{e(eh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ui,{keyPath:"compositeKey"})}}}catch(n){e(Yt.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}})}class JF{constructor(e,n,r,i=XF()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction([Ui],"readonly").objectStore(Ui),a=this.createCompositeKey(e);try{const l=o.get(a);l.onerror=u=>{i(eh(u,"storage-get"))},l.onsuccess=u=>{const c=u.target.result;r(c?c.value:void 0)}}catch(l){i(Yt.create("storage-get",{originalErrorMessage:l==null?void 0:l.message}))}})}async set(e,n){const r=await this.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ui],"readwrite").objectStore(Ui),l=this.createCompositeKey(e);try{const u=a.put({compositeKey:l,value:n});u.onerror=c=>{s(eh(c,"storage-set"))},u.onsuccess=()=>{i()}}catch(u){s(Yt.create("storage-set",{originalErrorMessage:u==null?void 0:u.message}))}})}async delete(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction([Ui],"readwrite").objectStore(Ui),a=this.createCompositeKey(e);try{const l=o.delete(a);l.onerror=u=>{i(eh(u,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){i(Yt.create("storage-delete",{originalErrorMessage:l==null?void 0:l.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=await e;i&&(this.lastFetchStatus=i);const s=await n;s&&(this.lastSuccessfulFetchTimestampMillis=s);const o=await r;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){Tn(new fn(FF,t,"PUBLIC").setMultipleInstances(!0)),rt(Ff,k9),rt(Ff,k9,"esm2017");function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Yt.create("registration-window");if(!ky())throw Yt.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Yt.create("registration-project-id");if(!o)throw Yt.create("registration-api-key");if(!a)throw Yt.create("registration-app-id");n=n||"firebase";const l=new JF(a,r.name,n),u=new ZF(l),c=new mu(Ff);c.logLevel=fe.ERROR;const h=new jF(i,Mr,n,s,o,a),d=new WF(h,l),f=new VF(d,l,u,c),m=new GF(r,f,u,l,c);return UF(m),m}}e$();var Fp=function(t,e){return Fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Fp(t,e)};function Fr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function t$(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function wE(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Qo(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yo(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Xo(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Lo(t){return this instanceof Lo?(this.v=t,this):new Lo(t)}function n$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(f){return new Promise(function(m,v){s.push([d,f,m,v])>1||a(d,f)})})}function a(d,f){try{l(r[d](f))}catch(m){h(s[0][3],m)}}function l(d){d.value instanceof Lo?Promise.resolve(d.value.v).then(u,c):h(s[0][2],d)}function u(d){a("next",d)}function c(d){a("throw",d)}function h(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function r$(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Qo=="function"?Qo(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function lt(t){return typeof t=="function"}function A4(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $f=A4(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function fd(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Hu=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Qo(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(v){e={error:v}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(lt(c))try{c()}catch(v){s=v instanceof $f?v.errors:[v]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Qo(h),f=d.next();!f.done;f=d.next()){var m=f.value;try{R9(m)}catch(v){s=s??[],v instanceof $f?s=Xo(Xo([],Yo(s)),Yo(v.errors)):s.push(v)}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new $f(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)R9(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&fd(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&fd(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),EE=Hu.EMPTY;function CE(t){return t instanceof Hu||t&&"closed"in t&&lt(t.remove)&&lt(t.add)&&lt(t.unsubscribe)}function R9(t){lt(t)?t():t.unsubscribe()}var SE={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},i$={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Xo([t,e],Yo(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function TE(t){i$.setTimeout(function(){throw t})}function L9(){}function th(t){t()}var P4=function(t){Fr(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,CE(n)&&n.add(r)):r.destination=l$,r}return e.create=function(n,r,i){return new ou(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Hu),s$=Function.prototype.bind;function Uf(t,e){return s$.call(t,e)}var o$=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Nc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Nc(r)}else Nc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Nc(n)}},t}(),ou=function(t){Fr(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(lt(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&SE.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Uf(n.next,a),error:n.error&&Uf(n.error,a),complete:n.complete&&Uf(n.complete,a)}):o=n}return s.destination=new o$(o),s}return e}(P4);function Nc(t){TE(t)}function a$(t){throw t}var l$={closed:!0,next:L9,error:a$,complete:L9},D4=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function IE(t){return t}function u$(t){return t.length===0?IE:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var Wt=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=h$(e)?e:new ou(e,n,r);return th(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=N9(n),new n(function(i,s){var o=new ou({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[D4]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return u$(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=N9(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function N9(t){var e;return(e=t??SE.Promise)!==null&&e!==void 0?e:Promise}function c$(t){return t&&lt(t.next)&&lt(t.error)&&lt(t.complete)}function h$(t){return t&&t instanceof P4||c$(t)&&CE(t)}function d$(t){return lt(t==null?void 0:t.lift)}function Os(t){return function(e){if(d$(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Jo(t,e,n,r,i){return new f$(t,e,n,r,i)}var f$=function(t){Fr(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:t.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(P4),p$=A4(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),w0=function(t){Fr(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new x9(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new p$},e.prototype.next=function(n){var r=this;th(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Qo(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;th(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;th(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?EE:(this.currentObservers=null,a.push(n),new Hu(function(){r.currentObservers=null,fd(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new Wt;return n.source=this,n},e.create=function(n,r){return new x9(n,r)},e}(Wt),x9=function(t){Fr(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:EE},e}(w0),M4={now:function(){return(M4.delegate||Date).now()},delegate:void 0},m$=function(t){Fr(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=M4);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),u=0,c=1;c<s.length&&s[c]<=l;c+=2)u=c;u&&s.splice(0,u+1)}},e}(w0),g$=function(t){Fr(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Hu),$p={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=$p.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Xo([t,e],Yo(n))):setInterval.apply(void 0,Xo([t,e],Yo(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},v$=function(t){Fr(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),$p.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;$p.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,fd(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(g$),b9=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=M4.now,t}(),y$=function(t){Fr(e,t);function e(n,r){r===void 0&&(r=b9.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(b9);new y$(v$);var _$=new Wt(function(t){return t.complete()});function w$(t){return t?E$(t):_$}function E$(t){return new Wt(function(e){return t.schedule(function(){return e.complete()})})}function C$(t){return t&&lt(t.schedule)}function S$(t){return t[t.length-1]}function T$(t){return C$(S$(t))?t.pop():void 0}var kE=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function RE(t){return lt(t==null?void 0:t.then)}function LE(t){return lt(t[D4])}function NE(t){return Symbol.asyncIterator&&lt(t==null?void 0:t[Symbol.asyncIterator])}function xE(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function I$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bE=I$();function AE(t){return lt(t==null?void 0:t[bE])}function PE(t){return n$(this,arguments,function(){var e,n,r,i;return wE(this,function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Lo(e.read())];case 3:return n=s.sent(),r=n.value,i=n.done,i?[4,Lo(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Lo(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function DE(t){return lt(t==null?void 0:t.getReader)}function pa(t){if(t instanceof Wt)return t;if(t!=null){if(LE(t))return k$(t);if(kE(t))return R$(t);if(RE(t))return L$(t);if(NE(t))return ME(t);if(AE(t))return N$(t);if(DE(t))return x$(t)}throw xE(t)}function k$(t){return new Wt(function(e){var n=t[D4]();if(lt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function R$(t){return new Wt(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function L$(t){return new Wt(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,TE)})}function N$(t){return new Wt(function(e){var n,r;try{for(var i=Qo(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function ME(t){return new Wt(function(e){b$(t,e).catch(function(n){return e.error(n)})})}function x$(t){return ME(PE(t))}function b$(t,e){var n,r,i,s;return t$(this,void 0,void 0,function(){var o,a;return wE(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=r$(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function os(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function OE(t,e){return e===void 0&&(e=0),Os(function(n,r){n.subscribe(Jo(r,function(i){return os(r,t,function(){return r.next(i)},e)},function(){return os(r,t,function(){return r.complete()},e)},function(i){return os(r,t,function(){return r.error(i)},e)}))})}function FE(t,e){return e===void 0&&(e=0),Os(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function A$(t,e){return pa(t).pipe(FE(e),OE(e))}function P$(t,e){return pa(t).pipe(FE(e),OE(e))}function D$(t,e){return new Wt(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function M$(t,e){return new Wt(function(n){var r;return os(n,e,function(){r=t[bE](),os(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return lt(r==null?void 0:r.return)&&r.return()}})}function $E(t,e){if(!t)throw new Error("Iterable cannot be null");return new Wt(function(n){os(n,e,function(){var r=t[Symbol.asyncIterator]();os(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function O$(t,e){return $E(PE(t),e)}function F$(t,e){if(t!=null){if(LE(t))return A$(t,e);if(kE(t))return D$(t,e);if(RE(t))return P$(t,e);if(NE(t))return $E(t,e);if(AE(t))return M$(t,e);if(DE(t))return O$(t,e)}throw xE(t)}function UE(t,e){return e?F$(t,e):pa(t)}function A9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=T$(t);return UE(t,n)}A4(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function $$(t,e){return Os(function(n,r){var i=0;n.subscribe(Jo(r,function(s){r.next(t.call(e,s,i++))}))})}function VE(t){return Os(function(e,n){var r=null,i=!1,s;r=e.subscribe(Jo(n,void 0,void 0,function(o){s=pa(t(o,VE(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function U$(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new w0}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var c,h,d,f=0,m=!1,v=!1,C=function(){h==null||h.unsubscribe(),h=void 0},g=function(){C(),c=d=void 0,m=v=!1},p=function(){var y=c;g(),y==null||y.unsubscribe()};return Os(function(y,T){f++,!v&&!m&&C();var L=d=d??n();T.add(function(){f--,f===0&&!v&&!m&&(h=Vf(p,l))}),L.subscribe(T),!c&&f>0&&(c=new ou({next:function(E){return L.next(E)},error:function(E){v=!0,C(),h=Vf(g,i,E),L.error(E)},complete:function(){m=!0,C(),h=Vf(g,o),L.complete()}}),pa(y).subscribe(c))})(u)}}function Vf(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new ou({next:function(){i.unsubscribe(),t()}});return e.apply(void 0,Xo([],Yo(n))).subscribe(i)}}function V$(t,e,n){var r,i,s,o,a=!1;return t&&typeof t=="object"?(r=t.bufferSize,o=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,s=t.refCount,a=s===void 0?!1:s,n=t.scheduler):o=t??1/0,U$({connector:function(){return new m$(o,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function z$(t,e){return Os(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(Jo(r,function(l){i==null||i.unsubscribe();var u=0,c=s++;pa(t(l,c)).subscribe(i=Jo(r,function(h){return r.next(e?e(l,h,c,u++):h)},function(){i=null,a()}))},function(){o=!0,a()}))})}function j$(t,e,n){var r=lt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Os(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Jo(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):IE}function zE(t){return new Wt(function(e){var n=i8(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}const B$="[DEFAULT]",jE=k.createContext(void 0),BE=k.createContext(!1),H$="4.2.3",W$=(t,e)=>t===e||[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n]);function q$(t){const{firebaseConfig:e,appName:n,suspense:r}=t,i=k.useMemo(()=>{if(t.firebaseApp)return t.firebaseApp;const s=Rk().find(o=>o.name===(n||B$));if(s){if(e&&W$(s.options,e))return s;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!e)throw new Error("No firebaseConfig provided");const o=k.version||"unknown";return rt("react",o),rt("reactfire",H$),by(e,n)}},[t.firebaseApp,e,n]);return k.createElement(jE.Provider,{value:i},k.createElement(BE.Provider,Object.assign({value:r??!1},t)))}function K$(t){let e=k.useContext(BE);return t!==void 0?t:e}function HE(){const t=k.useContext(jE);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}function Wu(t){const e=ma(),n=`auth:user:${e.name}`,r=zE(e);return O4(n,r,t)}function G$(t){if(t!=null&&t.hasOwnProperty("requiredClaims")&&(t!=null&&t.hasOwnProperty("validateCustomClaims")))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');const e=ma();let n=`auth:signInCheck:${e.name}::forceRefresh:${!!(t!=null&&t.forceRefresh)}`;t!=null&&t.forceRefresh&&(n=`${n}:forceRefresh:${t.forceRefresh}`),t!=null&&t.hasOwnProperty("requiredClaims")?n=`${n}:requiredClaims:${JSON.stringify(t.requiredClaims)}`:t!=null&&t.hasOwnProperty("validateCustomClaims")&&(n=`${n}:validateCustomClaims:${JSON.stringify(t.validateCustomClaims)}`);const r=zE(e).pipe(z$(i=>{var s;return i?t&&(t.hasOwnProperty("requiredClaims")||t.hasOwnProperty("validateCustomClaims"))?UE(i.getIdTokenResult((s=t==null?void 0:t.forceRefresh)!==null&&s!==void 0?s:!1)).pipe($$(o=>{let a;t.hasOwnProperty("requiredClaims")?a=Q$(t.requiredClaims):a=t.validateCustomClaims;const{hasRequiredClaims:l,errors:u}=a(o.claims);return{signedIn:!0,hasRequiredClaims:l,errors:u,user:i}})):A9({signedIn:!0,hasRequiredClaims:!0,errors:{},user:i}):A9({signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})}));return O4(n,r)}function Q$(t){return function(e){const n={};return Object.keys(t).forEach(r=>{t[r]!==e[r]&&(n[r]=[new F4("auth/missing-claim",`Expected "${t[r]}", but user has "${e[r]}" instead`)])}),{hasRequiredClaims:Object.keys(n).length===0,errors:n}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi,Vi;(function(t){t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value"})(Vi||(Vi={}));Object.freeze((Pi={},Pi[Vi.added]=Fb,Pi[Vi.removed]=Vb,Pi[Vi.changed]=$b,Pi[Vi.moved]=Ub,Pi[Vi.value]=Ob,Pi));const Y$=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=Y$);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X$={includeMetadataChanges:!1};function J$(t,e){return e===void 0&&(e=X$),new Wt(function(n){var r=sO(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}class Z$ extends w0{constructor(e,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=e.pipe(j$({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),VE(()=>w$()),V$(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(e=>this._resolveFirstEmission=e)}_subscribe(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}get ourError(){return this._error}}const eU=3e4,nh=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=nh);function tU(t,e){if(nh.has(e))return nh.get(e);{const n=new Z$(t,eU);return nh.set(e,n),n}}function nU(t){return function(e,n){const r=Object.assign(Object.assign({},e),{hasEmitted:e.hasEmitted||t.hasValue,error:t.ourError,firstValuePromise:t.firstEmission});switch(t.hasValue&&(r.data=t.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error(`invalid action "${n}"`)}}}function O4(t,e,n={}){var r;if(!t)throw new Error("cannot call useObservable without an observableId");const i=tU(e,t),s=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),o=i.hasValue||s;if(K$(n.suspense)===!0&&!o)throw i.firstEmission;const a={status:o?"success":"loading",hasEmitted:o,isComplete:!1,data:i.hasValue?i.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:i.ourError,firstValuePromise:i.firstEmission},[l,u]=k.useReducer(nU(i),a);return k.useEffect(()=>{const c=i.subscribe({next:()=>{u("value")},error:h=>{throw u("error"),h},complete:()=>{u("complete")}});return()=>c.unsubscribe()},[i]),l}const Up=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=Up);function rU(t){const e=Up.findIndex(n=>zM(n,t));return e>-1?e:Up.push(t)-1}function iU(t,e){const n=`firestore:collection:${rU(t)}`,r=J$(t);return O4(n,r,e)}k.createContext(void 0);const WE=k.createContext(void 0);k.createContext(void 0);k.createContext(void 0);const qE=k.createContext(void 0);k.createContext(void 0);k.createContext(void 0);k.createContext(void 0);k.createContext(void 0);function KE(t){return function(e){var n,r;if(!e.sdk)throw new Error("no sdk provided");const i=HE().name;if(((r=(n=e==null?void 0:e.sdk)===null||n===void 0?void 0:n.app)===null||r===void 0?void 0:r.name)!==i)throw new Error("sdk was initialized with a different firebase app");return k.createElement(t.Provider,Object.assign({value:e.sdk},e))}}function GE(t){const e=k.useContext(t);if(!e)throw new Error("SDK not found. useSdk must be called from within a provider");return e}const sU=KE(WE),oU=KE(qE),ma=()=>GE(WE),QE=()=>GE(qE);class F4 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="ReactFireError",Object.setPrototypeOf(this,F4.prototype)}}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Me(){return Me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Me.apply(this,arguments)}var Ke;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ke||(Ke={}));const P9="popstate";function aU(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=lr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),au("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:ks(s))}function r(i,s){Is(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return uU(e,n,r,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Is(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lU(){return Math.random().toString(36).substr(2,8)}function D9(t,e){return{usr:t.state,key:t.key,idx:e}}function au(t,e,n,r){return n===void 0&&(n=null),Me({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lr(e):e,{state:n,key:e&&e.key||r||lU()})}function ks(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ke.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Me({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ke.Pop;let C=c(),g=C==null?null:C-u;u=C,l&&l({action:a,location:v.location,delta:g})}function d(C,g){a=Ke.Push;let p=au(v.location,C,g);n&&n(p,C),u=c()+1;let y=D9(p,u),T=v.createHref(p);try{o.pushState(y,"",T)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(T)}s&&l&&l({action:a,location:v.location,delta:1})}function f(C,g){a=Ke.Replace;let p=au(v.location,C,g);n&&n(p,C),u=c();let y=D9(p,u),T=v.createHref(p);o.replaceState(y,"",T),s&&l&&l({action:a,location:v.location,delta:0})}function m(C){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof C=="string"?C:ks(C);return p=p.replace(/ $/,"%20"),le(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(P9,h),l=C,()=>{i.removeEventListener(P9,h),l=null}},createHref(C){return e(i,C)},createURL:m,encodeLocation(C){let g=m(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(C){return o.go(C)}};return v}var Te;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Te||(Te={}));const cU=new Set(["lazy","caseSensitive","path","id","index","children"]);function hU(t){return t.index===!0}function pd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(le(i.index!==!0||!i.children,"Cannot specify children on an index route"),le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),hU(i)){let l=Me({},i,e(i),{id:a});return r[a]=l,l}else{let l=Me({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=pd(i.children,e,o,r)),l}})}function zi(t,e,n){return n===void 0&&(n="/"),rh(t,e,n,!1)}function rh(t,e,n,r){let i=typeof e=="string"?lr(e):e,s=ga(i.pathname||"/",n);if(s==null)return null;let o=YE(t);fU(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=TU(s);a=CU(o[l],u,r)}return a}function dU(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function YE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Cr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),YE(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:wU(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of XE(s.path))i(s,o,l)}),e}function XE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pU=/^:[\w-]+$/,mU=3,gU=2,vU=1,yU=10,_U=-2,M9=t=>t==="*";function wU(t,e){let n=t.split("/"),r=n.length;return n.some(M9)&&(r+=_U),e&&(r+=gU),n.filter(i=>!M9(i)).reduce((i,s)=>i+(pU.test(s)?mU:s===""?vU:yU),r)}function EU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CU(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=O9({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=O9({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Cr([s,h.pathname]),pathnameBase:RU(Cr([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=Cr([s,h.pathnameBase]))}return o}function O9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function SU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Is(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Is(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ga(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lr(t):t;return{pathname:n?n.startsWith("/")?n:kU(n,e):e,search:LU(r),hash:NU(i)}}function kU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $4(t,e){let n=JE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function U4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=lr(t):(i=Me({},t),le(!i.pathname||!i.pathname.includes("?"),zf("?","pathname","search",i)),le(!i.pathname||!i.pathname.includes("#"),zf("#","pathname","hash",i)),le(!i.search||!i.search.includes("#"),zf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=IU(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Cr=t=>t.join("/").replace(/\/\/+/g,"/"),RU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class md{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function E0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZE=["post","put","patch","delete"],xU=new Set(ZE),bU=["get",...ZE],AU=new Set(bU),PU=new Set([301,302,303,307,308]),DU=new Set([307,308]),jf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},MU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ma={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},V4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OU=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),eC="remix-router-transitions";function FU(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let w=t.detectErrorBoundary;i=S=>({hasErrorBoundary:w(S)})}else i=OU;let s={},o=pd(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||zU,c=t.patchRoutesOnNavigation,h=Me({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,f=new Set,m=null,v=null,C=null,g=t.hydrationData!=null,p=zi(o,t.history.location,l),y=null;if(p==null&&!c){let w=Gt(404,{pathname:t.history.location.pathname}),{matches:S,route:I}=K9(o);p=S,y={[I.id]:w}}p&&!t.hydrationData&&Qu(p,o,t.history.location.pathname).active&&(p=null);let T;if(p)if(p.some(w=>w.route.lazy))T=!1;else if(!p.some(w=>w.route.loader))T=!0;else if(h.v7_partialHydration){let w=t.hydrationData?t.hydrationData.loaderData:null,S=t.hydrationData?t.hydrationData.errors:null;if(S){let I=p.findIndex(R=>S[R.route.id]!==void 0);T=p.slice(0,I+1).every(R=>!zp(R.route,w,S))}else T=p.every(I=>!zp(I.route,w,S))}else T=t.hydrationData!=null;else if(T=!1,p=[],h.v7_partialHydration){let w=Qu(null,o,t.history.location.pathname);w.active&&w.matches&&(p=w.matches)}let L,E={historyAction:t.history.action,location:t.history.location,matches:p,initialized:T,navigation:jf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},D=Ke.Pop,N=!1,V,z=!1,Se=new Map,Fe=null,Ye=!1,Xe=!1,$r=[],Ur=new Set,qe=new Map,O=0,X=-1,ee=new Map,ve=new Set,Ne=new Map,Bn=new Map,vt=new Set,Rn=new Map,Ut=new Map,ur;function dC(){if(d=t.history.listen(w=>{let{action:S,location:I,delta:R}=w;if(ur){ur(),ur=void 0;return}Is(Ut.size===0||R!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=J4({currentLocation:E.location,nextLocation:I,historyAction:S});if($&&R!=null){let q=new Promise(ne=>{ur=ne});t.history.go(R*-1),Gu($,{state:"blocked",location:I,proceed(){Gu($,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),q.then(()=>t.history.go(R))},reset(){let ne=new Map(E.blockers);ne.set($,Ma),Vt({blockers:ne})}});return}return xi(S,I)}),n){tV(e,Se);let w=()=>nV(e,Se);e.addEventListener("pagehide",w),Fe=()=>e.removeEventListener("pagehide",w)}return E.initialized||xi(Ke.Pop,E.location,{initialHydration:!0}),L}function fC(){d&&d(),Fe&&Fe(),f.clear(),V&&V.abort(),E.fetchers.forEach((w,S)=>Ku(S)),E.blockers.forEach((w,S)=>X4(S))}function pC(w){return f.add(w),()=>f.delete(w)}function Vt(w,S){S===void 0&&(S={}),E=Me({},E,w);let I=[],R=[];h.v7_fetcherPersist&&E.fetchers.forEach(($,q)=>{$.state==="idle"&&(vt.has(q)?R.push(q):I.push(q))}),[...f].forEach($=>$(E,{deletedFetchers:R,viewTransitionOpts:S.viewTransitionOpts,flushSync:S.flushSync===!0})),h.v7_fetcherPersist&&(I.forEach($=>E.fetchers.delete($)),R.forEach($=>Ku($)))}function Us(w,S,I){var R,$;let{flushSync:q}=I===void 0?{}:I,ne=E.actionData!=null&&E.navigation.formMethod!=null&&bn(E.navigation.formMethod)&&E.navigation.state==="loading"&&((R=w.state)==null?void 0:R._isRedirect)!==!0,j;S.actionData?Object.keys(S.actionData).length>0?j=S.actionData:j=null:ne?j=E.actionData:j=null;let B=S.loaderData?W9(E.loaderData,S.loaderData,S.matches||[],S.errors):E.loaderData,U=E.blockers;U.size>0&&(U=new Map(U),U.forEach((pe,yt)=>U.set(yt,Ma)));let K=N===!0||E.navigation.formMethod!=null&&bn(E.navigation.formMethod)&&(($=w.state)==null?void 0:$._isRedirect)!==!0;a&&(o=a,a=void 0),Ye||D===Ke.Pop||(D===Ke.Push?t.history.push(w,w.state):D===Ke.Replace&&t.history.replace(w,w.state));let ce;if(D===Ke.Pop){let pe=Se.get(E.location.pathname);pe&&pe.has(w.pathname)?ce={currentLocation:E.location,nextLocation:w}:Se.has(w.pathname)&&(ce={currentLocation:w,nextLocation:E.location})}else if(z){let pe=Se.get(E.location.pathname);pe?pe.add(w.pathname):(pe=new Set([w.pathname]),Se.set(E.location.pathname,pe)),ce={currentLocation:E.location,nextLocation:w}}Vt(Me({},S,{actionData:j,loaderData:B,historyAction:D,location:w,initialized:!0,navigation:jf,revalidation:"idle",restoreScrollPosition:em(w,S.matches||E.matches),preventScrollReset:K,blockers:U}),{viewTransitionOpts:ce,flushSync:q===!0}),D=Ke.Pop,N=!1,z=!1,Ye=!1,Xe=!1,$r=[]}async function H4(w,S){if(typeof w=="number"){t.history.go(w);return}let I=Vp(E.location,E.matches,l,h.v7_prependBasename,w,h.v7_relativeSplatPath,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:R,submission:$,error:q}=F9(h.v7_normalizeFormMethod,!1,I,S),ne=E.location,j=au(E.location,R,S&&S.state);j=Me({},j,t.history.encodeLocation(j));let B=S&&S.replace!=null?S.replace:void 0,U=Ke.Push;B===!0?U=Ke.Replace:B===!1||$!=null&&bn($.formMethod)&&$.formAction===E.location.pathname+E.location.search&&(U=Ke.Replace);let K=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,ce=(S&&S.flushSync)===!0,pe=J4({currentLocation:ne,nextLocation:j,historyAction:U});if(pe){Gu(pe,{state:"blocked",location:j,proceed(){Gu(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),H4(w,S)},reset(){let yt=new Map(E.blockers);yt.set(pe,Ma),Vt({blockers:yt})}});return}return await xi(U,j,{submission:$,pendingError:q,preventScrollReset:K,replace:S&&S.replace,enableViewTransition:S&&S.viewTransition,flushSync:ce})}function mC(){if(k0(),Vt({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){xi(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}xi(D||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:z===!0})}}async function xi(w,S,I){V&&V.abort(),V=null,D=w,Ye=(I&&I.startUninterruptedRevalidation)===!0,IC(E.location,E.matches),N=(I&&I.preventScrollReset)===!0,z=(I&&I.enableViewTransition)===!0;let R=a||o,$=I&&I.overrideNavigation,q=zi(R,S,l),ne=(I&&I.flushSync)===!0,j=Qu(q,R,S.pathname);if(j.active&&j.matches&&(q=j.matches),!q){let{error:ke,notFoundMatches:ye,route:ze}=R0(S.pathname);Us(S,{matches:ye,loaderData:{},errors:{[ze.id]:ke}},{flushSync:ne});return}if(E.initialized&&!Xe&&KU(E.location,S)&&!(I&&I.submission&&bn(I.submission.formMethod))){Us(S,{matches:q},{flushSync:ne});return}V=new AbortController;let B=qs(t.history,S,V.signal,I&&I.submission),U;if(I&&I.pendingError)U=[ji(q).route.id,{type:Te.error,error:I.pendingError}];else if(I&&I.submission&&bn(I.submission.formMethod)){let ke=await gC(B,S,I.submission,q,j.active,{replace:I.replace,flushSync:ne});if(ke.shortCircuited)return;if(ke.pendingActionResult){let[ye,ze]=ke.pendingActionResult;if(on(ze)&&E0(ze.error)&&ze.error.status===404){V=null,Us(S,{matches:ke.matches,loaderData:{},errors:{[ye]:ze.error}});return}}q=ke.matches||q,U=ke.pendingActionResult,$=Bf(S,I.submission),ne=!1,j.active=!1,B=qs(t.history,B.url,B.signal)}let{shortCircuited:K,matches:ce,loaderData:pe,errors:yt}=await vC(B,S,q,j.active,$,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,ne,U);K||(V=null,Us(S,Me({matches:ce||q},q9(U),{loaderData:pe,errors:yt})))}async function gC(w,S,I,R,$,q){q===void 0&&(q={}),k0();let ne=ZU(S,I);if(Vt({navigation:ne},{flushSync:q.flushSync===!0}),$){let U=await Yu(R,S.pathname,w.signal);if(U.type==="aborted")return{shortCircuited:!0};if(U.type==="error"){let K=ji(U.partialMatches).route.id;return{matches:U.partialMatches,pendingActionResult:[K,{type:Te.error,error:U.error}]}}else if(U.matches)R=U.matches;else{let{notFoundMatches:K,error:ce,route:pe}=R0(S.pathname);return{matches:K,pendingActionResult:[pe.id,{type:Te.error,error:ce}]}}}let j,B=Qa(R,S);if(!B.route.action&&!B.route.lazy)j={type:Te.error,error:Gt(405,{method:w.method,pathname:S.pathname,routeId:B.route.id})};else if(j=(await va("action",E,w,[B],R,null))[B.route.id],w.signal.aborted)return{shortCircuited:!0};if(Ji(j)){let U;return q&&q.replace!=null?U=q.replace:U=j9(j.response.headers.get("Location"),new URL(w.url),l)===E.location.pathname+E.location.search,await bi(w,j,!0,{submission:I,replace:U}),{shortCircuited:!0}}if(ti(j))throw Gt(400,{type:"defer-action"});if(on(j)){let U=ji(R,B.route.id);return(q&&q.replace)!==!0&&(D=Ke.Push),{matches:R,pendingActionResult:[U.route.id,j]}}return{matches:R,pendingActionResult:[B.route.id,j]}}async function vC(w,S,I,R,$,q,ne,j,B,U,K){let ce=$||Bf(S,q),pe=q||ne||Q9(ce),yt=!Ye&&(!h.v7_partialHydration||!B);if(R){if(yt){let je=W4(K);Vt(Me({navigation:ce},je!==void 0?{actionData:je}:{}),{flushSync:U})}let ge=await Yu(I,S.pathname,w.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let je=ji(ge.partialMatches).route.id;return{matches:ge.partialMatches,loaderData:{},errors:{[je]:ge.error}}}else if(ge.matches)I=ge.matches;else{let{error:je,notFoundMatches:zs,route:wa}=R0(S.pathname);return{matches:zs,loaderData:{},errors:{[wa.id]:je}}}}let ke=a||o,[ye,ze]=U9(t.history,E,I,pe,S,h.v7_partialHydration&&B===!0,h.v7_skipActionErrorRevalidation,Xe,$r,Ur,vt,Ne,ve,ke,l,K);if(L0(ge=>!(I&&I.some(je=>je.route.id===ge))||ye&&ye.some(je=>je.route.id===ge)),X=++O,ye.length===0&&ze.length===0){let ge=Q4();return Us(S,Me({matches:I,loaderData:{},errors:K&&on(K[1])?{[K[0]]:K[1].error}:null},q9(K),ge?{fetchers:new Map(E.fetchers)}:{}),{flushSync:U}),{shortCircuited:!0}}if(yt){let ge={};if(!R){ge.navigation=ce;let je=W4(K);je!==void 0&&(ge.actionData=je)}ze.length>0&&(ge.fetchers=yC(ze)),Vt(ge,{flushSync:U})}ze.forEach(ge=>{zr(ge.key),ge.controller&&qe.set(ge.key,ge.controller)});let Vs=()=>ze.forEach(ge=>zr(ge.key));V&&V.signal.addEventListener("abort",Vs);let{loaderResults:ya,fetcherResults:hr}=await q4(E,I,ye,ze,w);if(w.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",Vs),ze.forEach(ge=>qe.delete(ge.key));let Hn=xc(ya);if(Hn)return await bi(w,Hn.result,!0,{replace:j}),{shortCircuited:!0};if(Hn=xc(hr),Hn)return ve.add(Hn.key),await bi(w,Hn.result,!0,{replace:j}),{shortCircuited:!0};let{loaderData:N0,errors:_a}=H9(E,I,ya,K,ze,hr,Rn);Rn.forEach((ge,je)=>{ge.subscribe(zs=>{(zs||ge.done)&&Rn.delete(je)})}),h.v7_partialHydration&&B&&E.errors&&(_a=Me({},E.errors,_a));let Ai=Q4(),Xu=Y4(X),Ju=Ai||Xu||ze.length>0;return Me({matches:I,loaderData:N0,errors:_a},Ju?{fetchers:new Map(E.fetchers)}:{})}function W4(w){if(w&&!on(w[1]))return{[w[0]]:w[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function yC(w){return w.forEach(S=>{let I=E.fetchers.get(S.key),R=Oa(void 0,I?I.data:void 0);E.fetchers.set(S.key,R)}),new Map(E.fetchers)}function _C(w,S,I,R){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");zr(w);let $=(R&&R.flushSync)===!0,q=a||o,ne=Vp(E.location,E.matches,l,h.v7_prependBasename,I,h.v7_relativeSplatPath,S,R==null?void 0:R.relative),j=zi(q,ne,l),B=Qu(j,q,ne);if(B.active&&B.matches&&(j=B.matches),!j){cr(w,S,Gt(404,{pathname:ne}),{flushSync:$});return}let{path:U,submission:K,error:ce}=F9(h.v7_normalizeFormMethod,!0,ne,R);if(ce){cr(w,S,ce,{flushSync:$});return}let pe=Qa(j,U),yt=(R&&R.preventScrollReset)===!0;if(K&&bn(K.formMethod)){wC(w,S,U,pe,j,B.active,$,yt,K);return}Ne.set(w,{routeId:S,path:U}),EC(w,S,U,pe,j,B.active,$,yt,K)}async function wC(w,S,I,R,$,q,ne,j,B){k0(),Ne.delete(w);function U(Je){if(!Je.route.action&&!Je.route.lazy){let js=Gt(405,{method:B.formMethod,pathname:I,routeId:S});return cr(w,S,js,{flushSync:ne}),!0}return!1}if(!q&&U(R))return;let K=E.fetchers.get(w);Vr(w,eV(B,K),{flushSync:ne});let ce=new AbortController,pe=qs(t.history,I,ce.signal,B);if(q){let Je=await Yu($,I,pe.signal);if(Je.type==="aborted")return;if(Je.type==="error"){cr(w,S,Je.error,{flushSync:ne});return}else if(Je.matches){if($=Je.matches,R=Qa($,I),U(R))return}else{cr(w,S,Gt(404,{pathname:I}),{flushSync:ne});return}}qe.set(w,ce);let yt=O,ye=(await va("action",E,pe,[R],$,w))[R.route.id];if(pe.signal.aborted){qe.get(w)===ce&&qe.delete(w);return}if(h.v7_fetcherPersist&&vt.has(w)){if(Ji(ye)||on(ye)){Vr(w,Hr(void 0));return}}else{if(Ji(ye))if(qe.delete(w),X>yt){Vr(w,Hr(void 0));return}else return ve.add(w),Vr(w,Oa(B)),bi(pe,ye,!1,{fetcherSubmission:B,preventScrollReset:j});if(on(ye)){cr(w,S,ye.error);return}}if(ti(ye))throw Gt(400,{type:"defer-action"});let ze=E.navigation.location||E.location,Vs=qs(t.history,ze,ce.signal),ya=a||o,hr=E.navigation.state!=="idle"?zi(ya,E.navigation.location,l):E.matches;le(hr,"Didn't find any matches after fetcher action");let Hn=++O;ee.set(w,Hn);let N0=Oa(B,ye.data);E.fetchers.set(w,N0);let[_a,Ai]=U9(t.history,E,hr,B,ze,!1,h.v7_skipActionErrorRevalidation,Xe,$r,Ur,vt,Ne,ve,ya,l,[R.route.id,ye]);Ai.filter(Je=>Je.key!==w).forEach(Je=>{let js=Je.key,tm=E.fetchers.get(js),LC=Oa(void 0,tm?tm.data:void 0);E.fetchers.set(js,LC),zr(js),Je.controller&&qe.set(js,Je.controller)}),Vt({fetchers:new Map(E.fetchers)});let Xu=()=>Ai.forEach(Je=>zr(Je.key));ce.signal.addEventListener("abort",Xu);let{loaderResults:Ju,fetcherResults:ge}=await q4(E,hr,_a,Ai,Vs);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",Xu),ee.delete(w),qe.delete(w),Ai.forEach(Je=>qe.delete(Je.key));let je=xc(Ju);if(je)return bi(Vs,je.result,!1,{preventScrollReset:j});if(je=xc(ge),je)return ve.add(je.key),bi(Vs,je.result,!1,{preventScrollReset:j});let{loaderData:zs,errors:wa}=H9(E,hr,Ju,void 0,Ai,ge,Rn);if(E.fetchers.has(w)){let Je=Hr(ye.data);E.fetchers.set(w,Je)}Y4(Hn),E.navigation.state==="loading"&&Hn>X?(le(D,"Expected pending action"),V&&V.abort(),Us(E.navigation.location,{matches:hr,loaderData:zs,errors:wa,fetchers:new Map(E.fetchers)})):(Vt({errors:wa,loaderData:W9(E.loaderData,zs,hr,wa),fetchers:new Map(E.fetchers)}),Xe=!1)}async function EC(w,S,I,R,$,q,ne,j,B){let U=E.fetchers.get(w);Vr(w,Oa(B,U?U.data:void 0),{flushSync:ne});let K=new AbortController,ce=qs(t.history,I,K.signal);if(q){let ye=await Yu($,I,ce.signal);if(ye.type==="aborted")return;if(ye.type==="error"){cr(w,S,ye.error,{flushSync:ne});return}else if(ye.matches)$=ye.matches,R=Qa($,I);else{cr(w,S,Gt(404,{pathname:I}),{flushSync:ne});return}}qe.set(w,K);let pe=O,ke=(await va("loader",E,ce,[R],$,w))[R.route.id];if(ti(ke)&&(ke=await z4(ke,ce.signal,!0)||ke),qe.get(w)===K&&qe.delete(w),!ce.signal.aborted){if(vt.has(w)){Vr(w,Hr(void 0));return}if(Ji(ke))if(X>pe){Vr(w,Hr(void 0));return}else{ve.add(w),await bi(ce,ke,!1,{preventScrollReset:j});return}if(on(ke)){cr(w,S,ke.error);return}le(!ti(ke),"Unhandled fetcher deferred data"),Vr(w,Hr(ke.data))}}async function bi(w,S,I,R){let{submission:$,fetcherSubmission:q,preventScrollReset:ne,replace:j}=R===void 0?{}:R;S.response.headers.has("X-Remix-Revalidate")&&(Xe=!0);let B=S.response.headers.get("Location");le(B,"Expected a Location header on the redirect Response"),B=j9(B,new URL(w.url),l);let U=au(E.location,B,{_isRedirect:!0});if(n){let ye=!1;if(S.response.headers.has("X-Remix-Reload-Document"))ye=!0;else if(V4.test(B)){const ze=t.history.createURL(B);ye=ze.origin!==e.location.origin||ga(ze.pathname,l)==null}if(ye){j?e.location.replace(B):e.location.assign(B);return}}V=null;let K=j===!0||S.response.headers.has("X-Remix-Replace")?Ke.Replace:Ke.Push,{formMethod:ce,formAction:pe,formEncType:yt}=E.navigation;!$&&!q&&ce&&pe&&yt&&($=Q9(E.navigation));let ke=$||q;if(DU.has(S.response.status)&&ke&&bn(ke.formMethod))await xi(K,U,{submission:Me({},ke,{formAction:B}),preventScrollReset:ne||N,enableViewTransition:I?z:void 0});else{let ye=Bf(U,$);await xi(K,U,{overrideNavigation:ye,fetcherSubmission:q,preventScrollReset:ne||N,enableViewTransition:I?z:void 0})}}async function va(w,S,I,R,$,q){let ne,j={};try{ne=await jU(u,w,S,I,R,$,q,s,i)}catch(B){return R.forEach(U=>{j[U.route.id]={type:Te.error,error:B}}),j}for(let[B,U]of Object.entries(ne))if(GU(U)){let K=U.result;j[B]={type:Te.redirect,response:WU(K,I,B,$,l,h.v7_relativeSplatPath)}}else j[B]=await HU(U);return j}async function q4(w,S,I,R,$){let q=w.matches,ne=va("loader",w,$,I,S,null),j=Promise.all(R.map(async K=>{if(K.matches&&K.match&&K.controller){let pe=(await va("loader",w,qs(t.history,K.path,K.controller.signal),[K.match],K.matches,K.key))[K.match.route.id];return{[K.key]:pe}}else return Promise.resolve({[K.key]:{type:Te.error,error:Gt(404,{pathname:K.path})}})})),B=await ne,U=(await j).reduce((K,ce)=>Object.assign(K,ce),{});return await Promise.all([XU(S,B,$.signal,q,w.loaderData),JU(S,U,R)]),{loaderResults:B,fetcherResults:U}}function k0(){Xe=!0,$r.push(...L0()),Ne.forEach((w,S)=>{qe.has(S)&&Ur.add(S),zr(S)})}function Vr(w,S,I){I===void 0&&(I={}),E.fetchers.set(w,S),Vt({fetchers:new Map(E.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function cr(w,S,I,R){R===void 0&&(R={});let $=ji(E.matches,S);Ku(w),Vt({errors:{[$.route.id]:I},fetchers:new Map(E.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function K4(w){return h.v7_fetcherPersist&&(Bn.set(w,(Bn.get(w)||0)+1),vt.has(w)&&vt.delete(w)),E.fetchers.get(w)||MU}function Ku(w){let S=E.fetchers.get(w);qe.has(w)&&!(S&&S.state==="loading"&&ee.has(w))&&zr(w),Ne.delete(w),ee.delete(w),ve.delete(w),vt.delete(w),Ur.delete(w),E.fetchers.delete(w)}function CC(w){if(h.v7_fetcherPersist){let S=(Bn.get(w)||0)-1;S<=0?(Bn.delete(w),vt.add(w)):Bn.set(w,S)}else Ku(w);Vt({fetchers:new Map(E.fetchers)})}function zr(w){let S=qe.get(w);S&&(S.abort(),qe.delete(w))}function G4(w){for(let S of w){let I=K4(S),R=Hr(I.data);E.fetchers.set(S,R)}}function Q4(){let w=[],S=!1;for(let I of ve){let R=E.fetchers.get(I);le(R,"Expected fetcher: "+I),R.state==="loading"&&(ve.delete(I),w.push(I),S=!0)}return G4(w),S}function Y4(w){let S=[];for(let[I,R]of ee)if(R<w){let $=E.fetchers.get(I);le($,"Expected fetcher: "+I),$.state==="loading"&&(zr(I),ee.delete(I),S.push(I))}return G4(S),S.length>0}function SC(w,S){let I=E.blockers.get(w)||Ma;return Ut.get(w)!==S&&Ut.set(w,S),I}function X4(w){E.blockers.delete(w),Ut.delete(w)}function Gu(w,S){let I=E.blockers.get(w)||Ma;le(I.state==="unblocked"&&S.state==="blocked"||I.state==="blocked"&&S.state==="blocked"||I.state==="blocked"&&S.state==="proceeding"||I.state==="blocked"&&S.state==="unblocked"||I.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+S.state);let R=new Map(E.blockers);R.set(w,S),Vt({blockers:R})}function J4(w){let{currentLocation:S,nextLocation:I,historyAction:R}=w;if(Ut.size===0)return;Ut.size>1&&Is(!1,"A router only supports one blocker at a time");let $=Array.from(Ut.entries()),[q,ne]=$[$.length-1],j=E.blockers.get(q);if(!(j&&j.state==="proceeding")&&ne({currentLocation:S,nextLocation:I,historyAction:R}))return q}function R0(w){let S=Gt(404,{pathname:w}),I=a||o,{matches:R,route:$}=K9(I);return L0(),{notFoundMatches:R,route:$,error:S}}function L0(w){let S=[];return Rn.forEach((I,R)=>{(!w||w(R))&&(I.cancel(),S.push(R),Rn.delete(R))}),S}function TC(w,S,I){if(m=w,C=S,v=I||null,!g&&E.navigation===jf){g=!0;let R=em(E.location,E.matches);R!=null&&Vt({restoreScrollPosition:R})}return()=>{m=null,C=null,v=null}}function Z4(w,S){return v&&v(w,S.map(R=>dU(R,E.loaderData)))||w.key}function IC(w,S){if(m&&C){let I=Z4(w,S);m[I]=C()}}function em(w,S){if(m){let I=Z4(w,S),R=m[I];if(typeof R=="number")return R}return null}function Qu(w,S,I){if(c)if(w){if(Object.keys(w[0].params).length>0)return{active:!0,matches:rh(S,I,l,!0)}}else return{active:!0,matches:rh(S,I,l,!0)||[]};return{active:!1,matches:null}}async function Yu(w,S,I){if(!c)return{type:"success",matches:w};let R=w;for(;;){let $=a==null,q=a||o,ne=s;try{await c({path:S,matches:R,patch:(U,K)=>{I.aborted||z9(U,K,q,ne,i)}})}catch(U){return{type:"error",error:U,partialMatches:R}}finally{$&&!I.aborted&&(o=[...o])}if(I.aborted)return{type:"aborted"};let j=zi(q,S,l);if(j)return{type:"success",matches:j};let B=rh(q,S,l,!0);if(!B||R.length===B.length&&R.every((U,K)=>U.route.id===B[K].route.id))return{type:"success",matches:null};R=B}}function kC(w){s={},a=pd(w,i,void 0,s)}function RC(w,S){let I=a==null;z9(w,S,a||o,s,i),I&&(o=[...o],Vt({}))}return L={get basename(){return l},get future(){return h},get state(){return E},get routes(){return o},get window(){return e},initialize:dC,subscribe:pC,enableScrollRestoration:TC,navigate:H4,fetch:_C,revalidate:mC,createHref:w=>t.history.createHref(w),encodeLocation:w=>t.history.encodeLocation(w),getFetcher:K4,deleteFetcher:CC,dispose:fC,getBlocker:SC,deleteBlocker:X4,patchRoutes:RC,_internalFetchControllers:qe,_internalActiveDeferreds:Rn,_internalSetRoutes:kC},L}function $U(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Vp(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let c=U4(i||".",$4(l,s),ga(t.pathname,n)||t.pathname,a==="path");if(i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u){let h=j4(c.search);if(u.route.index&&!h)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let d=new URLSearchParams(c.search),f=d.getAll("index");d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();c.search=m?"?"+m:""}}return r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Cr([n,c.pathname])),ks(c)}function F9(t,e,n,r){if(!r||!$U(r))return{path:n};if(r.formMethod&&!YU(r.formMethod))return{path:n,error:Gt(405,{method:r.formMethod})};let i=()=>({path:n,error:Gt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=rC(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!bn(o))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,m)=>{let[v,C]=m;return""+f+v+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!bn(o))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}le(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=jp(r.formData),u=r.formData;else if(r.body instanceof FormData)l=jp(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=B9(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=B9(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(bn(c.formMethod))return{path:n,submission:c};let h=lr(n);return e&&h.search&&j4(h.search)&&l.append("index",""),h.search="?"+l,{path:ks(h),submission:c}}function $9(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function U9(t,e,n,r,i,s,o,a,l,u,c,h,d,f,m,v){let C=v?on(v[1])?v[1].error:v[1].data:void 0,g=t.createURL(e.location),p=t.createURL(i),y=n;s&&e.errors?y=$9(n,Object.keys(e.errors)[0],!0):v&&on(v[1])&&(y=$9(n,v[0]));let T=v?v[1].statusCode:void 0,L=o&&T&&T>=400,E=y.filter((N,V)=>{let{route:z}=N;if(z.lazy)return!0;if(z.loader==null)return!1;if(s)return zp(z,e.loaderData,e.errors);if(UU(e.loaderData,e.matches[V],N)||l.some(Ye=>Ye===N.route.id))return!0;let Se=e.matches[V],Fe=N;return V9(N,Me({currentUrl:g,currentParams:Se.params,nextUrl:p,nextParams:Fe.params},r,{actionResult:C,actionStatus:T,defaultShouldRevalidate:L?!1:a||g.pathname+g.search===p.pathname+p.search||g.search!==p.search||tC(Se,Fe)}))}),D=[];return h.forEach((N,V)=>{if(s||!n.some(Xe=>Xe.route.id===N.routeId)||c.has(V))return;let z=zi(f,N.path,m);if(!z){D.push({key:V,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let Se=e.fetchers.get(V),Fe=Qa(z,N.path),Ye=!1;d.has(V)?Ye=!1:u.has(V)?(u.delete(V),Ye=!0):Se&&Se.state!=="idle"&&Se.data===void 0?Ye=a:Ye=V9(Fe,Me({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:T,defaultShouldRevalidate:L?!1:a})),Ye&&D.push({key:V,routeId:N.routeId,path:N.path,matches:z,match:Fe,controller:new AbortController})}),[E,D]}function zp(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function UU(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function tC(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function V9(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function z9(t,e,n,r,i){var s;let o;if(t){let u=r[t];le(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let a=e.filter(u=>!o.some(c=>nC(u,c))),l=pd(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function nC(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>nC(n,s))}):!1}async function VU(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];le(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Is(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!cU.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Me({},e(i),{lazy:void 0}))}async function zU(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function jU(t,e,n,r,i,s,o,a,l,u){let c=s.map(f=>f.route.lazy?VU(f.route,l,a):void 0),h=s.map((f,m)=>{let v=c[m],C=i.some(p=>p.route.id===f.route.id);return Me({},f,{shouldLoad:C,resolve:async p=>(p&&r.method==="GET"&&(f.route.lazy||f.route.loader)&&(C=!0),C?BU(e,r,f,v,p,u):Promise.resolve({type:Te.data,result:void 0}))})}),d=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return d}async function BU(t,e,n,r,i,s){let o,a,l=u=>{let c,h=new Promise((m,v)=>c=v);a=()=>c(),e.signal.addEventListener("abort",a);let d=m=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...m!==void 0?[m]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(v=>d(v)):d())}}catch(m){return{type:"error",result:m}}})();return Promise.race([f,h])};try{let u=n.route[t];if(r)if(u){let c,[h]=await Promise.all([l(u).catch(d=>{c=d}),r]);if(c!==void 0)throw c;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let c=new URL(e.url),h=c.pathname+c.search;throw Gt(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Te.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),h=c.pathname+c.search;throw Gt(404,{pathname:h})}le(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Te.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function HU(t){let{result:e,type:n}=t;if(iC(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:Te.error,error:c}}return n===Te.error?{type:Te.error,error:new md(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Te.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Te.error){if(G9(e)){var r;if(e.data instanceof Error){var i;return{type:Te.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new md(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Te.error,error:e,statusCode:E0(e)?e.status:void 0}}if(QU(e)){var s,o;return{type:Te.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(G9(e)){var a,l;return{type:Te.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Te.data,data:e}}function WU(t,e,n,r,i,s){let o=t.headers.get("Location");if(le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!V4.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Vp(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function j9(t,e,n){if(V4.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ga(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function qs(t,e,n,r){let i=t.createURL(rC(e)).toString(),s={signal:n};if(r&&bn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=jp(r.formData):s.body=r.formData}return new Request(i,s)}function jp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function B9(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function qU(t,e,n,r,i){let s={},o=null,a,l=!1,u={},c=n&&on(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let d=h.route.id,f=e[d];if(le(!Ji(f),"Cannot handle redirect results in processLoaderData"),on(f)){let m=f.error;if(c!==void 0&&(m=c,c=void 0),o=o||{},i)o[d]=m;else{let v=ji(t,d);o[v.route.id]==null&&(o[v.route.id]=m)}s[d]=void 0,l||(l=!0,a=E0(f.error)?f.error.status:500),f.headers&&(u[d]=f.headers)}else ti(f)?(r.set(d,f.deferredData),s[d]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[d]=f.headers)):(s[d]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[d]=f.headers))}),c!==void 0&&n&&(o={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function H9(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=qU(e,n,r,o,!1);return i.forEach(u=>{let{key:c,match:h,controller:d}=u,f=s[c];if(le(f,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(on(f)){let m=ji(t.matches,h==null?void 0:h.route.id);l&&l[m.route.id]||(l=Me({},l,{[m.route.id]:f.error})),t.fetchers.delete(c)}else if(Ji(f))le(!1,"Unhandled fetcher revalidation redirect");else if(ti(f))le(!1,"Unhandled fetcher deferred data");else{let m=Hr(f.data);t.fetchers.set(c,m)}}),{loaderData:a,errors:l}}function W9(t,e,n,r){let i=Me({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function q9(t){return t?on(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ji(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function K9(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Gt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new md(t||500,a,new Error(l),!0)}function xc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ji(i))return{key:r,result:i}}}function rC(t){let e=typeof t=="string"?lr(t):t;return ks(Me({},e,{hash:""}))}function KU(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function GU(t){return iC(t.result)&&PU.has(t.result.status)}function ti(t){return t.type===Te.deferred}function on(t){return t.type===Te.error}function Ji(t){return(t&&t.type)===Te.redirect}function G9(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function QU(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function iC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YU(t){return AU.has(t.toLowerCase())}function bn(t){return xU.has(t.toLowerCase())}async function XU(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(d=>(d==null?void 0:d.route.id)===a);if(!u)continue;let c=r.find(d=>d.route.id===u.route.id),h=c!=null&&!tC(c,u)&&(i&&i[u.route.id])!==void 0;ti(l)&&h&&await z4(l,n,!1).then(d=>{d&&(e[a]=d)})}}async function JU(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&ti(a)&&(le(o,"Expected an AbortController for revalidating fetcher deferred result"),await z4(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function z4(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Te.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Te.error,error:i}}return{type:Te.data,data:t.deferredData.data}}}function j4(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Qa(t,e){let n=typeof e=="string"?lr(e).search:e.search;if(t[t.length-1].route.index&&j4(n||""))return t[t.length-1];let r=JE(t);return r[r.length-1]}function Q9(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Bf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZU(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Oa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function eV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Hr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function tV(t,e){try{let n=t.sessionStorage.getItem(eC);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function nV(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(eC,JSON.stringify(n))}catch(r){Is(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(this,arguments)}const C0=k.createContext(null),sC=k.createContext(null),Fs=k.createContext(null),S0=k.createContext(null),Ni=k.createContext({outlet:null,matches:[],isDataRoute:!1}),oC=k.createContext(null);function rV(t,e){let{relative:n}=e===void 0?{}:e;qu()||le(!1);let{basename:r,navigator:i}=k.useContext(Fs),{hash:s,pathname:o,search:a}=lC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Cr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function qu(){return k.useContext(S0)!=null}function T0(){return qu()||le(!1),k.useContext(S0).location}function aC(t){k.useContext(Fs).static||k.useLayoutEffect(t)}function $s(){let{isDataRoute:t}=k.useContext(Ni);return t?gV():iV()}function iV(){qu()||le(!1);let t=k.useContext(C0),{basename:e,future:n,navigator:r}=k.useContext(Fs),{matches:i}=k.useContext(Ni),{pathname:s}=T0(),o=JSON.stringify($4(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return aC(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=U4(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Cr([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function sV(){let{matches:t}=k.useContext(Ni),e=t[t.length-1];return e?e.params:{}}function lC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Fs),{matches:i}=k.useContext(Ni),{pathname:s}=T0(),o=JSON.stringify($4(i,r.v7_relativeSplatPath));return k.useMemo(()=>U4(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function oV(t,e,n,r){qu()||le(!1);let{navigator:i}=k.useContext(Fs),{matches:s}=k.useContext(Ni),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=T0(),c;if(e){var h;let C=typeof e=="string"?lr(e):e;l==="/"||(h=C.pathname)!=null&&h.startsWith(l)||le(!1),c=C}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let C=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(C.length).join("/")}let m=zi(t,{pathname:f}),v=hV(m&&m.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Cr([l,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:Cr([l,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&v?k.createElement(S0.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ke.Pop}},v):v}function aV(){let t=mV(),e=E0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,s)}const lV=k.createElement(aV,null);class uV extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Ni.Provider,{value:this.props.routeContext},k.createElement(oC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cV(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(C0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ni.Provider,{value:e},r)}function hV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||le(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,m=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,m=!1,v=null,C=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||lV,l&&(u<0&&d===0?(vV("route-fallback",!1),m=!0,C=null):u===d&&(m=!0,C=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),p=()=>{let y;return f?y=v:m?y=C:h.route.Component?y=k.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,k.createElement(cV,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?k.createElement(uV,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var uC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uC||{}),gd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gd||{});function dV(t){let e=k.useContext(C0);return e||le(!1),e}function fV(t){let e=k.useContext(sC);return e||le(!1),e}function pV(t){let e=k.useContext(Ni);return e||le(!1),e}function cC(t){let e=pV(),n=e.matches[e.matches.length-1];return n.route.id||le(!1),n.route.id}function mV(){var t;let e=k.useContext(oC),n=fV(gd.UseRouteError),r=cC(gd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gV(){let{router:t}=dV(uC.UseNavigateStable),e=cC(gd.UseNavigateStable),n=k.useRef(!1);return aC(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lu({fromRouteId:e},s)))},[t,e])}const Y9={};function vV(t,e,n){!e&&!Y9[t]&&(Y9[t]=!0)}const X9={};function yV(t,e){X9[e]||(X9[e]=!0,console.warn(e))}const Ks=(t,e,n)=>yV(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function _V(t,e){t!=null&&t.v7_startTransition||Ks("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&Ks("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||Ks("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||Ks("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||Ks("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||Ks("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function wV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ke.Pop,navigator:s,static:o=!1,future:a}=t;qu()&&le(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:lu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=lr(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:m="default"}=r,v=k.useMemo(()=>{let C=ga(c,l);return C==null?null:{location:{pathname:C,search:h,hash:d,state:f,key:m},navigationType:i}},[l,c,h,d,f,m,i]);return v==null?null:k.createElement(Fs.Provider,{value:u},k.createElement(S0.Provider,{children:n,value:v}))}new Promise(()=>{});function EV(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}function CV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TV(t,e){return t.button===0&&(!e||e==="_self")&&!SV(t)}const IV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kV="6";try{window.__reactRouterVersion=kV}catch{}function RV(t,e){return FU({basename:e==null?void 0:e.basename,future:uu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:aU({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||LV(),routes:t,mapRouteProperties:EV,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function LV(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=uu({},e,{errors:NV(e.errors)})),e}function NV(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new md(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const xV=k.createContext({isTransitioning:!1}),bV=k.createContext(new Map),AV="startTransition",J9=HC[AV],PV="flushSync",Z9=nI[PV];function DV(t){J9?J9(t):t()}function Fa(t){Z9?Z9(t):t()}class MV{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function OV(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=k.useState(n.state),[o,a]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[c,h]=k.useState(),[d,f]=k.useState(),[m,v]=k.useState(),C=k.useRef(new Map),{v7_startTransition:g}=r||{},p=k.useCallback(N=>{g?DV(N):N()},[g]),y=k.useCallback((N,V)=>{let{deletedFetchers:z,flushSync:Se,viewTransitionOpts:Fe}=V;z.forEach(Xe=>C.current.delete(Xe)),N.fetchers.forEach((Xe,$r)=>{Xe.data!==void 0&&C.current.set($r,Xe.data)});let Ye=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Fe||Ye){Se?Fa(()=>s(N)):p(()=>s(N));return}if(Se){Fa(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:Fe.currentLocation,nextLocation:Fe.nextLocation})});let Xe=n.window.document.startViewTransition(()=>{Fa(()=>s(N))});Xe.finished.finally(()=>{Fa(()=>{h(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),Fa(()=>f(Xe));return}d?(c&&c.resolve(),d.skipTransition(),v({state:N,currentLocation:Fe.currentLocation,nextLocation:Fe.nextLocation})):(a(N),u({isTransitioning:!0,flushSync:!1,currentLocation:Fe.currentLocation,nextLocation:Fe.nextLocation}))},[n.window,d,c,C,p]);k.useLayoutEffect(()=>n.subscribe(y),[n,y]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new MV)},[l]),k.useEffect(()=>{if(c&&o&&n.window){let N=o,V=c.promise,z=n.window.document.startViewTransition(async()=>{p(()=>s(N)),await V});z.finished.finally(()=>{h(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(z)}},[p,o,c,n.window]),k.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,d,i.location,o]),k.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[l.isTransitioning,m]),k.useEffect(()=>{},[]);let T=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,V,z)=>n.navigate(N,{state:V,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(N,V,z)=>n.navigate(N,{replace:!0,state:V,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),L=n.basename||"/",E=k.useMemo(()=>({router:n,navigator:T,static:!1,basename:L}),[n,T,L]),D=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.useEffect(()=>_V(r,n.future),[r,n.future]),k.createElement(k.Fragment,null,k.createElement(C0.Provider,{value:E},k.createElement(sC.Provider,{value:i},k.createElement(bV.Provider,{value:C.current},k.createElement(xV.Provider,{value:l},k.createElement(wV,{basename:L,location:i.location,navigationType:i.historyAction,navigator:T,future:D},i.initialized||n.future.v7_partialHydration?k.createElement(FV,{routes:n.routes,future:n.future,state:i}):e))))),null)}const FV=k.memo($V);function $V(t){let{routes:e,future:n,state:r}=t;return oV(e,void 0,r,n)}const UV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bp=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=CV(e,IV),{basename:f}=k.useContext(Fs),m,v=!1;if(typeof u=="string"&&VV.test(u)&&(m=u,UV))try{let y=new URL(window.location.href),T=u.startsWith("//")?new URL(y.protocol+u):new URL(u),L=ga(T.pathname,f);T.origin===y.origin&&L!=null?u=L+T.search+T.hash:v=!0}catch{}let C=rV(u,{relative:i}),g=zV(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function p(y){r&&r(y),y.defaultPrevented||g(y)}return k.createElement("a",uu({},d,{href:m||C,onClick:v||s?r:p,ref:n,target:l}))});var e6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(e6||(e6={}));var t6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t6||(t6={}));function zV(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=$s(),u=T0(),c=lC(t,{relative:o});return k.useCallback(h=>{if(TV(h,n)){h.preventDefault();let d=r!==void 0?r:ks(u)===ks(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function jV(){const e=sV().uid,n=$s(),r=QE(),[i,s]=k.useState("");e||n("/");async function o(){const a=Fw(r,"users",e,"inbox");await iO(a,{content:i,alreadyRead:!1}),alert("Gửi lời chúc thành công!"),n("/")}return _(ml,{children:H("form",{autoComplete:"off",className:"flex h-1/3 w-2/5 flex-col items-center justify-center gap-y-3 rounded-lg bg-white px-10 py-3 shadow-input","aria-label":"signup-form",onSubmit:a=>{a.preventDefault(),o()},children:[_("label",{htmlFor:"email",className:"cursor-pointer text-sm font-medium",children:"Gửi thiệp chúc Tết (giới hạn 200 ký tự)"}),_("textarea",{rows:14,cols:10,wrap:"soft",className:"w-full resize-none rounded-lg border border-gray-200 bg-transparent p-1 text-center outline-none",placeholder:"Nhập lời chúc",onChange:a=>s(a.target.value),maxLength:200,required:!0}),_("button",{type:"submit",className:"inline-flex h-[50px] w-full items-center justify-center rounded-lg bg-blue-500 px-8 py-4 font-sans font-semibold tracking-wide text-white hover:bg-blue-400",children:"Gửi"})]})})}function B4(){return _("div",{"aria-label":"loading-skeleton",className:"size-full animate-pulse bg-slate-200"})}function BV(){const{status:t}=Wu();return t==="loading"?_(B4,{}):_("div",{className:"bg-cover bg-[url('https://scontent.fhan15-1.fna.fbcdn.net/v/t1.15752-9/330423578_1542578269555336_1337613039926565188_n.png?_nc_cat=101&ccb=1-7&_nc_sid=ae9488&_nc_eui2=AeEa0fYc3fnGQcVoYAEmbmBZkJ5BE9ogt9WQnkET2iC31X6b0OVNs5JZTAIhvo7WU_FrF_nyYMx4eOSc55KWbJT8&_nc_ohc=g_5p-blN1BAAX8A1i45&_nc_ht=scontent.fhan15-1.fna&oh=03_AdS7_AzbFPDIH0oNT1jm8ub_jFj2auayl8_FfBwL85D2Cg&oe=640FDFEC')] flex h-screen w-screen flex-col items-center justify-center bg-red-400",children:_(jV,{})})}function I0({title:t,links:e=[]}){const n=$s(),r=ma();async function i(){r.currentUser?(await r.signOut(),n("/")):n("/login")}return H("div",{className:"flex h-[85px] items-center justify-between border-b-1 border-black bg-red-500",children:[H("svg",{className:"absolute left-0 top-0 size-[55px]",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),H("svg",{className:"absolute right-0 top-0 size-[55px] rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),H("div",{className:"m-5 flex h-full items-center",children:[_("img",{className:"max-h-[90%] max-w-[90%] p-2",src:"https://media-public.canva.com/rEYeM/MAFS1MrEYeM/1/tl.png",alt:""}),_("h1",{className:"m-5 inline text-3xl font-bold text-textyellow",children:t})]}),_("div",{className:"absolute left-1/2 flex -translate-x-1/2 transform-gpu items-center align-middle",children:e.map((s,o)=>_("div",{className:"mx-2 flex items-center justify-center text-center align-middle",children:_(Bp,{className:"h-4/5 w-[200px] rounded bg-red-700 py-2 text-xl text-textyellow hover:bg-red-600",to:s.navigateTo,children:s.display})},o))}),_("div",{className:"my-10",children:_("button",{onClick:i,className:"m-5 h-4/5 w-[200px] rounded bg-red-800 p-[15px] hover:bg-red-700",type:"button",children:_("p",{className:"text-textyellow",children:r.currentUser?"Đăng xuất":"Đăng nhập"})})})]})}function HV({inboxLink:t}){const[e,n]=k.useState(!1);return H("div",{className:"my-2 flex h-[5%] w-1/2 items-center justify-center rounded-md border-0.5 border-black bg-white",children:[_("span",{children:"Link hộp thư chúc Tết:"}),_("span",{children:_("button",{onClick:()=>{navigator.clipboard.writeText(t),e||(n(!0),setTimeout(()=>{n(!1)},1e3))},type:"button",className:"mx-2 inline-flex h-4/5 items-center justify-center rounded-lg bg-blue-500 p-1 font-sans font-semibold tracking-wide text-white hover:bg-blue-400",children:e?"Đã sao chép":"Sao chép link"})})]})}function WV(t){var u;const{setMessage:e}=t,n=ma(),r=QE(),i=Fw(r,"users",(u=n.currentUser)==null?void 0:u.uid,"inbox"),{status:s,data:o}=iU(i);function a(){const c=[];return o.docs.forEach(h=>{const d=h.data();c.push({content:d.content,alreadyRead:d.alreadyRead,id:h.id})}),c.sort(h=>h.alreadyRead?1:-1).map((h,d)=>l(h,d))}function l(c,h){return H("button",{className:"relative m-5 h-[19.5vh] bg-red-600 hover:bg-red-500",onClick:()=>{var f;e(c.content);const d=$w(r,"users",(f=n.currentUser)==null?void 0:f.uid,"inbox",c.id);rO(d,{alreadyRead:!0})},children:[_("svg",{className:"size-full",viewBox:"154 198 308 396",children:H("g",{children:[H("g",{children:[_("path",{d:"m 322.3786,388.0695 c 1.696,-9.5366 -3.8696,-12.8988 -9.051,-12.611 -6.0101,0.3336 -11.8086,5.5851 -9.0669,14.2222 -9.0411,-5.8317 -13.7821,0.5749 -14.5061,5.9783 -0.6837,5.1029 3.2914,11.1679 10.4358,11.4267 -5.6849,6.4026 -3.888,12.7653 0.5451,15.2757 4.811,2.7243 12.0203,1.2342 15.3544,-6.2714 2.4993,7.2567 10.2813,6.565 14.3584,5.1443 4.2981,-3.63 9.2888,-10.0256 -0.3286,-16.8761 8.4779,-0.159 10.2835,-7.91 8.3115,-13.6882 -2.401,-4.6899 -7.1433,-7.2975 -16.0526,-2.6005 z",fill:"#ffcb00",fillRule:"evenodd"}),_("path",{d:"m 317.4171,396.3203 c -0.1576,-0.0958 -0.3183,-0.182 -0.4813,-0.2588 0.4362,-1.2526 0.6432,-2.5308 0.6911,-3.7919 0.0402,-1.0494 -0.0315,-2.0894 -0.1721,-3.0926 0.2166,-0.1267 0.4059,-0.3081 0.5454,-0.5377 0.4487,-0.7393 0.2132,-1.7031 -0.5253,-2.1515 -0.7392,-0.449 -1.703,-0.2135 -2.152,0.5258 -0.4485,0.7387 -0.2129,1.7025 0.5264,2.1512 0.2267,0.1378 0.4756,0.2106 0.7234,0.2248 0.1258,0.9255 0.187,1.8816 0.1505,2.8457 -0.0445,1.1696 -0.2361,2.3539 -0.6378,3.513 -0.8031,-0.2172 -1.6367,-0.2325 -2.4293,-0.0621 -0.2523,-1.0482 -0.6372,-2.035 -1.1101,-2.9574 -0.5125,-0.9998 -1.1284,-1.9247 -1.7895,-2.7745 0.3938,-0.7288 0.15,-1.647 -0.5655,-2.0812 -0.7393,-0.4488 -1.703,-0.2135 -2.1518,0.5258 -0.4484,0.7387 -0.2128,1.7025 0.5262,2.1515 0.4869,0.2956 1.0709,0.2942 1.5417,0.0473 0.6038,0.7849 1.1642,1.6348 1.6319,2.5458 0.4499,0.8785 0.815,1.8156 1.0488,2.8103 -0.4821,0.197 -0.9379,0.4674 -1.3464,0.8067 -0.7662,-0.7511 -1.6135,-1.3802 -2.501,-1.9105 -1.2047,-0.7194 -2.4846,-1.2558 -3.7403,-1.6645 -0.0953,-0.3895 -0.3388,-0.743 -0.7087,-0.9678 -0.7393,-0.4487 -1.7031,-0.2131 -2.1518,0.5261 -0.4487,0.7388 -0.2131,1.7022 0.5261,2.1513 0.7387,0.4484 1.7025,0.2128 2.151,-0.5259 0.0493,-0.081 0.0907,-0.1652 0.1236,-0.2517 1.1276,0.381 2.2671,0.8688 3.3349,1.5066 0.8246,0.4927 1.6121,1.0775 2.3239,1.7734 -0.1715,0.2032 -0.3286,0.4212 -0.4706,0.6554 -0.1953,0.3214 -0.3506,0.6567 -0.4694,0.9986 -1.1699,-0.0904 -2.3171,-0.007 -3.4211,0.197 l -0.001,0.002 c -1.2291,0.2273 -2.4032,0.6012 -3.5005,1.0483 -0.0893,-0.0919 -0.1922,-0.1741 -0.3075,-0.2441 -0.7393,-0.4487 -1.7031,-0.2132 -2.1518,0.5261 -0.4485,0.7387 -0.2129,1.7025 0.5264,2.1512 0.7384,0.4485 1.7022,0.2129 2.1509,-0.5258 0.2083,-0.343 0.2693,-0.7339 0.2007,-1.0999 1.0264,-0.4127 2.1175,-0.7582 3.2471,-0.9671 v 0.001 c 0.9833,-0.182 2.0012,-0.2619 3.0362,-0.1965 -0.0805,0.5213 -0.0786,1.0483 0,1.5616 -1.0174,0.4218 -1.9486,0.9726 -2.8001,1.603 -1.0908,0.8079 -2.05,1.7433 -2.8902,2.7088 -0.663,-0.1924 -1.3995,0.0734 -1.7751,0.692 -0.4484,0.7387 -0.2128,1.7025 0.5264,2.1515 0.7387,0.4484 1.7025,0.2128 2.151,-0.5259 0.3568,-0.5876 0.2809,-1.3181 -0.1369,-1.8175 0.7829,-0.8901 1.6687,-1.7479 2.6628,-2.4838 0.7577,-0.5606 1.5829,-1.0533 2.4789,-1.4385 0.1695,0.498 0.415,0.9722 0.7325,1.4017 -0.7308,0.8711 -1.3156,1.821 -1.7864,2.8049 -0.5406,1.1313 -0.9295,2.3096 -1.2155,3.4704 -0.3917,0.0936 -0.7478,0.3388 -0.9737,0.7104 -0.4484,0.7387 -0.2129,1.7025 0.5264,2.1515 0.7387,0.4484 1.7025,0.2129 2.1509,-0.5258 0.449,-0.7393 0.2135,-1.7031 -0.5252,-2.1515 -0.0848,-0.0516 -0.1724,-0.0941 -0.2625,-0.1276 0.2676,-1.0511 0.6264,-2.1144 1.1148,-3.1351 0.4207,-0.8799 0.9389,-1.7289 1.5789,-2.5112 0.2594,0.2449 0.5483,0.466 0.8657,0.6587 0.2722,0.165 0.5525,0.3019 0.8394,0.4116 -0.1454,0.9593 -0.1738,1.9148 -0.1148,2.8497 0.085,1.3674 0.3554,2.696 0.716,3.9407 -0.0935,0.091 -0.178,0.1951 -0.2489,0.3118 -0.4487,0.7388 -0.2131,1.7025 0.5261,2.1515 0.7387,0.4485 1.7025,0.2129 2.151,-0.5258 0.449,-0.7393 0.2134,-1.703 -0.5253,-2.1515 -0.337,-0.2046 -0.7206,-0.267 -1.0814,-0.2041 -0.3186,-1.1361 -0.5553,-2.3431 -0.6327,-3.579 -0.053,-0.8382 -0.0312,-1.6906 0.089,-2.5447 0.6126,0.1157 1.2351,0.118 1.8374,0.0134 0.3166,1.0709 0.775,2.0687 1.3218,2.9928 0.6086,1.0275 1.3269,1.963 2.0852,2.8094 -0.339,0.7155 -0.0887,1.5868 0.6032,2.0072 0.7387,0.4485 1.7025,0.2129 2.1509,-0.5258 0.449,-0.7393 0.2135,-1.7031 -0.5252,-2.1515 -0.5137,-0.3121 -1.135,-0.2923 -1.6175,-0.004 -0.7016,-0.7895 -1.3618,-1.6552 -1.9188,-2.5952 -0.5059,-0.8543 -0.9289,-1.7759 -1.2231,-2.764 0.7778,-0.2804 1.4927,-0.7489 2.0693,-1.3867 0.9275,0.8007 1.9477,1.4323 3.0064,1.9306 1.0477,0.4924 2.1342,0.8567 3.2071,1.1282 0.0794,0.4224 0.3308,0.811 0.7271,1.0517 0.7387,0.4484 1.7025,0.2129 2.1509,-0.5258 0.449,-0.7393 0.2135,-1.7031 -0.5252,-2.1515 -0.7393,-0.449 -1.7031,-0.2135 -2.1521,0.5258 -0.0377,0.0621 -0.0708,0.1261 -0.0986,0.1908 -0.9819,-0.2549 -1.9721,-0.5905 -2.924,-1.0387 -1.0051,-0.4739 -1.9712,-1.0726 -2.8442,-1.8348 l 0.0396,-0.0641 c 0.4428,-0.7291 0.6829,-1.5242 0.7373,-2.3199 1.0599,0.0488 2.0997,-0.0416 3.1048,-0.2324 1.0454,-0.1981 2.0537,-0.504 3.0084,-0.87 0.0964,0.1035 0.2084,0.1959 0.3348,0.2727 0.7387,0.4488 1.7025,0.2132 2.1509,-0.5255 0.449,-0.7393 0.2135,-1.7031 -0.5252,-2.1515 -0.7393,-0.449 -1.7031,-0.2134 -2.1518,0.5258 -0.2007,0.3305 -0.2651,0.7064 -0.2072,1.0608 -0.8864,0.3364 -1.8179,0.6159 -2.7785,0.7979 -0.9573,0.1817 -1.9463,0.2653 -2.9535,0.2132 -0.0759,-0.7033 -0.2959,-1.3873 -0.648,-2.0061 0.7385,-0.5341 1.4352,-1.0953 2.0866,-1.6838 0.9238,-0.8354 1.7584,-1.7286 2.4962,-2.6801 0.6375,0.142 1.3224,-0.1265 1.6798,-0.7155 0.449,-0.7393 0.2135,-1.7031 -0.5252,-2.1515 -0.7393,-0.449 -1.7031,-0.2135 -2.1521,0.5258 -0.3742,0.6166 -0.2721,1.3898 0.2018,1.8899 -0.6843,0.8699 -1.4561,1.6891 -2.3088,2.4599 -0.6208,0.5615 -1.2864,1.0981 -1.9942,1.6101 -0.3554,-0.4275 -0.7869,-0.8037 -1.2886,-1.1084 z",fill:"#fab000",fillRule:"evenodd"}),_("path",{d:"m 315.9142,396.8921 c -0.1384,-0.0454 -0.2775,-0.0831 -0.417,-0.1134 0.1122,-1.0423 0.0431,-2.0634 -0.1454,-3.043 -0.1568,-0.8153 -0.3977,-1.6033 -0.6852,-2.3505 0.144,-0.1363 0.2574,-0.3098 0.3238,-0.5117 0.2134,-0.6494 -0.1401,-1.3492 -0.7892,-1.5627 -0.6494,-0.2134 -1.3493,0.14 -1.5627,0.7897 -0.2135,0.6489 0.1403,1.3488 0.7897,1.5622 0.199,0.0655 0.4039,0.0771 0.5972,0.0437 0.2623,0.6902 0.4802,1.4153 0.6242,2.1645 0.1749,0.9082 0.239,1.8547 0.137,2.8188 -0.6571,-0.0238 -1.3017,0.1134 -1.8817,0.3863 -0.3815,-0.7619 -0.8541,-1.4527 -1.3833,-2.0786 -0.5734,-0.6781 -1.2129,-1.2804 -1.8737,-1.8165 0.1729,-0.6315 -0.1789,-1.2948 -0.8073,-1.5015 -0.6494,-0.2134 -1.3496,0.1401 -1.563,0.7895 -0.2135,0.6491 0.1403,1.349 0.7897,1.5624 0.4278,0.1406 0.877,0.0352 1.1954,-0.2389 0.6055,0.4963 1.1888,1.0505 1.7115,1.6685 0.5035,0.5961 0.9522,1.2523 1.3102,1.9763 -0.3362,0.2381 -0.6386,0.5278 -0.8926,0.8617 -0.7246,-0.4414 -1.4893,-0.7741 -2.2672,-1.0239 -1.0562,-0.3384 -2.1376,-0.5227 -3.1779,-0.6131 -0.1426,-0.2829 -0.3934,-0.5117 -0.7183,-0.6185 -0.6494,-0.2135 -1.3496,0.1403 -1.563,0.7897 -0.2132,0.6489 0.1403,1.349 0.7897,1.5625 0.6489,0.2131 1.349,-0.1404 1.5622,-0.7895 0.0235,-0.0711 0.0402,-0.1434 0.0502,-0.2157 0.9362,0.0918 1.9009,0.2636 2.8372,0.5638 0.7231,0.2319 1.4337,0.5417 2.1061,0.9502 -0.0955,0.1871 -0.1774,0.3832 -0.2452,0.5887 -0.0927,0.2824 -0.1525,0.5684 -0.1825,0.853 -0.9173,0.1392 -1.7859,0.4085 -2.5994,0.7631 l -6e-4,0.002 c -0.9057,0.3945 -1.743,0.8923 -2.5078,1.4326 -0.0853,-0.055 -0.1791,-0.0998 -0.2803,-0.1329 -0.6495,-0.2135 -1.3496,0.14 -1.5631,0.7894 -0.2134,0.6491 0.1404,1.349 0.7898,1.5625 0.6488,0.2134 1.349,-0.1404 1.5621,-0.7892 0.0993,-0.3013 0.0763,-0.6134 -0.0419,-0.8827 0.7166,-0.5015 1.495,-0.9624 2.3275,-1.3252 v 0.001 c 0.7248,-0.3158 1.4944,-0.5595 2.3029,-0.6939 0.0312,0.4156 0.1267,0.8212 0.2792,1.2022 -0.7081,0.5068 -1.3266,1.0973 -1.8697,1.7351 -0.6954,0.8166 -1.2668,1.7087 -1.7414,2.6022 -0.5448,-0.0298 -1.0641,0.3064 -1.243,0.8501 -0.2131,0.6488 0.1404,1.349 0.7898,1.5624 0.6491,0.2132 1.349,-0.1403 1.5624,-0.7891 0.1695,-0.5165 -0.0192,-1.0653 -0.4303,-1.3754 0.4437,-0.8252 0.9726,-1.6438 1.6064,-2.3882 0.4833,-0.5672 1.0304,-1.0942 1.6518,-1.5508 0.2194,0.3532 0.4932,0.6743 0.8144,0.9484 -0.4071,0.8014 -0.6874,1.6373 -0.8742,2.4792 -0.214,0.9675 -0.3031,1.9443 -0.3155,2.8891 -0.2849,0.1423 -0.5154,0.3946 -0.6228,0.7211 -0.2134,0.6492 0.1403,1.349 0.7897,1.5625 0.6489,0.2134 1.349,-0.1403 1.5622,-0.7892 0.2135,-0.6494 -0.14,-1.3496 -0.7889,-1.5627 -0.0745,-0.0244 -0.1496,-0.0417 -0.2248,-0.0513 0.0179,-0.8572 0.1044,-1.7402 0.298,-2.6133 0.1666,-0.7526 0.4138,-1.4989 0.7667,-2.2158 0.2438,0.1423 0.5054,0.2608 0.7844,0.3523 0.2389,0.0788 0.4793,0.1338 0.72,0.167 0.0592,0.7648 0.2083,1.5057 0.4206,2.215 0.3101,1.0375 0.7558,2.0123 1.2561,2.9063 -0.0559,0.0868 -0.1024,0.1817 -0.1361,0.2846 -0.2134,0.6489 0.1403,1.3488 0.7897,1.5625 0.6489,0.2132 1.349,-0.1403 1.5622,-0.7895 0.2135,-0.6494 -0.14,-1.3493 -0.7889,-1.5627 -0.2962,-0.0972 -0.6026,-0.0765 -0.8694,0.036 -0.4484,-0.8175 -0.8461,-1.7048 -1.1267,-2.6425 -0.1908,-0.6361 -0.3263,-1.2962 -0.3864,-1.9751 0.4924,-0.0207 0.972,-0.1301 1.4173,-0.3184 0.4352,0.7682 0.9664,1.4545 1.5529,2.0682 0.6519,0.6826 1.3722,1.2742 2.1075,1.7906 -0.1332,0.6115 0.2152,1.2376 0.8232,1.4375 0.6488,0.2134 1.349,-0.14 1.5622,-0.7892 0.2134,-0.6494 -0.1401,-1.3493 -0.7889,-1.5627 -0.4516,-0.1483 -0.9264,-0.0221 -1.2464,0.2857 -0.6812,-0.4824 -1.3442,-1.031 -1.9412,-1.6554 -0.5425,-0.5672 -1.0326,-1.2013 -1.436,-1.9094 0.5491,-0.3552 1.0156,-0.8436 1.3456,-1.4378 0.8572,0.4507 1.7558,0.7549 2.66,0.9493 0.8949,0.192 1.7963,0.2781 2.6711,0.2954 0.1366,0.311 0.3997,0.5652 0.7478,0.6798 0.6488,0.2134 1.349,-0.1403 1.5622,-0.7892 0.2134,-0.6494 -0.1401,-1.3496 -0.7889,-1.5627 -0.6497,-0.2135 -1.3496,0.14 -1.563,0.7894 -0.0179,0.0547 -0.0321,0.1097 -0.042,0.1647 -0.8016,-0.021 -1.624,-0.1023 -2.4372,-0.2775 -0.8586,-0.1851 -1.7093,-0.4734 -2.518,-0.9043 l 0.0192,-0.0564 c 0.2107,-0.6406 0.2535,-1.2957 0.1531,-1.9182 0.8246,-0.1516 1.6092,-0.4073 2.3491,-0.7339 0.7696,-0.3393 1.4913,-0.7548 2.1608,-1.2075 0.0927,0.0626 0.1956,0.1136 0.3067,0.1502 0.6489,0.2135 1.3491,-0.1403 1.5622,-0.7892 0.2138,-0.6494 -0.14,-1.3492 -0.7889,-1.5627 -0.6494,-0.2134 -1.3495,0.14 -1.563,0.7895 -0.0955,0.2905 -0.0777,0.5913 0.0301,0.854 -0.6222,0.4173 -1.2895,0.7991 -1.9968,1.1109 -0.7044,0.311 -1.4513,0.5522 -2.2359,0.692 -0.1843,-0.5281 -0.476,-1.0154 -0.8575,-1.429 0.4731,-0.5431 0.9093,-1.0995 1.3056,-1.6693 0.5619,-0.8084 1.0449,-1.6452 1.4431,-2.5098 0.5162,-0.005 0.9956,-0.3339 1.1656,-0.8512 0.2135,-0.6495 -0.1403,-1.3493 -0.7891,-1.5628 -0.6494,-0.2134 -1.3496,0.1403 -1.563,0.7898 -0.1781,0.5414 0.0388,1.1185 0.4932,1.419 -0.3714,0.792 -0.8192,1.5607 -1.3382,2.3068 -0.3776,0.5431 -0.7943,1.0752 -1.2479,1.5959 -0.35,-0.2656 -0.7494,-0.4782 -1.1902,-0.623 z",fill:"#f07c00",fillRule:"evenodd"})]}),H("g",{children:[_("path",{d:"m 353.6722,362.3559 c 0.9712,-5.4607 -2.2155,-7.3857 -5.1823,-7.221 -3.441,0.1913 -6.7612,3.198 -5.1913,8.1434 -5.1767,-3.3392 -7.8911,0.3291 -8.3056,3.4228 -0.3914,2.9217 1.8845,6.3944 5.9752,6.5426 -3.255,3.6658 -2.2263,7.3089 0.3121,8.7461 2.7547,1.5599 6.8822,0.7069 8.7914,-3.5907 1.4309,4.155 5.8867,3.759 8.221,2.9455 2.4607,-2.0784 5.3184,-5.7402 -0.1882,-9.6627 4.854,-0.091 5.8881,-4.529 4.7588,-7.8373 -1.3745,-2.6852 -4.0899,-4.1782 -9.1911,-1.4887 z",fill:"#ffcb00",fillRule:"evenodd"}),_("path",{d:"m 350.8316,367.0798 c -0.0904,-0.0547 -0.1822,-0.1043 -0.2758,-0.1482 0.2497,-0.7172 0.3682,-1.4491 0.3957,-2.1711 0.023,-0.6009 -0.0181,-1.1962 -0.0983,-1.7708 0.1238,-0.0723 0.2324,-0.1763 0.3121,-0.3078 0.2571,-0.4233 0.1221,-0.9752 -0.3008,-1.232 -0.4232,-0.2568 -0.9751,-0.1222 -1.2319,0.3013 -0.2569,0.423 -0.1222,0.9746 0.3013,1.2317 0.1298,0.0788 0.2724,0.1205 0.4141,0.1287 0.072,0.5298 0.1072,1.0772 0.0862,1.6293 -0.0255,0.6696 -0.1352,1.3476 -0.3654,2.0115 -0.4598,-0.1244 -0.9368,-0.1332 -1.3907,-0.0357 -0.1445,-0.6001 -0.3648,-1.165 -0.6355,-1.6931 -0.2937,-0.5726 -0.6463,-1.1022 -1.0247,-1.5889 0.2253,-0.4172 0.0859,-0.9428 -0.3237,-1.1914 -0.4232,-0.2571 -0.9751,-0.1221 -1.2322,0.3011 -0.2569,0.4229 -0.1219,0.9748 0.3013,1.2316 0.2789,0.1693 0.6131,0.1684 0.8827,0.0272 0.3458,0.4493 0.6667,0.936 0.9343,1.4576 0.2577,0.5029 0.4668,1.0395 0.6006,1.609 -0.276,0.1131 -0.5368,0.2678 -0.7707,0.462 -0.4388,-0.43 -0.9241,-0.7903 -1.4321,-1.0939 -0.6896,-0.4119 -1.4227,-0.7188 -2.1418,-0.953 -0.0544,-0.2231 -0.1936,-0.4255 -0.4057,-0.5542 -0.4232,-0.2568 -0.9751,-0.1221 -1.2319,0.3014 -0.2568,0.4229 -0.1219,0.9745 0.3013,1.2316 0.423,0.2568 0.9749,0.1219 1.2314,-0.301 0.0283,-0.0465 0.0522,-0.0947 0.0709,-0.144 0.6454,0.218 1.298,0.4972 1.9094,0.8626 0.4722,0.282 0.9229,0.6168 1.3306,1.0153 -0.0981,0.1163 -0.1883,0.2413 -0.2696,0.3751 -0.1117,0.1842 -0.2007,0.3761 -0.2684,0.572 -0.6702,-0.0519 -1.3269,-0.004 -1.9591,0.1125 l -5e-4,0.001 c -0.7039,0.1301 -1.3763,0.3441 -2.0041,0.6 -0.0513,-0.0527 -0.1103,-0.0994 -0.1763,-0.1397 -0.4233,-0.2568 -0.9752,-0.1219 -1.232,0.3013 -0.2568,0.423 -0.1219,0.9746 0.3013,1.2317 0.423,0.2568 0.9746,0.1219 1.2314,-0.3011 0.1193,-0.1964 0.1542,-0.4201 0.1151,-0.6295 0.5876,-0.2364 1.2124,-0.4343 1.8592,-0.5539 l -2e-4,8e-4 c 0.5632,-0.1043 1.146,-0.1502 1.7384,-0.1125 -0.0459,0.2985 -0.045,0.6001 0,0.894 -0.5822,0.2415 -1.1157,0.557 -1.6032,0.9179 -0.6245,0.4626 -1.1736,0.9981 -1.6546,1.5511 -0.3796,-0.1103 -0.8014,0.0417 -1.0165,0.396 -0.2568,0.4229 -0.1219,0.9748 0.3013,1.2319 0.4229,0.2569 0.9748,0.1219 1.2317,-0.301 0.2043,-0.3365 0.161,-0.7549 -0.0783,-1.0409 0.4482,-0.5094 0.9553,-1.0006 1.5245,-1.4218 0.434,-0.3212 0.9062,-0.6032 1.4196,-0.8238 0.0969,0.2852 0.2375,0.5567 0.4192,0.8025 -0.4184,0.4989 -0.7534,1.0426 -1.023,1.6061 -0.3095,0.6477 -0.5321,1.3224 -0.6956,1.9868 -0.2245,0.0539 -0.4283,0.1942 -0.5576,0.4071 -0.2568,0.4229 -0.1219,0.9745 0.3013,1.2316 0.423,0.2569 0.9749,0.1219 1.2317,-0.301 0.2568,-0.4232 0.1219,-0.9751 -0.3011,-1.2319 -0.0484,-0.0295 -0.0986,-0.0539 -0.1499,-0.0729 0.1531,-0.6018 0.3586,-1.2107 0.6381,-1.7952 0.2409,-0.5037 0.5374,-0.9898 0.9039,-1.4377 0.1486,0.14 0.3141,0.2667 0.4958,0.377 0.1556,0.0947 0.3164,0.1729 0.4805,0.2358 -0.0833,0.5494 -0.0992,1.0965 -0.0658,1.6317 0.0488,0.7829 0.2036,1.5437 0.4102,2.2563 -0.0536,0.0519 -0.102,0.1114 -0.1426,0.1783 -0.2568,0.4233 -0.1219,0.9749 0.3013,1.232 0.423,0.2568 0.9749,0.1219 1.2317,-0.3011 0.2568,-0.4232 0.1222,-0.9751 -0.301,-1.2319 -0.1928,-0.1171 -0.4125,-0.1528 -0.6191,-0.1168 -0.1826,-0.6505 -0.3178,-1.3416 -0.3623,-2.0492 -0.0303,-0.4799 -0.0179,-0.968 0.051,-1.457 0.3507,0.0661 0.707,0.0675 1.052,0.008 0.1814,0.6131 0.4436,1.1843 0.7568,1.7135 0.3484,0.5885 0.7597,1.124 1.194,1.6087 -0.1942,0.4096 -0.0511,0.9085 0.3452,1.1492 0.423,0.2568 0.9749,0.1219 1.2317,-0.3011 0.2571,-0.4232 0.1222,-0.9751 -0.3008,-1.2319 -0.2942,-0.1786 -0.6497,-0.1673 -0.9261,-0.003 -0.4016,-0.4521 -0.7798,-0.9476 -1.0987,-1.4859 -0.2897,-0.4892 -0.5317,-1.0168 -0.7004,-1.5826 0.4456,-0.1604 0.8546,-0.4288 1.1849,-0.794 0.5312,0.4584 1.1151,0.8201 1.7215,1.1056 0.5998,0.282 1.222,0.4904 1.8362,0.646 0.0454,0.2418 0.1894,0.4643 0.4162,0.6021 0.4229,0.2568 0.9748,0.1218 1.2316,-0.3011 0.2571,-0.4232 0.1222,-0.9751 -0.3007,-1.2319 -0.4232,-0.2571 -0.9752,-0.1222 -1.2323,0.301 -0.0215,0.0357 -0.0405,0.0723 -0.0564,0.1094 -0.5624,-0.1459 -1.129,-0.3381 -1.6741,-0.595 -0.5754,-0.2712 -1.1285,-0.6139 -1.6285,-1.0505 l 0.0227,-0.0365 c 0.2534,-0.4176 0.3909,-0.8728 0.422,-1.3284 0.6069,0.0281 1.2022,-0.0238 1.7776,-0.1332 0.5987,-0.1134 1.1761,-0.2883 1.7227,-0.498 0.0552,0.0592 0.1193,0.1122 0.1919,0.1562 0.4229,0.2568 0.9745,0.1221 1.2313,-0.3008 0.2571,-0.4235 0.1222,-0.9751 -0.3007,-1.2319 -0.4232,-0.2571 -0.9751,-0.1222 -1.232,0.301 -0.115,0.1894 -0.1516,0.4045 -0.1187,0.6075 -0.5074,0.1924 -1.0409,0.3526 -1.5908,0.4566 -0.548,0.1041 -1.1143,0.152 -1.6912,0.1222 -0.0433,-0.4028 -0.1692,-0.7943 -0.3707,-1.1486 0.4226,-0.3059 0.8214,-0.627 1.1945,-0.9641 0.5289,-0.4784 1.0068,-0.9895 1.4292,-1.5346 0.3651,0.0813 0.7571,-0.0723 0.9618,-0.4096 0.2571,-0.4233 0.1222,-0.9752 -0.3008,-1.232 -0.4232,-0.2568 -0.9751,-0.1222 -1.2322,0.3013 -0.214,0.353 -0.1556,0.7957 0.1157,1.082 -0.3918,0.4981 -0.8337,0.9672 -1.3221,1.4086 -0.3555,0.3211 -0.7364,0.6284 -1.1418,0.9215 -0.2035,-0.2446 -0.4504,-0.4601 -0.7376,-0.6344 z",fill:"#fab000",fillRule:"evenodd"}),_("path",{d:"m 349.971,367.4072 c -0.0793,-0.0261 -0.159,-0.0476 -0.2387,-0.0649 0.0641,-0.5967 0.0244,-1.1815 -0.0833,-1.7425 -0.0899,-0.4668 -0.2279,-0.9178 -0.3923,-1.3458 0.0825,-0.078 0.1474,-0.1772 0.1854,-0.2929 0.1222,-0.3719 -0.0802,-0.7724 -0.4519,-0.8946 -0.3719,-0.1224 -0.7727,0.0802 -0.8949,0.4519 -0.1221,0.3716 0.0803,0.7724 0.4522,0.8946 0.1142,0.0377 0.2313,0.0442 0.3421,0.0249 0.15,0.3955 0.275,0.8104 0.3575,1.2393 0.1,0.5202 0.1366,1.0619 0.0782,1.6141 -0.3762,-0.0136 -0.7452,0.0649 -1.0772,0.2211 -0.2185,-0.4363 -0.4892,-0.8317 -0.792,-1.19 -0.3285,-0.3884 -0.6945,-0.7333 -1.0729,-1.04 0.0989,-0.3617 -0.1026,-0.7416 -0.4623,-0.8598 -0.3719,-0.1222 -0.7727,0.0802 -0.8949,0.4521 -0.1222,0.3714 0.0802,0.7722 0.4521,0.8947 0.2449,0.0805 0.5023,0.0198 0.6846,-0.137 0.3467,0.2841 0.6806,0.6016 0.9799,0.9553 0.2883,0.3413 0.5451,0.7169 0.7501,1.1316 -0.1925,0.1364 -0.3657,0.3022 -0.5111,0.4935 -0.4147,-0.2528 -0.8527,-0.4433 -1.298,-0.5865 -0.6049,-0.1939 -1.224,-0.2993 -1.8196,-0.3509 -0.0816,-0.1619 -0.2253,-0.2931 -0.4113,-0.354 -0.3719,-0.1225 -0.7727,0.0802 -0.8949,0.4521 -0.1221,0.3713 0.0802,0.7721 0.4522,0.8943 0.3716,0.1222 0.7724,-0.0802 0.8946,-0.4518 0.0133,-0.0409 0.0229,-0.0822 0.0286,-0.1236 0.536,0.0527 1.0882,0.1511 1.6245,0.3228 0.4139,0.133 0.8209,0.3102 1.2059,0.5443 -0.0547,0.1069 -0.1018,0.2191 -0.1403,0.3368 -0.0533,0.1618 -0.0876,0.3254 -0.1049,0.4884 -0.525,0.0799 -1.0222,0.2338 -1.4882,0.4371 l -3e-4,8e-4 c -0.5184,0.2259 -0.9978,0.5108 -1.4357,0.8204 -0.0491,-0.0315 -0.1026,-0.057 -0.1608,-0.0763 -0.3719,-0.1222 -0.7724,0.0802 -0.8948,0.4521 -0.1222,0.3717 0.0805,0.7725 0.4524,0.8946 0.3713,0.1222 0.7721,-0.0802 0.8943,-0.4518 0.0567,-0.1726 0.0436,-0.3512 -0.0241,-0.5054 0.4105,-0.2872 0.8561,-0.5511 1.3326,-0.7588 l 2e-4,5e-4 c 0.4148,-0.1808 0.8555,-0.3203 1.3184,-0.3971 0.0179,0.2381 0.0726,0.47 0.1599,0.6882 -0.4053,0.2903 -0.7597,0.6285 -1.0706,0.9936 -0.398,0.4674 -0.7254,0.9782 -0.997,1.4899 -0.3118,-0.017 -0.6094,0.1754 -0.7115,0.4867 -0.1221,0.3716 0.0802,0.7724 0.4522,0.8946 0.3713,0.1222 0.7721,-0.0805 0.8943,-0.4518 0.0972,-0.2957 -0.0111,-0.6101 -0.2463,-0.7875 0.2542,-0.4725 0.557,-0.9414 0.9198,-1.3674 0.2767,-0.3246 0.5899,-0.6265 0.9456,-0.8879 0.1259,0.2022 0.2826,0.3861 0.4663,0.5429 -0.233,0.4589 -0.3934,0.9374 -0.5006,1.4196 -0.1224,0.5539 -0.1732,1.1131 -0.1805,1.6543 -0.163,0.0813 -0.2951,0.2259 -0.3566,0.4127 -0.1222,0.3716 0.0805,0.7724 0.4521,0.8946 0.3716,0.1222 0.7724,-0.0802 0.8946,-0.4518 0.1222,-0.3719 -0.0802,-0.7728 -0.4518,-0.8949 -0.0426,-0.0139 -0.0856,-0.0238 -0.1287,-0.0292 0.0105,-0.4907 0.0598,-0.9964 0.1706,-1.4964 0.0955,-0.4309 0.237,-0.8581 0.4391,-1.2685 0.1395,0.0813 0.2894,0.1491 0.449,0.2018 0.1369,0.0448 0.2747,0.0765 0.4122,0.0955 0.034,0.438 0.1196,0.862 0.2409,1.2682 0.1777,0.5939 0.4329,1.152 0.7192,1.664 -0.0321,0.0496 -0.0584,0.104 -0.078,0.163 -0.1222,0.3716 0.0805,0.7721 0.4524,0.8946 0.3714,0.1221 0.7722,-0.0805 0.8944,-0.4519 0.1221,-0.3719 -0.0803,-0.7727 -0.4519,-0.8949 -0.1695,-0.0558 -0.345,-0.0439 -0.4975,0.0207 -0.2568,-0.4683 -0.4847,-0.9762 -0.6454,-1.5131 -0.1092,-0.3643 -0.1865,-0.7421 -0.2211,-1.131 0.2817,-0.0117 0.5567,-0.0743 0.8115,-0.182 0.2492,0.4396 0.5534,0.8325 0.889,1.184 0.3733,0.3909 0.7857,0.7297 1.2067,1.0253 -0.0763,0.3501 0.1233,0.7087 0.4714,0.8232 0.3716,0.1219 0.7724,-0.0805 0.8946,-0.4521 0.1222,-0.3717 -0.0802,-0.7725 -0.4518,-0.8947 -0.2586,-0.085 -0.5304,-0.0127 -0.7135,0.1636 -0.3903,-0.2764 -0.7699,-0.5904 -1.1115,-0.9479 -0.3107,-0.3248 -0.5913,-0.6877 -0.8223,-1.0933 0.3144,-0.2033 0.5814,-0.483 0.7704,-0.8232 0.491,0.2582 1.0052,0.4323 1.5231,0.5437 0.5122,0.1097 1.0284,0.159 1.5293,0.1692 0.0782,0.178 0.2287,0.3234 0.4283,0.3889 0.3713,0.1222 0.7722,-0.0802 0.8943,-0.4518 0.1222,-0.3719 -0.0802,-0.7725 -0.4518,-0.8946 -0.3719,-0.1225 -0.7724,0.0802 -0.8949,0.4521 -0.0102,0.0312 -0.0181,0.0626 -0.0238,0.0941 -0.4592,-0.0119 -0.9301,-0.0587 -1.3955,-0.1587 -0.4915,-0.1061 -0.9788,-0.2713 -1.4417,-0.5179 l 0.011,-0.0323 c 0.1205,-0.3668 0.1449,-0.7419 0.0876,-1.0982 0.4723,-0.087 0.9213,-0.2333 1.3451,-0.4204 0.4405,-0.1941 0.8538,-0.4322 1.237,-0.6913 0.0533,0.036 0.112,0.0652 0.1758,0.0861 0.3716,0.1222 0.7724,-0.0805 0.8943,-0.4518 0.1225,-0.3719 -0.0802,-0.7727 -0.4516,-0.8949 -0.3719,-0.1222 -0.7727,0.0802 -0.8949,0.4521 -0.0547,0.1661 -0.0445,0.3385 0.017,0.489 -0.356,0.239 -0.7381,0.4575 -1.1432,0.6361 -0.4033,0.178 -0.8308,0.3161 -1.2801,0.396 -0.1054,-0.3022 -0.2724,-0.5814 -0.491,-0.8181 0.2708,-0.3109 0.5205,-0.6296 0.7475,-0.9558 0.3218,-0.4629 0.5984,-0.942 0.8263,-1.4369 0.2954,-0.003 0.5701,-0.1911 0.6673,-0.4873 0.1222,-0.3719 -0.0802,-0.7727 -0.4518,-0.8949 -0.3719,-0.1221 -0.7725,0.0802 -0.8949,0.4522 -0.1018,0.3098 0.0224,0.6403 0.2823,0.8124 -0.2126,0.4535 -0.4688,0.8937 -0.7659,1.3209 -0.2163,0.311 -0.455,0.6157 -0.7146,0.9136 -0.2004,-0.1519 -0.4292,-0.2738 -0.6815,-0.3566 z",fill:"#f07c00",fillRule:"evenodd"})]}),H("g",{children:[_("path",{d:"m 281.3145,370.9777 c 1.6906,-9.506 -3.8571,-12.8574 -9.0221,-12.5705 -5.9902,0.3328 -11.7703,5.5673 -9.0374,14.1766 -9.0119,-5.813 -13.7376,0.5729 -14.4593,5.9588 -0.6814,5.0867 3.2808,11.1319 10.4023,11.3898 -5.6667,6.382 -3.8758,12.7239 0.5431,15.2263 4.7957,2.7156 11.9815,1.2303 15.3051,-6.2512 2.4911,7.2334 10.2478,6.5441 14.3119,5.1279 4.2843,-3.6185 9.2588,-9.9933 -0.3274,-16.8217 8.4503,-0.1584 10.2501,-7.8845 8.2842,-13.644 -2.393,-4.6749 -7.12,-7.274 -16.0004,-2.592 z",fill:"#ffcb00",fillRule:"evenodd"}),_("path",{d:"m 276.3689,379.2019 c -0.1571,-0.0955 -0.3172,-0.1814 -0.4799,-0.2582 0.4348,-1.2484 0.6412,-2.5223 0.6891,-3.7795 0.0399,-1.046 -0.0315,-2.0826 -0.1715,-3.0827 0.2157,-0.1261 0.4045,-0.3069 0.5434,-0.536 0.4476,-0.7367 0.2129,-1.6974 -0.5236,-2.1444 -0.7367,-0.4476 -1.6974,-0.2129 -2.145,0.5241 -0.447,0.7362 -0.2123,1.6968 0.5247,2.1444 0.226,0.1372 0.4743,0.2098 0.7212,0.224 0.1253,0.9224 0.1865,1.8754 0.1499,2.8366 -0.0445,1.1656 -0.2355,2.3462 -0.6358,3.5016 -0.8005,-0.2165 -1.6313,-0.2318 -2.4213,-0.062 -0.2515,-1.0449 -0.635,-2.0282 -1.1064,-2.9478 -0.5111,-0.9966 -1.1248,-1.9188 -1.7836,-2.7655 0.3921,-0.7265 0.1491,-1.6415 -0.5638,-2.0746 -0.737,-0.4473 -1.6976,-0.2126 -2.1449,0.5244 -0.4471,0.7361 -0.2124,1.6968 0.5246,2.1441 0.4853,0.2948 1.0673,0.2934 1.5364,0.0473 0.6021,0.7824 1.1605,1.6294 1.6265,2.5376 0.4488,0.8756 0.8127,1.8096 1.0457,2.8012 -0.4807,0.1964 -0.9348,0.466 -1.3419,0.8039 -0.7639,-0.7486 -1.6086,-1.3754 -2.493,-1.9043 -1.2008,-0.7169 -2.4767,-1.2515 -3.7285,-1.6591 -0.0949,-0.3881 -0.3376,-0.7404 -0.7063,-0.9644 -0.7368,-0.4476 -1.6974,-0.2126 -2.1447,0.5242 -0.4473,0.7364 -0.2124,1.6971 0.5244,2.1444 0.7364,0.447 1.6971,0.2123 2.1441,-0.5242 0.049,-0.0807 0.0904,-0.1647 0.123,-0.2508 1.124,0.3798 2.2598,0.866 3.3242,1.5018 0.8221,0.4909 1.6067,1.074 2.3162,1.7677 -0.1709,0.2023 -0.3274,0.4198 -0.4689,0.6531 -0.1947,0.3206 -0.3495,0.6545 -0.4677,0.9955 -1.1661,-0.0904 -2.3099,-0.007 -3.4103,0.1964 l -0.001,0.002 c -1.2248,0.2265 -2.3955,0.5993 -3.4889,1.0446 -0.0892,-0.0916 -0.1919,-0.1735 -0.3067,-0.2429 -0.737,-0.4476 -1.6973,-0.2129 -2.1449,0.5241 -0.4471,0.7361 -0.2124,1.6968 0.5247,2.1444 0.7361,0.447 1.6968,0.2123 2.1438,-0.5241 0.2078,-0.3419 0.2684,-0.7316 0.2001,-1.0962 1.0233,-0.4116 2.1107,-0.756 3.2369,-0.9643 l -3e-4,0.001 c 0.9802,-0.1811 1.995,-0.2611 3.0266,-0.1956 -0.0802,0.5196 -0.0785,1.0448 0,1.5565 -1.014,0.4204 -1.9423,0.9694 -2.7913,1.5979 -1.0871,0.805 -2.0432,1.7376 -2.8809,2.7 -0.6607,-0.1919 -1.3946,0.0728 -1.7691,0.6897 -0.447,0.7364 -0.2123,1.6971 0.5247,2.1444 0.7362,0.447 1.6969,0.2123 2.1439,-0.5242 0.3557,-0.5856 0.28,-1.3138 -0.1364,-1.8116 0.7804,-0.8872 1.6634,-1.7422 2.6541,-2.4755 0.7554,-0.559 1.5778,-1.0502 2.4713,-1.434 0.1689,0.4963 0.4135,0.9689 0.7299,1.3972 -0.7282,0.8682 -1.3113,1.815 -1.7807,2.7958 -0.5389,1.1273 -0.9264,2.302 -1.2116,3.4591 -0.3903,0.0933 -0.7455,0.3376 -0.9703,0.7081 -0.4473,0.7364 -0.2123,1.6971 0.5244,2.1444 0.7365,0.447 1.6971,0.2123 2.1442,-0.5238 0.4473,-0.737 0.2126,-1.6977 -0.5236,-2.1447 -0.0845,-0.0513 -0.1721,-0.0939 -0.2616,-0.127 0.2667,-1.0477 0.6244,-2.1076 1.1111,-3.1252 0.4193,-0.8768 0.9358,-1.7232 1.5738,-2.5033 0.2586,0.2444 0.5466,0.4646 0.8629,0.6568 0.2713,0.1647 0.5508,0.301 0.8368,0.4105 -0.1451,0.9561 -0.1732,1.9085 -0.1148,2.8403 0.085,1.3629 0.3546,2.6875 0.714,3.9279 -0.0932,0.0907 -0.1774,0.1945 -0.2483,0.311 -0.447,0.7364 -0.212,1.6968 0.5247,2.1444 0.7365,0.447 1.6968,0.2123 2.1441,-0.5241 0.4474,-0.7367 0.2126,-1.6974 -0.5238,-2.1444 -0.3359,-0.2041 -0.7183,-0.2662 -1.0777,-0.2036 -0.3178,-1.1324 -0.5536,-2.3354 -0.631,-3.5674 -0.0527,-0.8356 -0.0309,-1.6852 0.0887,-2.5364 0.6106,0.1151 1.2311,0.1174 1.8318,0.0133 0.3154,1.0675 0.7724,2.0619 1.3175,2.9832 0.6063,1.0242 1.3224,1.9565 2.0784,2.8003 -0.3379,0.7132 -0.0888,1.5815 0.6012,2.0005 0.7364,0.447 1.6971,0.2123 2.1441,-0.5239 0.4473,-0.737 0.2126,-1.6977 -0.5238,-2.1447 -0.512,-0.3109 -1.1311,-0.2914 -1.6121,-0.005 -0.6993,-0.7869 -1.3575,-1.6495 -1.9125,-2.5866 -0.5046,-0.8518 -0.9261,-1.7703 -1.2195,-2.755 0.7756,-0.2798 1.4879,-0.7467 2.0631,-1.3825 0.9243,0.7983 1.9411,1.4278 2.9965,1.9245 1.0442,0.4909 2.1271,0.8538 3.1969,1.1248 0.0788,0.4206 0.3296,0.8081 0.7245,1.0479 0.7362,0.447 1.6968,0.2123 2.1441,-0.5241 0.4473,-0.7367 0.2126,-1.6974 -0.5238,-2.1444 -0.7367,-0.4476 -1.6974,-0.2126 -2.145,0.5241 -0.0374,0.0618 -0.0706,0.1256 -0.0983,0.1902 -0.9788,-0.254 -1.9656,-0.5887 -2.9146,-1.0355 -1.0018,-0.4722 -1.9647,-1.0692 -2.835,-1.8289 l 0.0394,-0.0638 c 0.4414,-0.7268 0.6809,-1.5191 0.7351,-2.3125 1.0562,0.0488 2.0928,-0.0414 3.0948,-0.2316 1.0421,-0.1975 2.0469,-0.5023 2.9985,-0.8671 0.0961,0.1032 0.2078,0.1953 0.3339,0.2719 0.7362,0.447 1.6969,0.2123 2.1442,-0.5239 0.4473,-0.737 0.2126,-1.6977 -0.5239,-2.1447 -0.7367,-0.4473 -1.6974,-0.2126 -2.1449,0.5241 -0.1999,0.3297 -0.264,0.7045 -0.2064,1.0577 -0.8836,0.3353 -1.8122,0.6139 -2.7695,0.7954 -0.9541,0.1808 -1.94,0.2644 -2.944,0.2123 -0.0757,-0.701 -0.2948,-1.3831 -0.6458,-1.9996 0.7359,-0.5326 1.4304,-1.0916 2.0798,-1.6784 0.9207,-0.8328 1.7527,-1.7229 2.4883,-2.6716 0.6352,0.1417 1.3178,-0.1259 1.6741,-0.7129 0.4476,-0.7371 0.2129,-1.6977 -0.5235,-2.1447 -0.7368,-0.4473 -1.6974,-0.2126 -2.145,0.5241 -0.3731,0.6145 -0.2713,1.3853 0.201,1.8836 -0.6821,0.8671 -1.4514,1.6838 -2.3012,2.4523 -0.6188,0.5595 -1.2824,1.0944 -1.9877,1.6047 -0.3543,-0.4261 -0.7843,-0.8011 -1.2846,-1.1047 z",fill:"#fab000",fillRule:"evenodd"}),_("path",{d:"m 274.8711,379.7717 c -0.1381,-0.0454 -0.277,-0.0828 -0.4159,-0.1129 0.1117,-1.0389 0.0428,-2.0568 -0.1451,-3.0333 -0.1559,-0.8127 -0.3963,-1.5979 -0.6829,-2.3429 0.1437,-0.1357 0.2568,-0.3086 0.3229,-0.5099 0.2129,-0.6474 -0.1398,-1.345 -0.7866,-1.5576 -0.6475,-0.2129 -1.3451,0.1394 -1.558,0.7869 -0.2126,0.6468 0.1401,1.3447 0.7872,1.5573 0.1987,0.0655 0.4028,0.0768 0.5956,0.0437 0.2611,0.6879 0.4788,1.4108 0.6222,2.1571 0.1743,0.9057 0.2381,1.8488 0.1363,2.81 -0.6551,-0.0238 -1.2974,0.1131 -1.8754,0.385 -0.3804,-0.7594 -0.8515,-1.4483 -1.3787,-2.0719 -0.5718,-0.6761 -1.2093,-1.2764 -1.8678,-1.8108 0.1721,-0.6293 -0.1783,-1.2906 -0.8047,-1.4964 -0.6475,-0.2129 -1.3454,0.1395 -1.558,0.7869 -0.2126,0.6469 0.1398,1.3445 0.7872,1.5574 0.4263,0.14 0.8742,0.0348 1.1917,-0.2381 0.6032,0.4946 1.1846,1.0471 1.7059,1.6631 0.5017,0.5938 0.949,1.2481 1.3056,1.9698 -0.3347,0.2372 -0.6363,0.5261 -0.8895,0.8591 -0.722,-0.4399 -1.4845,-0.7716 -2.26,-1.0207 -1.0528,-0.3376 -2.1306,-0.521 -3.1675,-0.6112 -0.1423,-0.282 -0.392,-0.5099 -0.716,-0.6165 -0.6474,-0.2126 -1.345,0.1397 -1.5579,0.7872 -0.2126,0.6468 0.1397,1.3444 0.7872,1.5573 0.6468,0.2126 1.3444,-0.1397 1.5573,-0.7866 0.0232,-0.0711 0.04,-0.1431 0.0499,-0.2151 0.9332,0.0912 1.8947,0.2627 2.8278,0.5618 0.7209,0.2313 1.4293,0.54 2.0997,0.9473 -0.0956,0.1863 -0.1772,0.3819 -0.2447,0.5865 -0.0924,0.2818 -0.1519,0.5667 -0.182,0.8504 -0.9141,0.1389 -1.7798,0.4071 -2.5908,0.7605 l -6e-4,0.002 c -0.9028,0.3931 -1.7373,0.8895 -2.4999,1.428 -0.085,-0.0547 -0.1785,-0.0995 -0.2795,-0.1326 -0.6474,-0.2126 -1.345,0.1397 -1.5579,0.7872 -0.2126,0.6468 0.1401,1.3444 0.7872,1.5573 0.6469,0.2126 1.3448,-0.1397 1.5574,-0.7866 0.0986,-0.3005 0.0759,-0.6114 -0.042,-0.8799 0.7143,-0.5 1.4902,-0.9595 2.3199,-1.3212 l 3e-4,0.001 c 0.7222,-0.3149 1.4893,-0.5578 2.2952,-0.6916 0.0312,0.4141 0.1264,0.8183 0.2783,1.1982 -0.7055,0.5051 -1.3223,1.0939 -1.8637,1.7294 -0.6931,0.8141 -1.2626,1.7033 -1.7354,2.594 -0.5431,-0.0298 -1.061,0.3053 -1.239,0.8472 -0.2129,0.6469 0.1397,1.3445 0.7871,1.5574 0.6469,0.2126 1.3445,-0.1397 1.5571,-0.7866 0.1692,-0.5148 -0.0193,-1.0619 -0.4289,-1.3708 0.4425,-0.8227 0.9695,-1.6388 1.6013,-2.3806 0.4816,-0.5652 1.0273,-1.0905 1.6464,-1.5457 0.2188,0.352 0.4918,0.6721 0.8118,0.9453 -0.4056,0.7988 -0.6854,1.6319 -0.8713,2.471 -0.2135,0.9646 -0.3019,1.938 -0.3147,2.88 -0.2837,0.1417 -0.5136,0.3932 -0.6205,0.7189 -0.2129,0.6468 0.1398,1.3444 0.7872,1.5573 0.6469,0.2126 1.3445,-0.1397 1.5571,-0.7866 0.2128,-0.6474 -0.1398,-1.3453 -0.7867,-1.5579 -0.0739,-0.0244 -0.1488,-0.0414 -0.2239,-0.051 0.0182,-0.8544 0.104,-1.7346 0.2971,-2.6048 0.1661,-0.7503 0.4124,-1.4941 0.7642,-2.2087 0.2429,0.1417 0.504,0.2599 0.7818,0.3512 0.2384,0.0785 0.4779,0.1335 0.7177,0.1666 0.0593,0.7623 0.2078,1.5007 0.4196,2.2077 0.3089,1.034 0.7531,2.0058 1.2517,2.8967 -0.0558,0.0867 -0.102,0.1814 -0.1357,0.2837 -0.2126,0.6469 0.14,1.3448 0.7874,1.5574 0.6466,0.2126 1.3445,-0.1398 1.5571,-0.7866 0.2129,-0.6475 -0.1398,-1.3451 -0.7866,-1.5577 -0.2951,-0.0972 -0.6007,-0.0765 -0.8663,0.036 -0.447,-0.8152 -0.8436,-1.6993 -1.1234,-2.6342 -0.1899,-0.6338 -0.3248,-1.292 -0.3849,-1.9689 0.4907,-0.0205 0.9689,-0.1296 1.4125,-0.3172 0.434,0.7656 0.9635,1.4499 1.548,2.0616 0.65,0.6803 1.368,1.2702 2.1008,1.785 -0.1327,0.6094 0.2143,1.2336 0.8206,1.4326 0.6469,0.2129 1.3445,-0.1397 1.5571,-0.7866 0.2128,-0.6474 -0.1398,-1.3451 -0.7867,-1.5576 -0.4498,-0.148 -0.9229,-0.0222 -1.2421,0.2845 -0.6789,-0.4807 -1.3399,-1.0275 -1.9349,-1.6497 -0.5406,-0.5658 -1.0293,-1.1977 -1.4312,-1.9035 0.547,-0.354 1.0122,-0.8407 1.3413,-1.4332 0.8544,0.4493 1.7498,0.7526 2.6513,0.9465 0.8917,0.1911 1.7906,0.277 2.6625,0.2945 0.1361,0.3099 0.3983,0.5633 0.7453,0.6775 0.6468,0.2126 1.3444,-0.14 1.557,-0.7869 0.2129,-0.6471 -0.1394,-1.345 -0.7863,-1.5576 -0.6474,-0.2129 -1.345,0.1397 -1.5579,0.7872 -0.0179,0.0541 -0.032,0.1091 -0.0417,0.1638 -0.7994,-0.0207 -1.6188,-0.102 -2.4296,-0.2764 -0.8557,-0.1845 -1.7036,-0.4719 -2.5098,-0.9014 l 0.0193,-0.0564 c 0.2098,-0.6384 0.2526,-1.2912 0.1525,-1.9117 0.8221,-0.1514 1.6042,-0.4059 2.3414,-0.7316 0.7674,-0.3382 1.4865,-0.7526 2.1541,-1.2036 0.0924,0.0624 0.1947,0.1134 0.3056,0.1497 0.6468,0.2126 1.3447,-0.1398 1.5573,-0.7866 0.2126,-0.6475 -0.1397,-1.3451 -0.7866,-1.5577 -0.6474,-0.2129 -1.345,0.1395 -1.5579,0.7869 -0.0953,0.2894 -0.0774,0.5893 0.03,0.8513 -0.6202,0.4161 -1.2855,0.7965 -1.9905,1.1072 -0.7021,0.3101 -1.4465,0.5505 -2.2286,0.6899 -0.1836,-0.5264 -0.4742,-1.0122 -0.8546,-1.4244 0.4714,-0.5414 0.9062,-1.0961 1.3014,-1.6639 0.5601,-0.8059 1.0414,-1.6399 1.4383,-2.5019 0.5145,-0.005 0.9924,-0.3325 1.1619,-0.8484 0.2126,-0.6471 -0.1397,-1.345 -0.7866,-1.5576 -0.6474,-0.2129 -1.345,0.1397 -1.5579,0.7872 -0.1775,0.5397 0.0388,1.1148 0.4915,1.4142 -0.3702,0.7897 -0.8167,1.5559 -1.3337,2.2994 -0.3767,0.5414 -0.7917,1.0718 -1.2438,1.5908 -0.349,-0.2644 -0.747,-0.4765 -1.1863,-0.621 z",fill:"#f07c00",fillRule:"evenodd"})]}),H("g",{children:[_("path",{d:"m 283.8214,416.3683 c 0.978,-5.5 -2.2317,-7.4389 -5.22,-7.2728 -3.4659,0.1922 -6.8099,3.221 -5.2287,8.202 -5.2141,-3.3633 -7.9484,0.3314 -8.3659,3.4478 -0.3943,2.943 1.8983,6.4406 6.0185,6.5897 -3.2786,3.6924 -2.2422,7.3619 0.3144,8.8095 2.7745,1.5713 6.9321,0.7121 8.8551,-3.6167 1.4411,4.1851 5.9292,3.7862 8.2803,2.967 2.4789,-2.0936 5.3569,-5.7821 -0.1894,-9.7327 4.8892,-0.0916 5.9307,-4.5618 4.7931,-7.8939 -1.3844,-2.7049 -4.1193,-4.2086 -9.2574,-1.4999 z",fill:"#ffcb00",fillRule:"evenodd"}),_("path",{d:"m 280.9602,421.1266 c -0.091,-0.0553 -0.1837,-0.1049 -0.2778,-0.1494 0.2517,-0.7223 0.371,-1.4593 0.3985,-2.1866 0.0233,-0.6052 -0.0181,-1.2051 -0.0992,-1.7836 0.125,-0.0731 0.2341,-0.1777 0.3146,-0.3101 0.2588,-0.4263 0.1231,-0.9822 -0.303,-1.2407 -0.4263,-0.2591 -0.9822,-0.1231 -1.241,0.3033 -0.2585,0.4257 -0.1227,0.9816 0.3036,1.2404 0.1307,0.0797 0.2744,0.1216 0.4173,0.1295 0.0722,0.5338 0.1077,1.0852 0.0867,1.6413 -0.0258,0.6744 -0.1363,1.3575 -0.3679,2.0259 -0.4632,-0.1253 -0.944,-0.134 -1.4009,-0.0357 -0.1454,-0.6046 -0.3674,-1.1735 -0.6401,-1.7056 -0.2956,-0.5766 -0.6508,-1.11 -1.0321,-1.6002 0.2271,-0.42 0.0865,-0.9496 -0.3262,-1.2001 -0.4264,-0.2588 -0.982,-0.1231 -1.241,0.3033 -0.2586,0.426 -0.1228,0.9819 0.3035,1.2407 0.281,0.1704 0.6177,0.1695 0.889,0.0275 0.3484,0.4524 0.6715,0.9425 0.9411,1.4681 0.2596,0.5065 0.4703,1.0471 0.6052,1.6205 -0.2781,0.1137 -0.5411,0.2696 -0.7767,0.4652 -0.4419,-0.4332 -0.9306,-0.7957 -1.4423,-1.1018 -0.6947,-0.4148 -1.4329,-0.724 -2.1571,-0.9599 -0.055,-0.2245 -0.1953,-0.4286 -0.4088,-0.5581 -0.4263,-0.2588 -0.9819,-0.123 -1.241,0.3033 -0.2585,0.4261 -0.1227,0.9819 0.3036,1.2407 0.426,0.2588 0.9819,0.1231 1.2404,-0.303 0.0284,-0.0468 0.0525,-0.0955 0.0712,-0.1451 0.6505,0.2197 1.3076,0.5009 1.9236,0.8688 0.4753,0.284 0.9295,0.6214 1.3399,1.0227 -0.0989,0.1171 -0.1893,0.243 -0.2713,0.3779 -0.1125,0.1854 -0.2021,0.3787 -0.2707,0.576 -0.6746,-0.0524 -1.3362,-0.004 -1.9729,0.1134 l -8e-4,0.001 c -0.7087,0.131 -1.3859,0.3467 -2.0186,0.6044 -0.0516,-0.053 -0.1111,-0.1004 -0.1774,-0.1406 -0.4264,-0.2588 -0.9822,-0.1231 -1.241,0.3033 -0.2586,0.426 -0.1228,0.9819 0.3035,1.2407 0.4261,0.2585 0.9817,0.1227 1.2405,-0.3033 0.1202,-0.1979 0.1553,-0.4232 0.1156,-0.6341 0.5922,-0.2381 1.2212,-0.4374 1.8729,-0.5579 l -3e-4,9e-4 c 0.5672,-0.1049 1.1543,-0.1511 1.7512,-0.1134 -0.0464,0.3007 -0.0453,0.6046 0,0.9006 -0.5867,0.2432 -1.1239,0.5609 -1.6149,0.9243 -0.629,0.466 -1.1823,1.0055 -1.6667,1.5625 -0.3824,-0.1111 -0.807,0.0422 -1.0236,0.3988 -0.2588,0.4261 -0.123,0.9819 0.3033,1.2407 0.426,0.2588 0.9819,0.1231 1.2404,-0.303 0.2058,-0.339 0.1622,-0.7602 -0.0788,-1.0482 0.4516,-0.5134 0.9624,-1.008 1.5356,-1.4324 0.4371,-0.3234 0.913,-0.6077 1.4298,-0.8297 0.0978,0.2872 0.2392,0.5607 0.4223,0.8085 -0.4215,0.5023 -0.7588,1.0502 -1.0304,1.6174 -0.3115,0.6525 -0.5357,1.332 -0.7007,2.0016 -0.2259,0.0538 -0.4314,0.1953 -0.5615,0.4096 -0.2588,0.426 -0.1228,0.9819 0.3035,1.2407 0.4261,0.2585 0.9817,0.1227 1.2405,-0.3033 0.2588,-0.4264 0.123,-0.9819 -0.303,-1.2407 -0.0488,-0.0298 -0.0995,-0.0542 -0.1514,-0.0735 0.1542,-0.6063 0.3614,-1.2194 0.6429,-1.8082 0.2426,-0.5074 0.5414,-0.9969 0.9105,-1.4482 0.1496,0.1412 0.3163,0.2687 0.4994,0.3798 0.1568,0.0953 0.3187,0.1744 0.4842,0.2376 -0.0842,0.5533 -0.1003,1.1044 -0.0663,1.6435 0.049,0.7886 0.2049,1.5548 0.413,2.2725 -0.0542,0.0525 -0.1026,0.1126 -0.1437,0.18 -0.2586,0.4258 -0.1228,0.9817 0.3036,1.2405 0.426,0.2588 0.9816,0.123 1.2404,-0.303 0.2588,-0.4264 0.123,-0.9822 -0.303,-1.241 -0.1945,-0.118 -0.4156,-0.154 -0.6237,-0.1177 -0.1839,-0.6551 -0.3203,-1.3513 -0.3648,-2.0639 -0.0306,-0.4836 -0.0181,-0.9751 0.0511,-1.4675 0.3534,0.0666 0.7123,0.0678 1.0598,0.008 0.1826,0.6176 0.4471,1.1931 0.7623,1.726 0.3509,0.5924 0.7653,1.1319 1.2024,1.6203 -0.1953,0.4124 -0.051,0.915 0.3481,1.1574 0.4261,0.2585 0.9817,0.1227 1.2405,-0.3034 0.2588,-0.4263 0.123,-0.9822 -0.3031,-1.2407 -0.2962,-0.18 -0.6545,-0.1686 -0.9329,-0.002 -0.4045,-0.4553 -0.7851,-0.9545 -1.1063,-1.4967 -0.292,-0.4927 -0.5358,-1.0242 -0.7056,-1.5939 0.4488,-0.1619 0.8609,-0.432 1.1934,-0.8 0.5349,0.4618 1.1234,0.8263 1.734,1.1135 0.604,0.284 1.2308,0.494 1.8496,0.6508 0.0456,0.2435 0.1908,0.4677 0.4192,0.6063 0.4261,0.2588 0.9817,0.1228 1.2405,-0.3033 0.2588,-0.4263 0.123,-0.9819 -0.303,-1.2407 -0.4264,-0.2588 -0.9823,-0.123 -1.2411,0.3033 -0.0218,0.0357 -0.0408,0.0729 -0.0569,0.11 -0.5664,-0.1468 -1.1373,-0.3404 -1.6864,-0.599 -0.5796,-0.2732 -1.1367,-0.6185 -1.6401,-1.0581 l 0.0227,-0.0369 c 0.2554,-0.4207 0.394,-0.879 0.4255,-1.3379 0.6111,0.028 1.2106,-0.0241 1.7903,-0.1341 0.603,-0.1143 1.1843,-0.2906 1.7351,-0.5018 0.0556,0.0599 0.1202,0.1131 0.1931,0.1574 0.426,0.2588 0.9819,0.1227 1.2404,-0.3031 0.2588,-0.4263 0.123,-0.9822 -0.303,-1.241 -0.4264,-0.2588 -0.9819,-0.123 -1.241,0.3033 -0.1157,0.1908 -0.1525,0.4077 -0.1194,0.6118 -0.5111,0.1941 -1.0485,0.3554 -1.6024,0.4603 -0.5519,0.1046 -1.1225,0.1531 -1.7033,0.123 -0.0437,-0.4059 -0.1707,-0.8002 -0.3736,-1.1571 0.4257,-0.3081 0.8277,-0.6315 1.2033,-0.9708 0.5329,-0.4819 1.0139,-0.997 1.4397,-1.5458 0.3673,0.082 0.7625,-0.0731 0.9686,-0.4127 0.2588,-0.4263 0.123,-0.9822 -0.303,-1.2407 -0.4264,-0.2588 -0.982,-0.123 -1.2411,0.3033 -0.2157,0.3555 -0.1567,0.8013 0.1166,1.0896 -0.3946,0.5018 -0.84,0.9743 -1.3315,1.4188 -0.3583,0.3237 -0.7421,0.6332 -1.1503,0.9286 -0.2049,-0.2466 -0.4535,-0.4635 -0.7429,-0.6392 z",fill:"#fab000",fillRule:"evenodd"}),_("path",{d:"m 280.0933,421.4563 c -0.0796,-0.0261 -0.1601,-0.048 -0.2404,-0.0652 0.0647,-0.6013 0.0247,-1.19 -0.0839,-1.7553 -0.0904,-0.4699 -0.2293,-0.9243 -0.3951,-1.3555 0.083,-0.0785 0.1482,-0.1786 0.1865,-0.2948 0.1233,-0.3747 -0.0808,-0.7784 -0.455,-0.9014 -0.3744,-0.123 -0.7781,0.0808 -0.9014,0.4555 -0.123,0.3742 0.0811,0.7778 0.4556,0.9009 0.1148,0.038 0.233,0.0445 0.3444,0.0252 0.1513,0.398 0.2769,0.8164 0.3603,1.2481 0.1006,0.5241 0.1377,1.0698 0.0788,1.6259 -0.379,-0.0138 -0.7509,0.0652 -1.0851,0.2229 -0.22,-0.4397 -0.4927,-0.838 -0.798,-1.1991 -0.3305,-0.3909 -0.6993,-0.7384 -1.0806,-1.0474 0.0998,-0.3643 -0.1031,-0.7469 -0.4654,-0.866 -0.3748,-0.123 -0.7784,0.0808 -0.9014,0.4553 -0.1231,0.3744 0.0808,0.7781 0.4555,0.9011 0.2466,0.0811 0.5057,0.0204 0.6894,-0.1378 0.3489,0.2863 0.6854,0.6058 0.987,0.9624 0.2903,0.3435 0.5491,0.722 0.7554,1.1395 -0.1939,0.1375 -0.3682,0.3045 -0.5147,0.4972 -0.4179,-0.2545 -0.8589,-0.4464 -1.3074,-0.5907 -0.6091,-0.1953 -1.2328,-0.3014 -1.8326,-0.3535 -0.0825,-0.163 -0.227,-0.2951 -0.4144,-0.3566 -0.3747,-0.1233 -0.7784,0.0808 -0.9014,0.4552 -0.123,0.3742 0.0808,0.7781 0.4555,0.9012 0.3742,0.123 0.7778,-0.0811 0.9009,-0.4553 0.0136,-0.0411 0.0232,-0.0827 0.0289,-0.1244 0.54,0.053 1.0961,0.1519 1.6361,0.3251 0.417,0.1338 0.8269,0.3124 1.2147,0.5482 -0.055,0.1078 -0.1024,0.2209 -0.1412,0.3393 -0.0536,0.163 -0.0881,0.3277 -0.1054,0.4919 -0.529,0.0805 -1.0299,0.2355 -1.499,0.4402 l -3e-4,8e-4 c -0.5224,0.2277 -1.0054,0.5148 -1.4465,0.8263 -0.0493,-0.0317 -0.1035,-0.0575 -0.1616,-0.0765 -0.3747,-0.1233 -0.7784,0.0808 -0.9014,0.4552 -0.123,0.3742 0.0808,0.7779 0.4555,0.9012 0.3742,0.123 0.7779,-0.0811 0.9009,-0.4553 0.0572,-0.1737 0.0439,-0.3537 -0.0244,-0.5091 0.4133,-0.2891 0.8623,-0.555 1.3425,-0.7642 v 6e-4 c 0.4178,-0.182 0.8617,-0.3226 1.328,-0.4 0.0182,0.2395 0.0732,0.4734 0.161,0.6934 -0.4082,0.2919 -0.765,0.6326 -1.0783,1.0003 -0.4011,0.4711 -0.7304,0.9856 -1.004,1.5009 -0.3144,-0.0172 -0.614,0.1766 -0.7169,0.4902 -0.123,0.3741 0.0808,0.7778 0.4553,0.9011 0.3744,0.123 0.7781,-0.0811 0.9011,-0.4553 0.0978,-0.2976 -0.0111,-0.6142 -0.2483,-0.7931 0.256,-0.4759 0.561,-0.9479 0.9266,-1.3771 0.2787,-0.3271 0.5942,-0.6309 0.9525,-0.8946 0.1267,0.2038 0.2846,0.3889 0.4697,0.5471 -0.2347,0.4621 -0.3966,0.9442 -0.5043,1.4298 -0.1233,0.5579 -0.1746,1.1211 -0.182,1.6662 -0.1641,0.0819 -0.2971,0.2274 -0.3589,0.4159 -0.123,0.3741 0.0808,0.7778 0.4553,0.9011 0.3744,0.123 0.7781,-0.0811 0.9011,-0.4553 0.123,-0.3744 -0.0808,-0.7783 -0.4552,-0.9014 -0.0428,-0.0139 -0.0862,-0.0238 -0.1296,-0.0295 0.0105,-0.4943 0.0604,-1.0034 0.1718,-1.5071 0.0961,-0.434 0.2387,-0.8643 0.4422,-1.2779 0.1406,0.0822 0.2917,0.1505 0.4524,0.2033 0.1378,0.0453 0.2764,0.0773 0.4153,0.0963 0.0343,0.4411 0.1202,0.8683 0.2426,1.2773 0.1789,0.5984 0.4357,1.1605 0.7243,1.6761 -0.0323,0.0502 -0.059,0.1049 -0.0785,0.1642 -0.123,0.3741 0.0811,0.7778 0.4555,0.9011 0.3742,0.123 0.7778,-0.0811 0.9009,-0.4552 0.1233,-0.3745 -0.0808,-0.7781 -0.455,-0.9012 -0.1706,-0.0561 -0.3475,-0.0442 -0.5012,0.0207 -0.2588,-0.4717 -0.4881,-0.983 -0.65,-1.5239 -0.1099,-0.3668 -0.1879,-0.7475 -0.2228,-1.1392 0.2841,-0.0119 0.5607,-0.0749 0.8173,-0.1834 0.2511,0.4427 0.5575,0.8387 0.8957,1.1925 0.3759,0.3937 0.7915,0.735 1.2152,1.0327 -0.0765,0.3526 0.1242,0.7137 0.4748,0.8291 0.3745,0.123 0.7781,-0.0808 0.9012,-0.4552 0.123,-0.3745 -0.0808,-0.7782 -0.4553,-0.9012 -0.2602,-0.0856 -0.534,-0.0127 -0.7186,0.1647 -0.3928,-0.2783 -0.7752,-0.5944 -1.1196,-0.9547 -0.3127,-0.3271 -0.5956,-0.6928 -0.828,-1.1012 0.3166,-0.2047 0.5856,-0.4865 0.7761,-0.8292 0.4943,0.26 1.0125,0.4354 1.5341,0.5477 0.5159,0.1105 1.0358,0.1601 1.5403,0.1703 0.0788,0.1792 0.2305,0.326 0.4312,0.3921 0.3742,0.123 0.7778,-0.0811 0.9008,-0.4553 0.1233,-0.3744 -0.0807,-0.7781 -0.4549,-0.9011 -0.3745,-0.1233 -0.7781,0.0808 -0.9014,0.4552 -0.0102,0.0315 -0.0185,0.0632 -0.0241,0.095 -0.4624,-0.0119 -0.9366,-0.059 -1.4054,-0.1599 -0.4953,-0.1068 -0.9859,-0.2732 -1.4522,-0.5216 l 0.011,-0.0326 c 0.1213,-0.3693 0.146,-0.7472 0.0882,-1.1063 0.4756,-0.0873 0.928,-0.2347 1.3547,-0.4232 0.4439,-0.1956 0.86,-0.4354 1.2463,-0.6962 0.0533,0.036 0.1129,0.0655 0.1769,0.0864 0.3742,0.1231 0.7779,-0.0808 0.9009,-0.4549 0.123,-0.3748 -0.0808,-0.7784 -0.455,-0.9014 -0.3747,-0.1231 -0.7784,0.0807 -0.9014,0.4555 -0.055,0.1672 -0.0448,0.341 0.0173,0.4924 -0.3589,0.2406 -0.7438,0.4609 -1.1514,0.6406 -0.4065,0.1794 -0.8371,0.3183 -1.2895,0.3991 -0.1063,-0.3044 -0.2747,-0.5856 -0.4947,-0.824 0.273,-0.3132 0.5244,-0.6344 0.7529,-0.9627 0.3243,-0.4663 0.6027,-0.949 0.8323,-1.4476 0.2976,-0.003 0.5743,-0.1925 0.6723,-0.4907 0.1231,-0.3747 -0.0807,-0.7784 -0.4552,-0.9014 -0.3745,-0.123 -0.7781,0.0808 -0.9011,0.4555 -0.1029,0.3121 0.0224,0.6449 0.2843,0.8181 -0.2143,0.4569 -0.4726,0.9003 -0.7719,1.3306 -0.2177,0.3132 -0.4581,0.6202 -0.7194,0.9204 -0.2019,-0.1531 -0.4323,-0.2758 -0.6866,-0.3594 z",fill:"#f07c00",fillRule:"evenodd"})]})]})}),!c.alreadyRead&&H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"absolute right-2 top-2 size-6",children:[_("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),_("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})]},h)}return H("div",{className:"relative my-2 h-[75vh] w-[50vw] overflow-hidden rounded-md",children:[H("svg",{className:"absolute left-0 top-0 z-[1] size-[55px]",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),H("svg",{className:"absolute right-0 top-0 z-[1] size-[55px] rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),H("svg",{className:"absolute bottom-0 right-0 z-[1] size-[55px] rotate-180",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),H("svg",{className:"absolute bottom-0 left-0 z-[1] size-[55px] -rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),_("div",{className:"relative grid h-[75vh] w-[50vw] grid-cols-4 overflow-auto border-black bg-red-400",children:s==="success"&&a()})]})}function qV(t){const{message:e,setMessage:n}=t;return _("div",{className:"fixed left-0 top-0 z-[2] flex size-full items-center justify-center bg-black/50",children:H("div",{className:"relative flex size-3/5 flex-col items-center justify-center overflow-auto rounded-md bg-red-400 opacity-100",children:[H("svg",{className:"absolute left-0 top-0 z-[1] size-[55px]",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),H("svg",{className:"absolute right-0 top-0 z-[1] size-[55px] rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),H("svg",{className:"absolute bottom-0 right-0 z-[1] size-[55px] rotate-180",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),H("svg",{className:"absolute bottom-0 left-0 z-[1] size-[55px] -rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"208.949 442.304 371.339 371.338",children:[_("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",d:"M 240.604 473.959 L 240.604 456.913 L 223.559 456.913 L 223.559 473.959 L 240.604 473.959 Z M 272.26 488.569 L 255.215 488.569 L 255.215 505.615 L 272.26 505.615 L 272.26 488.569 Z M 272.26 537.269 L 272.26 520.224 L 255.215 520.224 L 255.215 537.269 L 272.26 537.269 Z M 303.915 488.569 L 286.869 488.569 L 286.869 505.615 L 303.915 505.615 L 303.915 488.569 Z M 208.949 442.304 L 223.559 442.304 L 240.604 442.304 L 255.215 442.304 L 255.215 456.913 L 255.215 473.959 L 272.26 473.959 L 272.26 456.913 L 272.26 442.304 L 286.869 442.304 L 327.048 442.304 L 327.048 456.913 L 286.869 456.913 L 286.869 473.959 L 303.915 473.959 L 318.524 473.959 L 318.524 488.569 L 318.524 505.615 L 318.524 520.224 L 303.915 520.224 L 286.869 520.224 L 286.869 537.269 L 286.869 551.879 L 272.26 551.879 L 255.215 551.879 L 240.604 551.879 L 240.604 537.269 L 240.604 520.224 L 223.559 520.224 L 223.559 560.402 L 208.949 560.402 L 208.949 520.224 L 208.949 505.615 L 223.559 505.615 L 240.604 505.615 L 240.604 488.569 L 223.559 488.569 L 208.949 488.569 L 208.949 473.959 L 208.949 456.913 L 208.949 442.304 L 208.949 442.304 Z"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 615.189 208.949 600.579 208.949 560.402 223.559 560.402 223.559 600.579 240.604 600.579 240.604 583.535 240.604 568.924 255.215 568.924 272.26 568.924 286.869 568.924 286.869 583.535 286.869 663.89 286.869 678.499 272.26 678.499 255.215 678.499 240.604 678.499 240.604 663.89 240.604 646.845 223.559 646.845 223.559 687.022 208.949 687.022 208.949 646.845 208.949 632.234 223.559 632.234 240.604 632.234 255.215 632.234 255.215 646.845 255.215 663.89 272.26 663.89 272.26 583.535 255.215 583.535 255.215 600.579 255.215 615.189 240.604 615.189 223.559 615.189"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"208.949 741.81 208.949 727.2 208.949 687.023 223.559 687.023 223.559 727.2 240.604 727.2 240.604 710.155 240.604 695.544 255.215 695.544 272.26 695.544 286.869 695.544 286.869 710.155 286.869 790.509 286.869 805.12 272.26 805.12 255.215 805.12 240.604 805.12 240.604 790.509 240.604 773.464 223.559 773.464 223.559 813.642 208.949 813.642 208.949 773.464 208.949 758.855 223.559 758.855 240.604 758.855 255.215 758.855 255.215 773.464 255.215 790.509 272.26 790.509 272.26 710.155 255.215 710.155 255.215 727.2 255.215 741.81 240.604 741.81 223.559 741.81"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"381.835 442.304 367.225 442.304 327.048 442.304 327.048 456.913 367.225 456.913 367.225 473.959 350.18 473.959 335.57 473.959 335.57 488.569 335.57 505.615 335.57 520.224 350.18 520.224 430.535 520.224 445.145 520.224 445.145 505.615 445.145 488.569 445.145 473.959 430.535 473.959 413.49 473.959 413.49 456.913 453.668 456.913 453.668 442.304 413.49 442.304 398.88 442.304 398.88 456.913 398.88 473.959 398.88 488.569 413.49 488.569 430.535 488.569 430.535 505.615 350.18 505.615 350.18 488.569 367.225 488.569 381.835 488.569 381.835 473.959 381.835 456.913"}),_("polygon",{fillRule:"evenodd",clipRule:"evenodd",fill:"#facc15",points:"508.455 442.304 493.846 442.304 453.668 442.304 453.668 456.913 493.846 456.913 493.846 473.959 476.801 473.959 462.19 473.959 462.19 488.569 462.19 505.615 462.19 520.224 476.801 520.224 557.155 520.224 571.766 520.224 571.766 505.615 571.766 488.569 571.766 473.959 557.155 473.959 540.11 473.959 540.11 456.913 580.288 456.913 580.288 442.304 540.11 442.304 525.5 442.304 525.5 456.913 525.5 473.959 525.5 488.569 540.11 488.569 557.155 488.569 557.155 505.615 476.801 505.615 476.801 488.569 493.846 488.569 508.455 488.569 508.455 473.959 508.455 456.913"})]}),_("p",{className:"flex h-4/5 max-w-full flex-col justify-center break-words px-5 text-center font-bold text-textgrey sm:my-1 sm:text-xl md:my-2 md:text-2xl lg:my-5 lg:text-3xl",children:e}),_("button",{type:"button",className:"absolute right-5 top-5 z-[3] inline-flex items-center justify-center rounded-md bg-red-500 p-2 text-textgrey focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>n(""),children:_("svg",{className:"size-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:_("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})}function KV(){const t=$s(),{status:e,data:n}=G$(),r=Wu().data,[i,s]=k.useState("");if(e==="loading")return _(B4,{});{n.signedIn||t("/login");const o=`${window.location.origin}/jsi14-cringe/sendmessage/${r==null?void 0:r.uid}`;return _(ml,{children:H("div",{className:"flex h-screen w-screen flex-col",children:[_(I0,{title:"Lời chúc tết"}),H("div",{className:"flex grow flex-col items-center justify-center bg-cover",children:[_(HV,{inboxLink:o}),_(WV,{setMessage:s}),i!==""&&_(qV,{message:i,setMessage:s})]})]})})}}const GV=[];function QV(){const t=$s(),{status:e,data:n}=Wu();return e==="loading"?_(B4,{}):(n&&t("/dashboard"),H(ml,{children:[_("div",{children:H("div",{className:"flex flex-col bg-red-300",children:[_(I0,{title:"Trang chủ",links:GV}),H("div",{className:"text-center tracking-widest",children:[_("p",{className:"mt-16 text-3xl font-medium text-textyellow",children:"CÁC BƯỚC ĐỂ NHẬN"}),_("p",{className:"mt-4 text-5xl font-semibold text-red-600",children:"THIỆP CHÚC TẾT"}),_("br",{}),_("hr",{className:"m-auto h-px max-w-4xl border-0 bg-gray-200 dark:bg-black"})]}),H("div",{className:"mx-auto w-4/5",children:[_("br",{}),_("br",{}),_("p",{className:"pb-2 text-3xl",children:"1. Đăng Ký/Đăng Nhập Tài Khoản"}),_("p",{className:"text-2xl",children:"Đầu tiên các bạn ấn vào nút đăng nhập bên trên phía phải của trang web. Sau đó đăng nhập tài khoản, nếu chưa có thì ấn vào mục đăng ký."}),_("br",{}),_("img",{className:"mx-auto w-4/6 rounded-2xl border-1 border-black",src:"https://scontent-sin6-1.xx.fbcdn.net/v/t1.15752-9/331103554_1225341004748904_3915740838392289158_n.png?_nc_cat=107&ccb=1-7&_nc_sid=ae9488&_nc_ohc=lh96cs23UP8AX88NtIc&_nc_oc=AQlEuFKFKvtlYFV8UlZPzhjdFSzK_yb1oLasYM4GYYAy4f9kp6RpQRV5KAQWm0_L-ko&_nc_ht=scontent-sin6-1.xx&oh=03_AdTl6YsSUcbvidxuHxMInaa4i3lQqJeM0n_1W0zquYRvDQ&oe=64130D6C"}),_("br",{}),_("img",{className:"mx-auto w-4/6 rounded-2xl border-1 border-black",src:"https://scontent-sin6-1.xx.fbcdn.net/v/t1.15752-9/331156667_6287175928005469_417759695961086300_n.png?_nc_cat=111&ccb=1-7&_nc_sid=ae9488&_nc_ohc=3UONN7gBOZgAX_Px6VQ&tn=KHkTtSalEX58tRRD&_nc_ht=scontent-sin6-1.xx&oh=03_AdREmB49vacpL0YZVb6c_rWTL8fcNw63W-xBxjmYIo8BsA&oe=641310FA"}),_("br",{}),_("br",{}),_("p",{className:"pb-2 text-3xl",children:"2. Lấy Link Từ Trang Dashboard"}),_("p",{className:"text-2xl",children:"Sau đó các bạn vào trang Dashboard và ấn vào nút màu xanh để sao chép link."}),_("br",{}),_("img",{className:"mx-auto w-4/6 rounded-2xl border-1 border-black",src:"https://scontent-sin6-3.xx.fbcdn.net/v/t1.15752-9/331169006_1132923977402938_7070325821761717989_n.png?_nc_cat=106&ccb=1-7&_nc_sid=ae9488&_nc_ohc=buNBoRs4J5AAX-hDeRF&_nc_ht=scontent-sin6-3.xx&oh=03_AdQJqyDumQzd2ZtZ9xgw_ORtzO3rDpMJ9cxVcq7DF436Xg&oe=6412FEAD"}),_("br",{}),_("br",{}),_("p",{className:"pb-2 text-3xl",children:"3. Viết Lời Chúc"}),_("p",{className:"text-2xl",children:"Sau khi sao chép link, các bạn dán nó sang một trang khác rồi viết lời bạn muốn nói người khác và nhấn nút để gửi."}),_("br",{}),_("img",{className:"mx-auto w-4/6 rounded-2xl border-1 border-black",src:"https://scontent.fhan5-1.fna.fbcdn.net/v/t1.15752-9/331226441_564760775715578_4625775485136862666_n.png?_nc_cat=100&ccb=1-7&_nc_sid=ae9488&_nc_ohc=7RuVkVftaYgAX9SgJaT&_nc_oc=AQnXj42-zdTJaS_K7eW6xTnvUspx8HLUf6l9WGRQAz1VnIRri3oHAVBF1weY2HQXY9U&_nc_ht=scontent.fhan5-1.fna&oh=03_AdRHRrDRtd1Svm2y-R2HvBdxT2I4Y7adGIeZUgmfvWtmzQ&oe=64131923"}),_("br",{}),_("br",{}),_("p",{className:"pb-2 text-3xl",children:"4. Đăng Link Lên Mạng Xã Hội"}),_("p",{className:"text-2xl",children:"Cuối cùng các bạn chỉ cần đăng tải đường link lên trang mạng xã hội và kêu gọi người vào gửi lời chúc Tết. Như vậy là hoàn thành, chúc các bạn thành công."}),_("br",{}),_("img",{className:"mx-auto w-4/6 rounded-2xl border-1 border-black",src:"https://scontent.fhan5-9.fna.fbcdn.net/v/t1.15752-9/330660726_3548118775421366_3585495675821649332_n.png?_nc_cat=109&ccb=1-7&_nc_sid=ae9488&_nc_eui2=AeHcw4F6qHFFZH7o1KWmU7Ur2n7LJxJ5RwXafssnEnlHBUxWwF_Sxrm-u4WN9jlmU-E-3M-AF39n0AUKwWGXLer0&_nc_ohc=nFWHH5S6NfcAX-D6g3M&_nc_ht=scontent.fhan5-9.fna&oh=03_AdR0m2hcSHugoBsMgUwEaWdhaVH-Fs2DRxUTRqa9fjT2SQ&oe=6411CC9D"}),_("br",{}),_("br",{}),_("br",{})]})]})}),H("footer",{className:"border-t-1 border-black bg-white p-4 sm:p-6 dark:bg-red-500",children:[H("div",{className:"md:flex md:justify-between",children:[_("div",{className:"mb-6 md:mb-0",children:H("a",{href:"#",className:"flex items-center",children:[_("img",{src:"https://media-public.canva.com/rEYeM/MAFS1MrEYeM/1/tl.png",className:"mr-3 h-8",alt:"Cat Logo"}),_("span",{className:"self-center whitespace-nowrap text-2xl font-semibold dark:text-textyellow",children:"Lời chúc tết"})]})}),H("div",{className:"grid grid-cols-2 gap-8 sm:grid-cols-3 sm:gap-6",children:[H("div",{children:[_("h2",{className:"mb-6 text-sm font-semibold dark:text-textyellow",children:"Resources"}),H("ul",{className:"dark:text-white",children:[_("li",{className:"mb-4",children:_("a",{href:"#",className:"hover:underline",children:"LT"})}),_("li",{children:_("a",{href:"https://tailwindcss.com/",className:"hover:underline",children:"Tailwind CSS"})})]})]}),H("div",{children:[_("h2",{className:"mb-6 text-sm font-semibold dark:text-textyellow",children:"Follow us"}),H("ul",{className:"dark:text-white",children:[_("li",{className:"mb-4",children:_("a",{href:"https://github.com/longlinh123456/jsi14-cringe",className:"hover:underline ",children:"Github"})}),_("li",{children:_("a",{href:"https://discord.com",className:"hover:underline",children:"Discord"})})]})]}),H("div",{children:[_("h2",{className:"mb-6 text-sm font-semibold  dark:text-textyellow",children:"Legal"}),H("ul",{className:" dark:text-white",children:[_("li",{className:"mb-4",children:_("a",{href:"#",className:"hover:underline",children:"Privacy Policy"})}),_("li",{children:_("a",{href:"#",className:"hover:underline",children:"Terms & Conditions"})})]})]})]})]}),_("hr",{className:"my-6 border-gray-200 sm:mx-auto lg:my-8 dark:border-black"}),H("div",{className:"sm:flex sm:items-center sm:justify-between",children:[H("span",{className:" dark:text-textyellow",children:["© 2023 ",_("a",{href:"#",className:"hover:underline",children:"LT™"}),". All Rights Reserved."]}),H("div",{className:"mt-4 flex space-x-6 sm:mt-0 sm:justify-center",children:[H("a",{href:"#",className:"text-blue-500 ",children:[_("svg",{className:"size-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:_("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),_("span",{className:"sr-only",children:"Facebook page"})]}),H("a",{href:"#",className:"text-fuchsia-600 ",children:[_("svg",{className:"size-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:_("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),_("span",{className:"sr-only",children:"Instagram page"})]}),H("a",{href:"#",className:"text-sky-500 ",children:[_("svg",{className:"size-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:_("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})}),_("span",{className:"sr-only",children:"Twitter page"})]}),H("a",{href:"#",className:"text-black-500 ",children:[_("svg",{className:"size-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:_("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),_("span",{className:"sr-only",children:"GitHub account"})]}),H("a",{href:"#",className:"text-orange-500 ",children:[_("svg",{className:"size-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:_("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c5.51 0 10-4.48 10-10S17.51 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.95-4.675-3.189-5A8.687 8.687 0 0112 3.475zm-3.633.803a53.896 53.896 0 013.167 4.935c-3.992 1.063-7.517 1.04-7.896 1.04a8.581 8.581 0 014.729-5.975zM3.453 12.01v-.26c.37.01 4.512.065 8.775-1.215.25.477.477.965.694 1.453-.109.033-.228.065-.336.098-4.404 1.42-6.747 5.303-6.942 5.629a8.522 8.522 0 01-2.19-5.705zM12 20.547a8.482 8.482 0 01-5.239-1.8c.152-.315 1.888-3.656 6.703-5.337.022-.01.033-.01.054-.022a35.318 35.318 0 011.823 6.475 8.4 8.4 0 01-3.341.684zm4.761-1.465c-.086-.52-.542-3.015-1.659-6.084 2.679-.423 5.022.271 5.314.369a8.468 8.468 0 01-3.655 5.715z",clipRule:"evenodd"})}),_("span",{className:"sr-only",children:"Dribbbel account"})]})]})]})]})]}))}function hC(t){const{title:e,buttonText:n,isInLogin:r,onButtonPress:i}=t,[s,o]=k.useState(""),[a,l]=k.useState(""),[u,c]=k.useState("");return _("div",{children:H("form",{autoComplete:"off",className:"w-full max-w-[600px] rounded-lg bg-white p-10 shadow-input","aria-label":"signup-form",children:[_("h2",{className:"mb-10 text-center text-3xl font-bold",children:e}),H("div",{className:"mb-5 flex flex-col items-start gap-y-3",children:[_("label",{htmlFor:"email",className:"cursor-pointer text-sm font-medium",children:"Email"}),_("input",{id:"email",type:"email",className:"w-full rounded-lg border border-gray-200 bg-transparent p-4 outline-none",placeholder:"Nhập địa chỉ email",value:s,onChange:h=>o(h.target.value)})]}),H("div",{className:"mb-5 flex flex-col items-start gap-y-3",children:[_("label",{htmlFor:"password",className:"cursor-pointer text-sm font-medium",children:"Mật khẩu"}),_("input",{id:"password",type:"password",className:"w-full rounded-lg border border-gray-200 bg-transparent p-4 outline-none",placeholder:"Nhập mật khẩu",value:a,onChange:h=>l(h.target.value)})]}),!r&&_("div",{className:"mb-5 flex flex-col items-start gap-y-3",children:_("input",{id:"confirmPassword",type:"password",className:"w-full rounded-lg border border-gray-200 bg-transparent p-4 outline-none",placeholder:"Nhập lại mật khẩu",value:u,onChange:h=>c(h.target.value)})}),_("div",{className:"mb-5 flex items-center justify-end text-slate-400",children:r?H(ml,{children:[_("p",{children:"Bạn chưa có tài khoản? "}),_(Bp,{className:"text-textblue",to:"/signup",children:"Đăng ký"})]}):H(ml,{children:[_("p",{children:"Bạn đã có tài khoản? "}),_(Bp,{className:"text-textblue",to:"/login",children:"Đăng nhập"})]})}),_("button",{type:"button",className:"inline-flex h-[60px] w-full items-center justify-center rounded-lg bg-blue-500 px-8 py-4 font-sans font-semibold tracking-wide text-white hover:bg-blue-400",onClick:()=>{if(r||a===u){i(s,a);return}else alert("Mật khẩu được nhập lại không trùng khớp")},children:n})]})})}const YV=new Gn;function XV(){const t=ma();async function e(){await m8(t,YV)}async function n(r,i){try{await RR(t,r,i)}catch(s){alert(`Đăng nhập thất bại, lỗi: ${s.code}`)}}return H("div",{className:"flex flex-col items-center justify-center",children:[_("div",{className:"flex w-screen flex-1 flex-row items-center justify-center gap-x-5 py-4",children:_("div",{className:"w-2/5",children:_(hC,{title:"Đăng nhập",buttonText:"Đăng nhập",isInLogin:!0,onButtonPress:n})})}),H("div",{onClick:e,className:"flex h-[75px] cursor-pointer flex-row items-center justify-center gap-x-3 rounded-lg bg-blue-400 px-5 font-sans text-lg font-semibold tracking-wide text-white hover:bg-blue-300",children:[H("svg",{className:"h-3/5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"none",children:[_("path",{d:"M30.0014 16.3109C30.0014 15.1598 29.9061 14.3198 29.6998 13.4487H16.2871V18.6442H24.1601C24.0014 19.9354 23.1442 21.8798 21.2394 23.1864L21.2127 23.3604L25.4536 26.58L25.7474 26.6087C28.4458 24.1665 30.0014 20.5731 30.0014 16.3109Z",fill:"#4285F4"}),_("path",{d:"M16.2863 29.9998C20.1434 29.9998 23.3814 28.7553 25.7466 26.6086L21.2386 23.1863C20.0323 24.0108 18.4132 24.5863 16.2863 24.5863C12.5086 24.5863 9.30225 22.1441 8.15929 18.7686L7.99176 18.7825L3.58208 22.127L3.52441 22.2841C5.87359 26.8574 10.699 29.9998 16.2863 29.9998Z",fill:"#34A853"}),_("path",{d:"M8.15964 18.769C7.85806 17.8979 7.68352 16.9645 7.68352 16.0001C7.68352 15.0356 7.85806 14.1023 8.14377 13.2312L8.13578 13.0456L3.67083 9.64746L3.52475 9.71556C2.55654 11.6134 2.00098 13.7445 2.00098 16.0001C2.00098 18.2556 2.55654 20.3867 3.52475 22.2845L8.15964 18.769Z",fill:"#FBBC05"}),_("path",{d:"M16.2864 7.4133C18.9689 7.4133 20.7784 8.54885 21.8102 9.4978L25.8419 5.64C23.3658 3.38445 20.1435 2 16.2864 2C10.699 2 5.8736 5.1422 3.52441 9.71549L8.14345 13.2311C9.30229 9.85555 12.5086 7.4133 16.2864 7.4133Z",fill:"#EB4335"})]}),_("h2",{children:"Đăng nhập với Google"})]})]})}const JV=[{display:"Trang chủ",navigateTo:"/"}];function ZV(){const t=$s(),{status:e,data:n}=Wu();return e==="loading"?_("div",{"aria-label":"loading-skeleton",className:"size-full animate-pulse bg-slate-200"}):(n&&t("/dashboard"),H("div",{className:"flex h-screen w-screen flex-col",children:[_(I0,{title:"Đăng nhập",links:JV}),_("div",{className:"flex grow items-center justify-center bg-red-400",children:_(XV,{})})]}))}const ez=new Gn;function tz(){const t=ma();async function e(){await m8(t,ez)}return H("div",{className:"flex flex-col items-center justify-center",children:[_("div",{className:"flex w-screen flex-1 flex-row items-center justify-center gap-x-5 py-4",children:_("div",{className:"w-2/5",children:_(hC,{title:"Đăng ký",buttonText:"Tạo tài khoản",isInLogin:!1,onButtonPress:async(r,i)=>{try{await kR(t,r,i)}catch(s){alert(`Đăng ký thất bại, lỗi: ${s.code}`)}}})})}),H("div",{onClick:e,className:"flex h-[75px] cursor-pointer flex-row items-center justify-center gap-x-3 rounded-lg bg-blue-400 px-5 font-sans text-lg font-semibold tracking-wide text-white hover:bg-blue-300",children:[H("svg",{className:"h-3/5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"none",children:[_("path",{d:"M30.0014 16.3109C30.0014 15.1598 29.9061 14.3198 29.6998 13.4487H16.2871V18.6442H24.1601C24.0014 19.9354 23.1442 21.8798 21.2394 23.1864L21.2127 23.3604L25.4536 26.58L25.7474 26.6087C28.4458 24.1665 30.0014 20.5731 30.0014 16.3109Z",fill:"#4285F4"}),_("path",{d:"M16.2863 29.9998C20.1434 29.9998 23.3814 28.7553 25.7466 26.6086L21.2386 23.1863C20.0323 24.0108 18.4132 24.5863 16.2863 24.5863C12.5086 24.5863 9.30225 22.1441 8.15929 18.7686L7.99176 18.7825L3.58208 22.127L3.52441 22.2841C5.87359 26.8574 10.699 29.9998 16.2863 29.9998Z",fill:"#34A853"}),_("path",{d:"M8.15964 18.769C7.85806 17.8979 7.68352 16.9645 7.68352 16.0001C7.68352 15.0356 7.85806 14.1023 8.14377 13.2312L8.13578 13.0456L3.67083 9.64746L3.52475 9.71556C2.55654 11.6134 2.00098 13.7445 2.00098 16.0001C2.00098 18.2556 2.55654 20.3867 3.52475 22.2845L8.15964 18.769Z",fill:"#FBBC05"}),_("path",{d:"M16.2864 7.4133C18.9689 7.4133 20.7784 8.54885 21.8102 9.4978L25.8419 5.64C23.3658 3.38445 20.1435 2 16.2864 2C10.699 2 5.8736 5.1422 3.52441 9.71549L8.14345 13.2311C9.30229 9.85555 12.5086 7.4133 16.2864 7.4133Z",fill:"#EB4335"})]}),_("h2",{children:"Đăng nhập với Google"})]})]})}const nz=[{display:"Trang chủ",navigateTo:"/"}];function rz(){const t=$s(),{status:e,data:n}=Wu();return e==="loading"?_("div",{"aria-label":"loading-skeleton",className:"size-full animate-pulse bg-slate-200"}):(n&&t("/dashboard"),H("div",{className:"flex h-screen w-screen flex-col",children:[_(I0,{title:"Đăng ký",links:nz}),_("div",{className:"flex grow items-center justify-center bg-red-400",children:_(tz,{})})]}))}const iz=RV([{path:"login",element:_(ZV,{})},{path:"dashboard",element:_(KV,{})},{path:"signup",element:_(rz,{})},{path:"sendmessage/:uid",element:_(BV,{})},{path:"*",element:_(QV,{})}],{basename:"/jsi14-final"});function sz(){const t=HE(),e=BM(t),n=UL(t);return _(oU,{sdk:e,children:_(sU,{sdk:n,children:_(OV,{router:iz})})})}const oz={apiKey:"AIzaSyBMBzuHpzs8nrhbD7zg8AH4Z0rNPtg1y-g",authDomain:"contest-a2d5c.firebaseapp.com",projectId:"contest-a2d5c",storageBucket:"contest-a2d5c.appspot.com",messagingSenderId:"228098169786",appId:"1:228098169786:web:e6c2ffbd5d81e3bf7fdb83"};Hf.createRoot(document.getElementById("root")).render(_(p6.StrictMode,{children:_(q$,{firebaseConfig:oz,children:_(sz,{})})}));
